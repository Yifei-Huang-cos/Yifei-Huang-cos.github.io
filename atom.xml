<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>é»„é€¸é£çš„ä¸ªäººåšå®¢</title>
  
  
  <link href="https://yifei-huang-cos.github.io/atom.xml" rel="self"/>
  
  <link href="https://yifei-huang-cos.github.io/"/>
  <updated>2026-02-10T04:44:48.848Z</updated>
  <id>https://yifei-huang-cos.github.io/</id>
  
  <author>
    <name>é»„é€¸é£</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ä»0æ­å»ºå¤šæ¨¡æ€èŠå¤©æœºå™¨äºº</title>
    <link href="https://yifei-huang-cos.github.io/posts/50b3b349/"/>
    <id>https://yifei-huang-cos.github.io/posts/50b3b349/</id>
    <published>2026-02-09T16:00:00.000Z</published>
    <updated>2026-02-10T04:44:48.848Z</updated>
    
    <content type="html"><![CDATA[<hr><h1 id="ä»é›¶æ­å»ºå¤šæ¨¡æ€èŠå¤©æœºå™¨äºº"><a href="#ä»é›¶æ­å»ºå¤šæ¨¡æ€èŠå¤©æœºå™¨äºº" class="headerlink" title="ä»é›¶æ­å»ºå¤šæ¨¡æ€èŠå¤©æœºå™¨äºº"></a>ä»é›¶æ­å»ºå¤šæ¨¡æ€èŠå¤©æœºå™¨äºº</h1><p><strong>ç›®æ ‡</strong>ï¼šæ„å»ºä¸€ä¸ªæ”¯æŒè¯­éŸ³ã€å›¾ç‰‡å’Œæ–‡å­—è¾“å…¥çš„èŠå¤©æœºå™¨äººï¼Œå…·å¤‡ç®€æ˜“Webå‰ç«¯å’Œä¸Šä¸‹æ–‡è®°å¿†åŠŸèƒ½ã€‚</p><h2 id="ä¸€ã€ç¯å¢ƒå‡†å¤‡"><a href="#ä¸€ã€ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ä¸€ã€ç¯å¢ƒå‡†å¤‡"></a>ä¸€ã€ç¯å¢ƒå‡†å¤‡</h2><h3 id="1-æ¨¡å‹é€‰æ‹©ä¸éƒ¨ç½²"><a href="#1-æ¨¡å‹é€‰æ‹©ä¸éƒ¨ç½²" class="headerlink" title="1. æ¨¡å‹é€‰æ‹©ä¸éƒ¨ç½²"></a>1. æ¨¡å‹é€‰æ‹©ä¸éƒ¨ç½²</h3><p>æˆ‘ä»¬é€‰æ‹©<strong>Qwen-2.5-Omni-3B</strong>æ¨¡å‹ï¼Œè¿™æ˜¯ä¸€ä¸ªæ”¯æŒå¤šæ¨¡æ€è¾“å…¥çš„å¼€æºæ¨¡å‹ã€‚å¯ä»¥é€‰æ‹©ï¼š</p><ul><li><strong>ç§æœ‰åŒ–éƒ¨ç½²</strong>ï¼šåªéœ€åœ¨ä¸€å¼ 4090æ˜¾å¡ï¼ˆ24Gæ˜¾å­˜ä»¥ä¸Šï¼‰ä¸Šéƒ¨ç½²</li><li><strong>APIè°ƒç”¨</strong>ï¼ˆé™„å½•æä¾›æ–¹æ³•ï¼‰</li></ul><blockquote><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœæ‚¨å·²ç†Ÿæ‚‰æ¨¡å‹éƒ¨ç½²ï¼Œå¯è·³è¿‡ä¸‹é¢ä¸€æ®µ</p></blockquote><blockquote><h3 id="2-æœåŠ¡å™¨è¿æ¥ä¸é…ç½®"><a href="#2-æœåŠ¡å™¨è¿æ¥ä¸é…ç½®" class="headerlink" title="2. æœåŠ¡å™¨è¿æ¥ä¸é…ç½®"></a>2. æœåŠ¡å™¨è¿æ¥ä¸é…ç½®</h3><h4 id="æ–¹æ³•ä¸€ï¼šä½¿ç”¨PyCharm-SSHè¿æ¥"><a href="#æ–¹æ³•ä¸€ï¼šä½¿ç”¨PyCharm-SSHè¿æ¥" class="headerlink" title="æ–¹æ³•ä¸€ï¼šä½¿ç”¨PyCharm SSHè¿æ¥"></a>æ–¹æ³•ä¸€ï¼šä½¿ç”¨PyCharm SSHè¿æ¥</h4><ol><li>æ‰“å¼€PyCharmï¼š<code>è®¾ç½® â†’ Pythonè§£é‡Šå™¨ â†’ æ·»åŠ è§£é‡Šå™¨ â†’ åŸºäºSSH</code></li><li>è¾“å…¥æœåŠ¡å™¨IPã€ç”¨æˆ·åå’Œå¯†é’¥æ–‡ä»¶</li></ol><h4 id="æ–¹æ³•äºŒï¼šç›´æ¥ä½¿ç”¨æœåŠ¡å™¨ç»ˆç«¯"><a href="#æ–¹æ³•äºŒï¼šç›´æ¥ä½¿ç”¨æœåŠ¡å™¨ç»ˆç«¯" class="headerlink" title="æ–¹æ³•äºŒï¼šç›´æ¥ä½¿ç”¨æœåŠ¡å™¨ç»ˆç«¯"></a>æ–¹æ³•äºŒï¼šç›´æ¥ä½¿ç”¨æœåŠ¡å™¨ç»ˆç«¯</h4><h3 id="3-å®‰è£…ä¾èµ–åŒ…"><a href="#3-å®‰è£…ä¾èµ–åŒ…" class="headerlink" title="3. å®‰è£…ä¾èµ–åŒ…"></a>3. å®‰è£…ä¾èµ–åŒ…</h3><p>åœ¨æœåŠ¡å™¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¸å¿ƒä¾èµ–</span></span><br><span class="line">pip install langchain langchain_openai langchain_community</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¨¡å‹éƒ¨ç½²ä¸æ¨ç†</span></span><br><span class="line">pip install vllm vllm[audio]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¨¡å‹ä¸‹è½½</span></span><br><span class="line">pip install modelscope</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‰ç«¯ä¸å·¥å…·</span></span><br><span class="line">pip install gradio pillow pydub sqlalchemy</span><br></pre></td></tr></table></figure><h3 id="4-ä¸‹è½½æ¨¡å‹"><a href="#4-ä¸‹è½½æ¨¡å‹" class="headerlink" title="4. ä¸‹è½½æ¨¡å‹"></a>4. ä¸‹è½½æ¨¡å‹</h3><p>åˆ›å»º <code>download_model.py</code> æ–‡ä»¶ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> modelscope <span class="keyword">import</span> snapshot_download</span><br><span class="line"></span><br><span class="line">model_dir = snapshot_download(<span class="string">&#x27;Qwen/Qwen2.5-Omni-3B&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æ¨¡å‹ä¸‹è½½å®Œæˆï¼Œä¿å­˜è‡³: <span class="subst">&#123;model_dir&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¿è¡Œåç­‰å¾…çº¦10åˆ†é’Ÿå®Œæˆä¸‹è½½ã€‚</p><h3 id="5-å¯åŠ¨æ¨¡å‹æœåŠ¡"><a href="#5-å¯åŠ¨æ¨¡å‹æœåŠ¡" class="headerlink" title="5. å¯åŠ¨æ¨¡å‹æœåŠ¡"></a>5. å¯åŠ¨æ¨¡å‹æœåŠ¡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">python -m vllm.entrypoints.openai.api_server \</span><br><span class="line">  --model /path/to/Qwen2.5-Omni-3B \  <span class="comment"># æ›¿æ¢ä¸ºæ‚¨çš„å®é™…è·¯å¾„</span></span><br><span class="line">  --served-model-name qwen2.5-omni-3b \</span><br><span class="line">  --max-model-len 8192 \</span><br><span class="line">  --host 0.0.0.0 \</span><br><span class="line">  --port 6006 \</span><br><span class="line">  --dtype auto \</span><br><span class="line">  --gpu-memory-utilization 0.9 \</span><br><span class="line">  --enable-auto-tool-choice</span><br></pre></td></tr></table></figure><p><strong>éªŒè¯</strong>ï¼šè®¿é—® <code>http://æœåŠ¡å™¨IP:6006/docs</code> æŸ¥çœ‹APIæ–‡æ¡£ã€‚</p></blockquote><hr><h2 id="äºŒã€é¡¹ç›®æ„å»º"><a href="#äºŒã€é¡¹ç›®æ„å»º" class="headerlink" title="äºŒã€é¡¹ç›®æ„å»º"></a>äºŒã€é¡¹ç›®æ„å»º</h2><h3 id="1-é¡¹ç›®ç»“æ„"><a href="#1-é¡¹ç›®ç»“æ„" class="headerlink" title="1. é¡¹ç›®ç»“æ„"></a>1. é¡¹ç›®ç»“æ„</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">multi-modal-chatbot/</span><br><span class="line">â”œâ”€â”€ .env                    # ç¯å¢ƒå˜é‡</span><br><span class="line">â”œâ”€â”€ my_llm.py              # æ¨¡å‹é…ç½®</span><br><span class="line">â”œâ”€â”€ utils.py               # å·¥å…·å‡½æ•°</span><br><span class="line">â”œâ”€â”€ main.py               # ä¸»ç¨‹åº</span><br><span class="line">â”œâ”€â”€ requirements.txt       # ä¾èµ–åˆ—è¡¨</span><br><span class="line">â””â”€â”€ chat_history.db       # æ•°æ®åº“ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰</span><br></pre></td></tr></table></figure><h3 id="2-ç¯å¢ƒé…ç½®"><a href="#2-ç¯å¢ƒé…ç½®" class="headerlink" title="2. ç¯å¢ƒé…ç½®"></a>2. ç¯å¢ƒé…ç½®</h3><p>ä¸ºä»£ç çš„å¥å…¨æ€§ï¼Œæˆ‘ä»¬ä¸åœ¨mainå‡½æ•°ä¸­è°ƒç”¨å¤§æ¨¡å‹ï¼Œè€Œæ˜¯æ”¾åœ¨my_llmæ–‡ä»¶é‡Œæ–¹ä¾¿ä¿®æ”¹</p><h4 id="env-æ–‡ä»¶ï¼š"><a href="#env-æ–‡ä»¶ï¼š" class="headerlink" title=".env æ–‡ä»¶ï¼š"></a><code>.env</code> æ–‡ä»¶ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_BASE_URL=<span class="string">&quot;http://your-server-ip:6006/v1&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="my-llm-py-æ¨¡å‹é…ç½®ï¼š"><a href="#my-llm-py-æ¨¡å‹é…ç½®ï¼š" class="headerlink" title="my_llm.py - æ¨¡å‹é…ç½®ï¼š"></a><code>my_llm.py</code> - æ¨¡å‹é…ç½®ï¼š</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> dotenv <span class="keyword">import</span> load_dotenv</span><br><span class="line"><span class="keyword">from</span> langchain_openai <span class="keyword">import</span> ChatOpenAI</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ è½½ç¯å¢ƒå˜é‡</span></span><br><span class="line">load_dotenv()</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®å¤šæ¨¡æ€æ¨¡å‹</span></span><br><span class="line">multiModal_llm = ChatOpenAI(</span><br><span class="line">    model=<span class="string">&#x27;qwen2.5-omni-3b&#x27;</span>,</span><br><span class="line">    api_key=os.getenv(<span class="string">&#x27;OPENAI_API_KEY&#x27;</span>, <span class="string">&#x27;xx&#x27;</span>),  <span class="comment"># æœ¬åœ°éƒ¨ç½²å¯ä¸ºä»»æ„å€¼</span></span><br><span class="line">    base_url=os.getenv(<span class="string">&#x27;LOCAL_BASE_URL&#x27;</span>),</span><br><span class="line">    temperature=<span class="number">0.7</span>,</span><br><span class="line">    max_tokens=<span class="number">2048</span>,</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="3-å·¥å…·å‡½æ•°-utils-py"><a href="#3-å·¥å…·å‡½æ•°-utils-py" class="headerlink" title="3. å·¥å…·å‡½æ•° (utils.py)"></a>3. å·¥å…·å‡½æ•° (<code>utils.py</code>)</h3><p>è¿™é‡Œä¸»è¦è´Ÿè´£å°†éŸ³é¢‘å›¾ç‰‡æ–‡ä»¶è½¬åŒ–ä¸ºbase64æ ¼å¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">import</span> io</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> tempfile</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">from</span> pydub <span class="keyword">import</span> AudioSegment</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">image_to_base64</span>(<span class="params">image_path: <span class="built_in">str</span></span>) -&gt; <span class="built_in">dict</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;å°†å›¾ç‰‡è½¬æ¢ä¸ºBase64æ ¼å¼&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">with</span> Image.<span class="built_in">open</span>(image_path) <span class="keyword">as</span> img:</span><br><span class="line">            <span class="comment"># ç»Ÿä¸€æ ¼å¼å¤„ç†</span></span><br><span class="line">            <span class="keyword">if</span> img.mode <span class="keyword">in</span> (<span class="string">&#x27;RGBA&#x27;</span>, <span class="string">&#x27;LA&#x27;</span>):</span><br><span class="line">                background = Image.new(<span class="string">&#x27;RGB&#x27;</span>, img.size, (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>))</span><br><span class="line">                background.paste(img, mask=img.split()[-<span class="number">1</span>])</span><br><span class="line">                img = background</span><br><span class="line">            </span><br><span class="line">            buf = io.BytesIO()</span><br><span class="line">            img.save(buf, <span class="built_in">format</span>=<span class="string">&#x27;JPEG&#x27;</span>, quality=<span class="number">85</span>)</span><br><span class="line">            b64 = base64.b64encode(buf.getvalue()).decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="string">&quot;type&quot;</span>: <span class="string">&quot;image_url&quot;</span>,</span><br><span class="line">            <span class="string">&quot;image_url&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;url&quot;</span>: <span class="string">f&quot;data:image/jpeg;base64,<span class="subst">&#123;b64&#125;</span>&quot;</span>,</span><br><span class="line">                <span class="string">&quot;detail&quot;</span>: <span class="string">&quot;low&quot;</span>  <span class="comment"># å¯é€‰: low, high, auto</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;[ERROR] å›¾ç‰‡å¤„ç†å¤±è´¥: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">audio_to_base64</span>(<span class="params">audio_path: <span class="built_in">str</span></span>) -&gt; <span class="built_in">dict</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;å°†éŸ³é¢‘è½¬æ¢ä¸ºBase64æ ¼å¼&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># ç»Ÿä¸€è½¬æ¢ä¸ºWAVæ ¼å¼</span></span><br><span class="line">        audio = AudioSegment.from_file(audio_path)</span><br><span class="line">        audio = audio.set_frame_rate(<span class="number">16000</span>).set_channels(<span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">with</span> tempfile.NamedTemporaryFile(suffix=<span class="string">&#x27;.wav&#x27;</span>, delete=<span class="literal">False</span>) <span class="keyword">as</span> tmp:</span><br><span class="line">            audio.export(tmp.name, <span class="built_in">format</span>=<span class="string">&#x27;wav&#x27;</span>)</span><br><span class="line">            tmp_path = tmp.name</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è¯»å–å¹¶ç¼–ç </span></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(tmp_path, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            b64 = base64.b64encode(f.read()).decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># æ¸…ç†ä¸´æ—¶æ–‡ä»¶</span></span><br><span class="line">        os.unlink(tmp_path)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="string">&quot;type&quot;</span>: <span class="string">&quot;audio_url&quot;</span>,</span><br><span class="line">            <span class="string">&quot;audio_url&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;url&quot;</span>: <span class="string">f&quot;data:audio/wav;base64,<span class="subst">&#123;b64&#125;</span>&quot;</span>,</span><br><span class="line">                <span class="string">&quot;duration&quot;</span>: <span class="built_in">len</span>(audio) / <span class="number">1000</span>  <span class="comment"># ç§’</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;[ERROR] éŸ³é¢‘å¤„ç†å¤±è´¥: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br></pre></td></tr></table></figure><h3 id="4-ä¸»ç¨‹åº-main-py"><a href="#4-ä¸»ç¨‹åº-main-py" class="headerlink" title="4. ä¸»ç¨‹åº (main.py)"></a>4. ä¸»ç¨‹åº (<code>main.py</code>)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> uuid</span><br><span class="line"><span class="keyword">import</span> gradio <span class="keyword">as</span> gr</span><br><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> create_engine</span><br><span class="line"><span class="keyword">from</span> langchain_core.messages <span class="keyword">import</span> HumanMessage</span><br><span class="line"><span class="keyword">from</span> langchain_core.prompts <span class="keyword">import</span> ChatPromptTemplate, MessagesPlaceholder</span><br><span class="line"><span class="keyword">from</span> langchain_core.runnables <span class="keyword">import</span> RunnableWithMessageHistory</span><br><span class="line"><span class="keyword">from</span> langchain_community.chat_message_histories <span class="keyword">import</span> SQLChatMessageHistory</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> my_llm <span class="keyword">import</span> multiModal_llm</span><br><span class="line"><span class="keyword">from</span> utils <span class="keyword">import</span> image_to_base64, audio_to_base64</span><br><span class="line"></span><br><span class="line"><span class="comment"># ========== 1. å¯¹è¯é“¾é…ç½® ==========</span></span><br><span class="line">prompt = ChatPromptTemplate.from_messages([</span><br><span class="line">    (<span class="string">&quot;system&quot;</span>, <span class="string">&quot;ä½ æ˜¯ä¸€ä¸ªå¤šæ¨¡æ€AIåŠ©æ‰‹ï¼Œå¯ä»¥å¤„ç†æ–‡æœ¬ã€å›¾ç‰‡å’Œè¯­éŸ³è¾“å…¥ã€‚è¯·ç”¨ä¸­æ–‡å‹å¥½åœ°å›ç­”ç”¨æˆ·çš„é—®é¢˜ã€‚&quot;</span>),</span><br><span class="line">    MessagesPlaceholder(variable_name=<span class="string">&quot;messages&quot;</span>),</span><br><span class="line">    (<span class="string">&quot;system&quot;</span>, <span class="string">&quot;å½“å‰å¯¹è¯å†å²:&quot;</span>),</span><br><span class="line">    MessagesPlaceholder(variable_name=<span class="string">&quot;history&quot;</span>),</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line">chain = prompt | multiModal_llm</span><br><span class="line"></span><br><span class="line"><span class="comment"># ========== 2. è®°å¿†ç®¡ç† ==========</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_session_history</span>(<span class="params">session_id: <span class="built_in">str</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;è·å–æˆ–åˆ›å»ºä¼šè¯å†å²&quot;&quot;&quot;</span></span><br><span class="line">    engine = create_engine(<span class="string">&#x27;sqlite:///chat_history.db&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> SQLChatMessageHistory(</span><br><span class="line">        session_id=session_id,</span><br><span class="line">        connection=engine,</span><br><span class="line">        table_name=<span class="string">&quot;chat_history&quot;</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒ…è£…å¯¹è¯é“¾</span></span><br><span class="line">chain_with_history = RunnableWithMessageHistory(</span><br><span class="line">    chain,</span><br><span class="line">    get_session_history,</span><br><span class="line">    input_messages_key=<span class="string">&quot;messages&quot;</span>,</span><br><span class="line">    history_messages_key=<span class="string">&quot;history&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆå”¯ä¸€ä¼šè¯ID</span></span><br><span class="line">session_id = <span class="built_in">str</span>(uuid.uuid4())</span><br><span class="line"></span><br><span class="line"><span class="comment"># ========== 3. æ ¸å¿ƒå¤„ç†å‡½æ•° ==========</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">process_inputs</span>(<span class="params">text: <span class="built_in">str</span>, audio: <span class="built_in">str</span>, image: <span class="built_in">str</span>, chat_history: <span class="built_in">list</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;å¤„ç†ç”¨æˆ·è¾“å…¥å¹¶ç”Ÿæˆå“åº”&quot;&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æ„å»ºå¤šæ¨¡æ€å†…å®¹</span></span><br><span class="line">    content = []</span><br><span class="line">    user_display = []</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># å¤„ç†å›¾ç‰‡</span></span><br><span class="line">    <span class="keyword">if</span> image:</span><br><span class="line">        img_data = image_to_base64(image)</span><br><span class="line">        <span class="keyword">if</span> img_data:</span><br><span class="line">            content.append(img_data)</span><br><span class="line">            user_display.append(<span class="string">&quot;[å›¾ç‰‡]&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># å¤„ç†éŸ³é¢‘</span></span><br><span class="line">    <span class="keyword">if</span> audio:</span><br><span class="line">        audio_data = audio_to_base64(audio)</span><br><span class="line">        <span class="keyword">if</span> audio_data:</span><br><span class="line">            content.append(audio_data)</span><br><span class="line">            user_display.append(<span class="string">&quot;[è¯­éŸ³]&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># å¤„ç†æ–‡æœ¬</span></span><br><span class="line">    <span class="keyword">if</span> text <span class="keyword">and</span> text.strip():</span><br><span class="line">        content.append(&#123;<span class="string">&quot;type&quot;</span>: <span class="string">&quot;text&quot;</span>, <span class="string">&quot;text&quot;</span>: text&#125;)</span><br><span class="line">        user_display.append(text)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æ— æœ‰æ•ˆè¾“å…¥</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> content:</span><br><span class="line">        chat_history.append((<span class="string">&quot;&quot;</span>, <span class="string">&quot;è¯·è¾“å…¥æ–‡æœ¬ã€ä¸Šä¼ å›¾ç‰‡æˆ–å½•åˆ¶è¯­éŸ³ï¼&quot;</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>, <span class="literal">None</span>, <span class="literal">None</span>, chat_history</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æ„å»ºç”¨æˆ·æ¶ˆæ¯</span></span><br><span class="line">    user_message = HumanMessage(content=content)</span><br><span class="line">    display_text = <span class="string">&quot; &quot;</span>.join(user_display) <span class="keyword">if</span> user_display <span class="keyword">else</span> <span class="string">&quot;[å¤šåª’ä½“å†…å®¹]&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># è°ƒç”¨æ¨¡å‹</span></span><br><span class="line">        response = chain_with_history.invoke(</span><br><span class="line">            &#123;<span class="string">&quot;messages&quot;</span>: [user_message]&#125;,</span><br><span class="line">            config=&#123;<span class="string">&quot;configurable&quot;</span>: &#123;<span class="string">&quot;session_id&quot;</span>: session_id&#125;&#125;</span><br><span class="line">        )</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># æ›´æ–°èŠå¤©å†å²</span></span><br><span class="line">        chat_history.append((display_text, response.content))</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        error_msg = <span class="string">f&quot;è¯·æ±‚å¤±è´¥: <span class="subst">&#123;<span class="built_in">str</span>(e)&#125;</span>&quot;</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;[ERROR] <span class="subst">&#123;error_msg&#125;</span>&quot;</span>)</span><br><span class="line">        chat_history.append((display_text, error_msg))</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æ¸…ç©ºè¾“å…¥</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>, <span class="literal">None</span>, <span class="literal">None</span>, chat_history</span><br><span class="line"></span><br><span class="line"><span class="comment"># ========== 4. å‰ç«¯ç•Œé¢ ==========</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">create_interface</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;åˆ›å»ºGradioç•Œé¢&quot;&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">with</span> gr.Blocks(</span><br><span class="line">        title=<span class="string">&quot;å¤šæ¨¡æ€èŠå¤©æœºå™¨äºº&quot;</span>,</span><br><span class="line">        theme=gr.themes.Soft(),</span><br><span class="line">        css=<span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        .chatbot &#123; min-height: 500px; &#125;</span></span><br><span class="line"><span class="string">        .input-row &#123; margin-top: 20px; &#125;</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">    ) <span class="keyword">as</span> demo:</span><br><span class="line">        </span><br><span class="line">        gr.Markdown(<span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        # ğŸ¤– å¤šæ¨¡æ€èŠå¤©æœºå™¨äºº</span></span><br><span class="line"><span class="string">        æ”¯æŒ**æ–‡å­—**ã€**å›¾ç‰‡**ã€**è¯­éŸ³**è¾“å…¥ | å…·å¤‡ä¸Šä¸‹æ–‡è®°å¿†</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># èŠå¤©çª—å£</span></span><br><span class="line">        chatbot = gr.Chatbot(</span><br><span class="line">            label=<span class="string">&quot;å¯¹è¯å†å²&quot;</span>,</span><br><span class="line">            height=<span class="number">500</span>,</span><br><span class="line">            bubble_full_width=<span class="literal">False</span>,</span><br><span class="line">            show_copy_button=<span class="literal">True</span></span><br><span class="line">        )</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è¾“å…¥åŒºåŸŸ</span></span><br><span class="line">        <span class="keyword">with</span> gr.Row(variant=<span class="string">&quot;panel&quot;</span>, elem_classes=<span class="string">&quot;input-row&quot;</span>):</span><br><span class="line">            text_input = gr.Textbox(</span><br><span class="line">                placeholder=<span class="string">&quot;è¾“å…¥æ–‡å­—æ¶ˆæ¯...&quot;</span>,</span><br><span class="line">                label=<span class="string">&quot;æ–‡æœ¬è¾“å…¥&quot;</span>,</span><br><span class="line">                scale=<span class="number">4</span>,</span><br><span class="line">                container=<span class="literal">False</span></span><br><span class="line">            )</span><br><span class="line">            submit_btn = gr.Button(<span class="string">&quot;å‘é€&quot;</span>, variant=<span class="string">&quot;primary&quot;</span>, scale=<span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># å¤šåª’ä½“è¾“å…¥</span></span><br><span class="line">        <span class="keyword">with</span> gr.Row():</span><br><span class="line">            audio_input = gr.Audio(</span><br><span class="line">                sources=[<span class="string">&quot;microphone&quot;</span>],</span><br><span class="line">                <span class="built_in">type</span>=<span class="string">&quot;filepath&quot;</span>,</span><br><span class="line">                label=<span class="string">&quot;è¯­éŸ³è¾“å…¥&quot;</span>,</span><br><span class="line">                interactive=<span class="literal">True</span></span><br><span class="line">            )</span><br><span class="line">            image_input = gr.Image(</span><br><span class="line">                <span class="built_in">type</span>=<span class="string">&quot;filepath&quot;</span>,</span><br><span class="line">                label=<span class="string">&quot;å›¾ç‰‡ä¸Šä¼ &quot;</span>,</span><br><span class="line">                sources=[<span class="string">&quot;upload&quot;</span>],</span><br><span class="line">                interactive=<span class="literal">True</span></span><br><span class="line">            )</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># ç»‘å®šäº‹ä»¶</span></span><br><span class="line">        submit_btn.click(</span><br><span class="line">            fn=process_inputs,</span><br><span class="line">            inputs=[text_input, audio_input, image_input, chatbot],</span><br><span class="line">            outputs=[text_input, audio_input, image_input, chatbot],</span><br><span class="line">            queue=<span class="literal">True</span></span><br><span class="line">        )</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># å›è½¦é”®æäº¤</span></span><br><span class="line">        text_input.submit(</span><br><span class="line">            fn=process_inputs,</span><br><span class="line">            inputs=[text_input, audio_input, image_input, chatbot],</span><br><span class="line">            outputs=[text_input, audio_input, image_input, chatbot],</span><br><span class="line">            queue=<span class="literal">True</span></span><br><span class="line">        )</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># æ¸…ç†æŒ‰é’®</span></span><br><span class="line">        <span class="keyword">with</span> gr.Row():</span><br><span class="line">            clear_btn = gr.Button(<span class="string">&quot;æ¸…ç©ºå¯¹è¯&quot;</span>, variant=<span class="string">&quot;secondary&quot;</span>)</span><br><span class="line">            clear_btn.click(</span><br><span class="line">                fn=<span class="keyword">lambda</span>: ([], <span class="string">&quot;&quot;</span>, <span class="literal">None</span>, <span class="literal">None</span>),</span><br><span class="line">                outputs=[chatbot, text_input, audio_input, image_input],</span><br><span class="line">                queue=<span class="literal">False</span></span><br><span class="line">            )</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> demo</span><br><span class="line"></span><br><span class="line"><span class="comment"># ========== 5. å¯åŠ¨åº”ç”¨ ==========</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    demo = create_interface()</span><br><span class="line">    </span><br><span class="line">    demo.queue(</span><br><span class="line">        max_size=<span class="number">20</span>,</span><br><span class="line">        default_concurrency_limit=<span class="number">5</span></span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">    demo.launch(</span><br><span class="line">        server_name=<span class="string">&quot;0.0.0.0&quot;</span>,</span><br><span class="line">        server_port=<span class="number">7860</span>,</span><br><span class="line">        share=<span class="literal">False</span>,  <span class="comment"># è®¾ä¸ºTrueå¯ç”Ÿæˆå…¬ç½‘é“¾æ¥</span></span><br><span class="line">        show_error=<span class="literal">True</span>,</span><br><span class="line">        debug=<span class="literal">True</span></span><br><span class="line">    )</span><br></pre></td></tr></table></figure><hr><h2 id="ä¸‰ã€è¿è¡Œä¸æµ‹è¯•"><a href="#ä¸‰ã€è¿è¡Œä¸æµ‹è¯•" class="headerlink" title="ä¸‰ã€è¿è¡Œä¸æµ‹è¯•"></a>ä¸‰ã€è¿è¡Œä¸æµ‹è¯•</h2><h3 id="1-å¯åŠ¨åº”ç”¨"><a href="#1-å¯åŠ¨åº”ç”¨" class="headerlink" title="1. å¯åŠ¨åº”ç”¨"></a>1. å¯åŠ¨åº”ç”¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python main.py</span><br></pre></td></tr></table></figure><h3 id="2-è®¿é—®åœ°å€"><a href="#2-è®¿é—®åœ°å€" class="headerlink" title="2. è®¿é—®åœ°å€"></a>2. è®¿é—®åœ°å€</h3><ul><li>æœ¬åœ°: <code>http://localhost:7860</code></li><li>å±€åŸŸç½‘: <code>http://[æœåŠ¡å™¨IP]:7860</code></li></ul><h3 id="3-åŠŸèƒ½æµ‹è¯•"><a href="#3-åŠŸèƒ½æµ‹è¯•" class="headerlink" title="3. åŠŸèƒ½æµ‹è¯•"></a>3. åŠŸèƒ½æµ‹è¯•</h3><ul><li>âœ… æ–‡æœ¬å¯¹è¯</li><li>âœ… å›¾ç‰‡è¯†åˆ«ä¸æè¿°</li><li>âœ… è¯­éŸ³è½¬æ–‡å­—</li><li>âœ… ä¸Šä¸‹æ–‡è®°å¿†</li><li>âœ… å¯¹è¯å†å²ä¿å­˜</li></ul><hr><h2 id="å››ã€å¸¸è§é—®é¢˜"><a href="#å››ã€å¸¸è§é—®é¢˜" class="headerlink" title="å››ã€å¸¸è§é—®é¢˜"></a>å››ã€å¸¸è§é—®é¢˜</h2><h3 id="Q1-æ˜¾å­˜ä¸è¶³"><a href="#Q1-æ˜¾å­˜ä¸è¶³" class="headerlink" title="Q1: æ˜¾å­˜ä¸è¶³"></a>Q1: æ˜¾å­˜ä¸è¶³</h3><ul><li>é™ä½ <code>max_model_len</code> å‚æ•°</li><li>è®¾ç½® <code>--gpu-memory-utilization 0.8</code></li><li>ä½¿ç”¨é‡åŒ–ç‰ˆæœ¬æ¨¡å‹</li></ul><h3 id="Q2-éŸ³é¢‘å¤„ç†å¤±è´¥"><a href="#Q2-éŸ³é¢‘å¤„ç†å¤±è´¥" class="headerlink" title="Q2: éŸ³é¢‘å¤„ç†å¤±è´¥"></a>Q2: éŸ³é¢‘å¤„ç†å¤±è´¥</h3><ul><li>å®‰è£… <code>ffmpeg</code>: <code>sudo apt install ffmpeg</code></li><li>æ£€æŸ¥éŸ³é¢‘æ ¼å¼æ”¯æŒ</li></ul><h3 id="Q3-å“åº”ç¼“æ…¢"><a href="#Q3-å“åº”ç¼“æ…¢" class="headerlink" title="Q3: å“åº”ç¼“æ…¢"></a>Q3: å“åº”ç¼“æ…¢</h3><ul><li>è°ƒæ•´ <code>max_tokens</code> é™åˆ¶</li><li>ä½¿ç”¨ <code>stream=True</code> å¯ç”¨æµå¼è¾“å‡º</li><li>å‡çº§æœåŠ¡å™¨é…ç½®</li></ul><hr><h2 id="é™„å½•ï¼šAPIè°ƒç”¨æ–¹æ¡ˆ"><a href="#é™„å½•ï¼šAPIè°ƒç”¨æ–¹æ¡ˆ" class="headerlink" title="é™„å½•ï¼šAPIè°ƒç”¨æ–¹æ¡ˆ"></a>é™„å½•ï¼šAPIè°ƒç”¨æ–¹æ¡ˆ</h2><p>å¦‚æœä¸æ–¹ä¾¿éƒ¨ç½²ï¼Œå¯ä»¥ä½¿ç”¨é˜¿é‡Œäº‘ã€OpenAIç­‰APIæœåŠ¡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é˜¿é‡Œäº‘é€šä¹‰åƒé—®</span></span><br><span class="line"><span class="keyword">from</span> langchain_openai <span class="keyword">import</span> ChatOpenAI</span><br><span class="line"></span><br><span class="line">llm = ChatOpenAI(</span><br><span class="line">    model=<span class="string">&quot;qwen-max&quot;</span>,</span><br><span class="line">    base_url=<span class="string">&quot;https://dashscope.aliyuncs.com/compatible-mode/v1&quot;</span>,</span><br><span class="line">    api_key=<span class="string">&quot;your-api-key&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># OpenAI GPT-4V</span></span><br><span class="line">llm = ChatOpenAI(</span><br><span class="line">    model=<span class="string">&quot;gpt-4-vision-preview&quot;</span>,</span><br><span class="line">    api_key=<span class="string">&quot;your-openai-key&quot;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><hr><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†å¦‚ä½•ä»é›¶æ„å»ºä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„å¤šæ¨¡æ€èŠå¤©æœºå™¨äººã€‚é€šè¿‡ç§æœ‰åŒ–éƒ¨ç½²Qwen-2.5-Omniæ¨¡å‹ï¼Œç»“åˆLangChainå’ŒGradioï¼Œæˆ‘ä»¬å®ç°äº†ï¼š</p><ol><li><strong>å¤šæ¨¡æ€æ”¯æŒ</strong>ï¼šæ–‡æœ¬ã€å›¾ç‰‡ã€è¯­éŸ³è¾“å…¥</li><li><strong>ä¸Šä¸‹æ–‡è®°å¿†</strong>ï¼šSQLiteæŒä¹…åŒ–å­˜å‚¨</li><li><strong>Webç•Œé¢</strong>ï¼šç›´è§‚çš„ç”¨æˆ·äº¤äº’</li><li><strong>å¯æ‰©å±•æ¶æ„</strong>ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•</li></ol><p>é¡¹ç›®ä»£ç å·²å¼€æºï¼Œå¯æ ¹æ®å®é™…éœ€æ±‚è¿›è¡Œè°ƒæ•´å’Œä¼˜åŒ–ã€‚æ¬¢è¿æ‚¨å®è´µçš„å»ºè®®~</p>]]></content>
    
    
      
      
    <summary type="html">&lt;hr&gt;
&lt;h1 id=&quot;ä»é›¶æ­å»ºå¤šæ¨¡æ€èŠå¤©æœºå™¨äºº&quot;&gt;&lt;a href=&quot;#ä»é›¶æ­å»ºå¤šæ¨¡æ€èŠå¤©æœºå™¨äºº&quot; class=&quot;headerlink&quot; title=&quot;ä»é›¶æ­å»ºå¤šæ¨¡æ€èŠå¤©æœºå™¨äºº&quot;&gt;&lt;/a&gt;ä»é›¶æ­å»ºå¤šæ¨¡æ€èŠå¤©æœºå™¨äºº&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;ç›®æ ‡&lt;/strong&gt;ï¼šæ„å»ºä¸€ä¸ªæ”¯</summary>
      
    
    
    
    <category term="ç¼–ç¨‹" scheme="https://yifei-huang-cos.github.io/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>ç®€æ˜“AIäº”å­æ£‹ï¼ˆq-learningï¼‰</title>
    <link href="https://yifei-huang-cos.github.io/posts/37ac43b8/"/>
    <id>https://yifei-huang-cos.github.io/posts/37ac43b8/</id>
    <published>2026-02-04T16:00:00.000Z</published>
    <updated>2026-02-05T11:20:36.386Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç®€æ˜“äº”å­æ£‹AIå¯¹æˆ˜ç³»ç»Ÿï¼šQ-learningä¸ç›‘ç£å­¦ä¹ "><a href="#ç®€æ˜“äº”å­æ£‹AIå¯¹æˆ˜ç³»ç»Ÿï¼šQ-learningä¸ç›‘ç£å­¦ä¹ " class="headerlink" title="ç®€æ˜“äº”å­æ£‹AIå¯¹æˆ˜ç³»ç»Ÿï¼šQ-learningä¸ç›‘ç£å­¦ä¹ "></a>ç®€æ˜“äº”å­æ£‹AIå¯¹æˆ˜ç³»ç»Ÿï¼šQ-learningä¸ç›‘ç£å­¦ä¹ </h1><p>å…¨ç¨‹ä½¿ç”¨Pythonå®ç°ï¼Œä»£ç å¯ç›´æ¥è¿è¡Œã€‚</p><h2 id="ä¸€ã€å‰è¨€"><a href="#ä¸€ã€å‰è¨€" class="headerlink" title="ä¸€ã€å‰è¨€"></a>ä¸€ã€å‰è¨€</h2><p>åŸºäºå¼ºåŒ–å­¦ä¹ å’Œç›‘ç£å­¦ä¹ ï¼Œè®­ç»ƒäº”å­æ£‹å¯¹å¼ˆAI</p><h2 id="äºŒã€å‡†å¤‡"><a href="#äºŒã€å‡†å¤‡" class="headerlink" title="äºŒã€å‡†å¤‡"></a>äºŒã€å‡†å¤‡</h2><p>æœ¬æ¬¡é¡¹ç›®æ‰€éœ€ä¾èµ–æå°‘ï¼Œæå‰é€šè¿‡pipå®‰è£…æ ¸å¿ƒä¾èµ–å³å¯ï¼Œæ— éœ€å¤æ‚çš„ç¯å¢ƒé…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install torch numpy</span><br><span class="line">pip install tqdm`</span><br></pre></td></tr></table></figure><blockquote><h6 id="æ ¸å¿ƒä¾èµ–ï¼šPyTorchï¼ˆæ¨¡å‹è®­ç»ƒ-x2F-æ¨ç†ï¼‰ã€NumPyï¼ˆæ•°æ®å¤„ç†ä¸æ£‹ç›˜ç»´æŠ¤ï¼‰ï¼Œtqdm-ç”¨äºè®­ç»ƒè¿‡ç¨‹è¿›åº¦æ¡å±•ç¤º"><a href="#æ ¸å¿ƒä¾èµ–ï¼šPyTorchï¼ˆæ¨¡å‹è®­ç»ƒ-x2F-æ¨ç†ï¼‰ã€NumPyï¼ˆæ•°æ®å¤„ç†ä¸æ£‹ç›˜ç»´æŠ¤ï¼‰ï¼Œtqdm-ç”¨äºè®­ç»ƒè¿‡ç¨‹è¿›åº¦æ¡å±•ç¤º" class="headerlink" title="æ ¸å¿ƒä¾èµ–ï¼šPyTorchï¼ˆæ¨¡å‹è®­ç»ƒ&#x2F;æ¨ç†ï¼‰ã€NumPyï¼ˆæ•°æ®å¤„ç†ä¸æ£‹ç›˜ç»´æŠ¤ï¼‰ï¼Œtqdm ç”¨äºè®­ç»ƒè¿‡ç¨‹è¿›åº¦æ¡å±•ç¤º"></a>æ ¸å¿ƒä¾èµ–ï¼šPyTorchï¼ˆæ¨¡å‹è®­ç»ƒ&#x2F;æ¨ç†ï¼‰ã€NumPyï¼ˆæ•°æ®å¤„ç†ä¸æ£‹ç›˜ç»´æŠ¤ï¼‰ï¼Œ<code>tqdm</code> ç”¨äºè®­ç»ƒè¿‡ç¨‹è¿›åº¦æ¡å±•ç¤º</h6></blockquote><h2 id="ä¸‰ã€é¡¹ç›®æ•´ä½“æ¶æ„"><a href="#ä¸‰ã€é¡¹ç›®æ•´ä½“æ¶æ„" class="headerlink" title="ä¸‰ã€é¡¹ç›®æ•´ä½“æ¶æ„"></a>ä¸‰ã€é¡¹ç›®æ•´ä½“æ¶æ„</h2><p>æ•´ä¸ªé¡¹ç›®åˆ†ä¸º3ä¸ªæ ¸å¿ƒæ–‡ä»¶ï¼Œä½è€¦åˆã€é«˜å†…èšï¼Œæ¯ä¸ªæ–‡ä»¶æ‰¿æ‹…æ˜ç¡®çš„èŒè´£ï¼Œæ–¹ä¾¿åç»­æ‰©å±•ä¸ä¿®æ”¹ï¼š</p><ol><li><code>gomoku_data.py</code>ï¼šé«˜è´¨é‡è‡ªå¯¹å¼ˆæ ·æœ¬ç”Ÿæˆï¼Œä¸ºCNNæ¨¡å‹æä¾›â€å­¦ä¹ ç´ æâ€ï¼›</li><li><code>train_model.py</code>ï¼šCNNæ¨¡å‹å®šä¹‰ä¸è®­ç»ƒï¼Œç”Ÿæˆå¯ç”¨äºå¯¹å¼ˆçš„æ¨¡å‹æ–‡ä»¶ï¼›</li><li><code>main.py</code>ï¼šå¯è§†åŒ–å¯¹å¼ˆç•Œé¢ä¸AIæ ¸å¿ƒå†³ç­–ï¼Œå®ç°ç©å®¶ä¸AIçš„å®æ—¶å¯¹æˆ˜ã€‚</li></ol><p>ä¸‰è€…çš„æ‰§è¡Œæµç¨‹ä¸ºï¼š<code>ç”Ÿæˆæ ·æœ¬ï¼ˆgomoku_data.pyï¼‰</code> â†’ <code>è®­ç»ƒæ¨¡å‹ï¼ˆtrain_model.pyï¼‰</code> â†’ <code>å¯åŠ¨å¯¹å¼ˆï¼ˆmain.pyï¼‰</code></p><h2 id="å››ã€æ ¸å¿ƒæ€è·¯è®²è§£"><a href="#å››ã€æ ¸å¿ƒæ€è·¯è®²è§£" class="headerlink" title="å››ã€æ ¸å¿ƒæ€è·¯è®²è§£"></a>å››ã€æ ¸å¿ƒæ€è·¯è®²è§£</h2><h3 id="ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆé«˜è´¨é‡è‡ªå¯¹å¼ˆæ ·æœ¬"><a href="#ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆé«˜è´¨é‡è‡ªå¯¹å¼ˆæ ·æœ¬" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆé«˜è´¨é‡è‡ªå¯¹å¼ˆæ ·æœ¬"></a>ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆé«˜è´¨é‡è‡ªå¯¹å¼ˆæ ·æœ¬</h3><h4 id="æ ¸å¿ƒé€»è¾‘"><a href="#æ ¸å¿ƒé€»è¾‘" class="headerlink" title="æ ¸å¿ƒé€»è¾‘"></a>æ ¸å¿ƒé€»è¾‘</h4><ol><li>å®ç°åŸºç¡€å·¥å…·ï¼šæ£‹ç›˜çŠ¶æ€ç®¡ç†ã€åˆæ³•è½å­æ ¡éªŒã€èƒœè´Ÿåˆ¤æ–­ã€è¿å­æ£€æµ‹ï¼ˆ3&#x2F;4&#x2F;5è¿ï¼‰ï¼›</li><li>è®¾è®¡ä¼˜å…ˆçº§è½å­ç­–ç•¥ï¼š<code>ç›´æ¥èµ¢æ£‹ &gt; é˜»æŒ¡å¯¹æ‰‹èµ¢æ£‹ &gt; è‡ªå·±è¿4 &gt; é˜»æŒ¡å¯¹æ‰‹è¿4 &gt; è‡ªå·±è¿3 &gt; ç›¸é‚»ä½ç½® &gt; éšæœºè½å­</code>ï¼Œç¡®ä¿ç”Ÿæˆçš„æ ·æœ¬å¸¦æœ‰æ˜ç¡®çš„æ”»é˜²é€»è¾‘ï¼›</li><li>æ‰¹é‡ç”Ÿæˆå¯¹å±€ï¼šè¿è¡Œ2000å±€è‡ªå¯¹å¼ˆï¼Œè®°å½•æ¯ä¸€æ­¥çš„â€æ£‹ç›˜çŠ¶æ€ + è½å­ä½ç½®â€ï¼Œä¿å­˜ä¸º<code>npz</code>æ ¼å¼ï¼ˆæ–¹ä¾¿PyTorché«˜æ•ˆåŠ è½½ï¼‰ã€‚</li></ol><h4 id="å…³é”®äº®ç‚¹"><a href="#å…³é”®äº®ç‚¹" class="headerlink" title="å…³é”®äº®ç‚¹"></a>å…³é”®äº®ç‚¹</h4><ul><li>æ ·æœ¬å¸¦æœ‰æ˜ç¡®çš„ç­–ç•¥æ€§ï¼Œé¿å…æ— æ„ä¹‰çš„éšæœºè½å­ï¼Œæå‡æ¨¡å‹è®­ç»ƒæ•ˆç‡ï¼›</li><li>è‡ªåŠ¨è¿‡æ»¤æ— æ•ˆå¯¹å±€ï¼Œç¡®ä¿ç”Ÿæˆçš„æ ·æœ¬å…·å¤‡å¯ç”¨æ€§ï¼›</li><li>è¾“å‡ºæ–‡ä»¶<code>gomoku_train_data.npz</code>åŒ…å«â€æ£‹ç›˜çŠ¶æ€æ•°ç»„â€å’Œâ€è½å­ç´¢å¼•æ•°ç»„â€ï¼Œç›´æ¥é€‚é…åç»­æ¨¡å‹è®­ç»ƒã€‚</li></ul><h3 id="ç¬¬äºŒæ­¥ï¼šè®­ç»ƒCNNäº”å­æ£‹è½å­é¢„æµ‹æ¨¡å‹"><a href="#ç¬¬äºŒæ­¥ï¼šè®­ç»ƒCNNäº”å­æ£‹è½å­é¢„æµ‹æ¨¡å‹" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šè®­ç»ƒCNNäº”å­æ£‹è½å­é¢„æµ‹æ¨¡å‹"></a>ç¬¬äºŒæ­¥ï¼šè®­ç»ƒCNNäº”å­æ£‹è½å­é¢„æµ‹æ¨¡å‹</h3><p>æœ‰äº†æ ·æœ¬ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦è®­ç»ƒä¸€ä¸ªæ¨¡å‹ï¼Œè®©å®ƒä»æ ·æœ¬ä¸­å­¦ä¹ â€åœ¨æŸä¸ªæ£‹ç›˜çŠ¶æ€ä¸‹ï¼Œåº”è¯¥è½å­åœ¨å“ªé‡Œâ€ã€‚</p><h4 id="æ ¸å¿ƒé€»è¾‘-1"><a href="#æ ¸å¿ƒé€»è¾‘-1" class="headerlink" title="æ ¸å¿ƒé€»è¾‘"></a>æ ¸å¿ƒé€»è¾‘</h4><ol><li>å®šä¹‰è½»é‡çº§CNNæ¨¡å‹ï¼šè¾“å…¥ä¸º3é€šé“15x15æ£‹ç›˜ï¼ˆå¯¹åº”â€ç©å®¶æ£‹å­ã€AIæ£‹å­ã€ç©ºä½ç½®â€ï¼‰ï¼Œè¾“å‡ºä¸º225ä¸ªè½å­ä½ç½®çš„å¾—åˆ†ï¼ˆ15x15&#x3D;225ï¼‰ï¼›<ul><li>é‡‡ç”¨ä¸¤å±‚å·ç§¯å±‚æå–æ£‹ç›˜ç©ºé—´ç‰¹å¾ï¼Œé…åˆæ‰¹å½’ä¸€åŒ–æå‡è®­ç»ƒç¨³å®šæ€§ï¼›</li><li>é‡‡ç”¨ä¸¤å±‚å…¨è¿æ¥å±‚ï¼Œå°†å·ç§¯ç‰¹å¾æ˜ å°„ä¸ºè½å­ä½ç½®å¾—åˆ†ï¼›</li><li>æ¨¡å‹ç»“æ„ç®€æ´ï¼Œæ–°æ‰‹æ˜“ç†è§£ï¼Œè®­ç»ƒé€Ÿåº¦å¿«ï¼Œæ— éœ€é«˜ç«¯GPUã€‚</li></ul></li><li>åŠ è½½è‡ªå¯¹å¼ˆæ ·æœ¬ï¼šå®ç°è‡ªå®šä¹‰<code>GomokuDataset</code>ç±»ï¼Œè§£æ<code>npz</code>æ–‡ä»¶ï¼Œè½¬æ¢ä¸ºPyTorchå¯å¤„ç†çš„å¼ é‡ï¼›</li><li>æ¨¡å‹è®­ç»ƒé…ç½®ï¼šé‡‡ç”¨<code>CrossEntropyLoss</code>æŸå¤±å‡½æ•°ï¼ˆé€‚é…åˆ†ç±»ä»»åŠ¡ï¼Œè½å­ä½ç½®å¯è§†ä¸º225åˆ†ç±»ï¼‰ã€<code>Adam</code>ä¼˜åŒ–å™¨ï¼ˆæ”¶æ•›é€Ÿåº¦å¿«ï¼‰ã€å­¦ä¹ ç‡è°ƒåº¦å™¨ï¼ˆé˜²æ­¢è®­ç»ƒåæœŸéœ‡è¡ï¼‰ï¼›</li><li>ä¿å­˜è®­ç»ƒæ¨¡å‹ï¼šè®­ç»ƒå®Œæˆåï¼Œä¿å­˜æ¨¡å‹å‚æ•°ä¸º<code>gomoku_model.pth</code>ï¼Œä¾›åç»­å¯¹å¼ˆç•Œé¢åŠ è½½ã€‚</li></ol><h4 id="å…³é”®äº®ç‚¹-1"><a href="#å…³é”®äº®ç‚¹-1" class="headerlink" title="å…³é”®äº®ç‚¹"></a>å…³é”®äº®ç‚¹</h4><ul><li>æ¨¡å‹ç»“æ„ä¸åç»­å¯¹å¼ˆç•Œé¢çš„æ¨¡å‹å®šä¹‰å®Œå…¨ä¸€è‡´ï¼Œé¿å…åŠ è½½æ—¶å‡ºç°â€ç»“æ„ä¸åŒ¹é…â€é”™è¯¯ï¼›</li><li>è®­ç»ƒè¿‡ç¨‹å¸¦æœ‰è¿›åº¦æ¡å±•ç¤ºï¼Œå®æ—¶è¾“å‡ºæŸå¤±å€¼ï¼Œæ–¹ä¾¿ç›‘æ§è®­ç»ƒæ•ˆæœï¼›</li><li>æ”¯æŒCPUè®­ç»ƒï¼Œæ™®é€šç”µè„‘å³å¯å®Œæˆï¼Œé—¨æ§›ä½ã€‚</li></ul><h3 id="ç¬¬ä¸‰æ­¥ï¼šæ­å»ºå¯è§†åŒ–å¯¹å¼ˆç•Œé¢ä¸AIæ ¸å¿ƒå†³ç­–"><a href="#ç¬¬ä¸‰æ­¥ï¼šæ­å»ºå¯è§†åŒ–å¯¹å¼ˆç•Œé¢ä¸AIæ ¸å¿ƒå†³ç­–" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šæ­å»ºå¯è§†åŒ–å¯¹å¼ˆç•Œé¢ä¸AIæ ¸å¿ƒå†³ç­–"></a>ç¬¬ä¸‰æ­¥ï¼šæ­å»ºå¯è§†åŒ–å¯¹å¼ˆç•Œé¢ä¸AIæ ¸å¿ƒå†³ç­–</h3><p>â€‹æˆ‘ä»¬é€šè¿‡Tkinteræ­å»ºå¯è§†åŒ–ç•Œé¢ï¼ŒåŒæ—¶å®ç° æ¨¡å‹é¢„æµ‹ä¸Q-Learningä¼˜åŒ–çš„AIå†³ç­–é€»è¾‘ã€‚</p><h4 id="Part-1ï¼šå¯è§†åŒ–ç•Œé¢æ­å»º"><a href="#Part-1ï¼šå¯è§†åŒ–ç•Œé¢æ­å»º" class="headerlink" title="Part 1ï¼šå¯è§†åŒ–ç•Œé¢æ­å»º"></a>Part 1ï¼šå¯è§†åŒ–ç•Œé¢æ­å»º</h4><ol><li>æ£‹ç›˜ç»˜åˆ¶ï¼šç»˜åˆ¶15x15æ ‡å‡†äº”å­æ£‹æ£‹ç›˜ï¼ŒåŒ…å«æ¨ªçº¿ã€ç«–çº¿ä¸æ˜Ÿä½ï¼ˆ3ã€7ã€11ä½ç½®ï¼‰ï¼Œè¿˜åŸçœŸå®äº”å­æ£‹åœºæ™¯ï¼›</li><li>æ£‹å­ç»˜åˆ¶ï¼šåŒºåˆ†ç©å®¶é»‘æ£‹ä¸AIç™½æ£‹ï¼Œé€šè¿‡é¼ æ ‡ç‚¹å‡»äº‹ä»¶å®ç°ç©å®¶è½å­ï¼Œè‡ªåŠ¨æ ¡éªŒè½å­åˆæ³•æ€§ï¼ˆè¶Šç•Œã€é‡å¤è½å­ï¼‰ï¼›</li><li>æ¸¸æˆæ§åˆ¶ï¼šå®ç°â€å¼€å§‹æ–°æ¸¸æˆâ€â€é‡ç½®æ£‹ç›˜â€æŒ‰é’®ï¼Œæ”¯æŒæ¸¸æˆçŠ¶æ€é‡ç½®ï¼›</li><li>èƒœè´Ÿæç¤ºï¼šè½å­åè‡ªåŠ¨æ£€æµ‹æ¨ªã€ç«–ã€æ–œå››ä¸ªæ–¹å‘çš„äº”å­è¿ç ï¼Œå¼¹å‡ºæç¤ºæ¡†å‘ŠçŸ¥å¯¹å±€ç»“æœã€‚</li></ol><h4 id="Part-2ï¼šAIæ ¸å¿ƒå†³ç­–é€»è¾‘"><a href="#Part-2ï¼šAIæ ¸å¿ƒå†³ç­–é€»è¾‘" class="headerlink" title="Part 2ï¼šAIæ ¸å¿ƒå†³ç­–é€»è¾‘"></a>Part 2ï¼šAIæ ¸å¿ƒå†³ç­–é€»è¾‘</h4><p>AIè½å­ä¼˜å…ˆçº§ä¸¥æ ¼éµå¾ªâ€å…ˆä¿å‘½ã€å†è·èƒœã€åå¸¸è§„â€ï¼Œå½»åº•é¿å…ä½çº§å¤±è¯¯ï¼Œå…·ä½“ä¼˜å…ˆçº§å¦‚ä¸‹ï¼š</p><ol><li><strong>ä¼˜å…ˆè¡¥è‡ªå·±4è¿ï¼ˆè·èƒœï¼‰</strong>ï¼šå®æ—¶æ£€æµ‹è‡ªèº«çš„4è¿ä¼˜åŠ¿ï¼Œåªè¦æ£€æµ‹åˆ°ï¼Œç«‹å³è¡¥å­å½¢æˆ5è¿ï¼Œç›´æ¥è·èƒœ</li><li><strong>ä¼˜å…ˆå µå¯¹æ‰‹4è¿ï¼ˆä¿å‘½ï¼‰</strong>ï¼šå®æ—¶æ£€æµ‹å¯¹æ‰‹çš„4è¿å¨èƒï¼Œåªè¦æ£€æµ‹åˆ°ï¼Œç«‹å³è½å­å µå¡ï¼Œé˜²æ­¢å¯¹æ‰‹ä¸‹ä¸€æ­¥è·èƒœï¼›</li><li><strong>ä¼˜å…ˆå µå¯¹æ‰‹3è¿ï¼ˆé˜²å¨èƒï¼‰</strong>ï¼šæ£€æµ‹å¯¹æ‰‹çš„3è¿å¨èƒï¼Œå µå¡å…¶å½¢æˆ4è¿çš„å¯èƒ½ï¼Œéåˆ¶å¯¹æ‰‹è¿›æ”»ï¼›</li><li><strong>ä¼˜å…ˆè¡¥è‡ªå·±3è¿ï¼ˆé€ å¨èƒï¼‰</strong>ï¼šæ£€æµ‹è‡ªèº«çš„3è¿ä¼˜åŠ¿ï¼Œè¡¥å­å½¢æˆ4è¿ï¼Œç»™å¯¹æ‰‹æ–½åŠ é˜²å®ˆå‹åŠ›ï¼›</li><li><strong>æ¨¡å‹+Q-Learningé¢„æµ‹ï¼ˆå¸¸è§„å†³ç­–ï¼‰</strong>ï¼šæ— æ˜æ˜¾æ”»é˜²å¨èƒæ—¶ï¼ŒåŠ è½½è®­ç»ƒå¥½çš„CNNæ¨¡å‹è·å–è½å­å¾—åˆ†ï¼Œç»“åˆQ-Learningåœ¨çº¿ä¼˜åŒ–è½å­é€‰æ‹©ï¼Œæå‡å†³ç­–çµæ´»æ€§ï¼›</li><li><strong>éšæœºè½å­ï¼ˆæç«¯å…œåº•ï¼‰</strong>ï¼šæ— æ¨¡å‹æ–‡ä»¶æ—¶ï¼Œè‡ªåŠ¨é™çº§ä¸ºéšæœºè½å­ï¼Œä¸å½±å“æ¸¸æˆè¿è¡Œã€‚</li></ol><h4 id="å…³é”®äº®ç‚¹-2"><a href="#å…³é”®äº®ç‚¹-2" class="headerlink" title="å…³é”®äº®ç‚¹"></a>å…³é”®äº®ç‚¹</h4><ol><li>é€šè¿‡<code>check_opponent_threat</code>ï¼ˆæ£€æµ‹å¯¹æ‰‹å¨èƒï¼‰å’Œ<code>check_ai_advantage</code>ï¼ˆæ£€æµ‹è‡ªèº«ä¼˜åŠ¿ï¼‰ä¸¤ä¸ªæ–¹æ³•ï¼Œ100%è¯†åˆ«3è¿&#x2F;4è¿ï¼Œé¿å…æ¨¡å‹è®­ç»ƒä¸ç¡®å®šæ€§å¸¦æ¥çš„ä½çº§å¤±è¯¯ï¼›</li><li>Q-Learningåœ¨çº¿ä¼˜åŒ–ï¼šé€šè¿‡Qè¡¨è®°å½•æ£‹ç›˜çŠ¶æ€ä¸è½å­ä»·å€¼ï¼Œåœ¨çº¿å¯¹å¼ˆè¿‡ç¨‹ä¸­ä¸æ–­æ›´æ–°Qå€¼ï¼Œæå‡AIçš„è‡ªé€‚åº”èƒ½åŠ›ï¼›</li><li>å…¼å®¹æ€§å¼ºï¼šæ— <code>gomoku_model.pth</code>æ–‡ä»¶æ—¶ï¼ŒAIè‡ªåŠ¨é™çº§ä¸ºç¡¬ç¼–ç ç­–ç•¥è½å­ï¼Œä¾ç„¶å…·å¤‡æ”»é˜²èƒ½åŠ›ï¼Œä¸å½±å“å¯¹å¼ˆä½“éªŒï¼›</li></ol><h2 id="äº”ã€é¡¹ç›®è¿è¡Œæ•ˆæœéªŒè¯"><a href="#äº”ã€é¡¹ç›®è¿è¡Œæ•ˆæœéªŒè¯" class="headerlink" title="äº”ã€é¡¹ç›®è¿è¡Œæ•ˆæœéªŒè¯"></a>äº”ã€é¡¹ç›®è¿è¡Œæ•ˆæœéªŒè¯</h2><ol><li>è¿è¡Œ<code>gomoku_data.py</code>ï¼Œç”Ÿæˆ<code>gomoku_train_data.npz</code>æ ·æœ¬æ–‡ä»¶ï¼›</li><li>è¿è¡Œ<code>train_model.py</code>ï¼Œè®­ç»ƒå®Œæˆåç”Ÿæˆ<code>gomoku_model.pth</code>æ¨¡å‹æ–‡ä»¶ï¼›</li><li>è¿è¡Œ<code>main.py</code>ï¼Œç‚¹å‡»â€å¼€å§‹æ–°æ¸¸æˆâ€ï¼Œå³å¯å¼€å§‹ä¸AIå¯¹å¼ˆï¼š<ul><li>ç©å®¶è½å­å½¢æˆ3è¿&#x2F;4è¿ï¼ŒAIä¼šç«‹å³å µå¡ï¼Œä¸ä¼šæ¼é˜²ï¼›</li><li>AIå½¢æˆ3è¿&#x2F;4è¿åï¼Œä¼šä¼˜å…ˆè¡¥å­å†²5è·èƒœï¼Œä¸ä¼šæµªè´¹æœºä¼šï¼›</li><li>æ— æ˜æ˜¾æ”»é˜²å¨èƒæ—¶ï¼ŒAIä¼šåŸºäºCNNæ¨¡å‹è½å­ï¼Œå…·å¤‡çµæ´»çš„å¸¸è§„ç­–ç•¥ã€‚</li></ul></li></ol><h1 id="å…­ã€æ”¹é”™å†ç¨‹"><a href="#å…­ã€æ”¹é”™å†ç¨‹" class="headerlink" title="å…­ã€æ”¹é”™å†ç¨‹"></a>å…­ã€æ”¹é”™å†ç¨‹</h1><p>åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ï¼ŒAIçš„å†³ç­–é€»è¾‘ç»å†äº†ä¸‰æ¬¡æ ¸å¿ƒè¿­ä»£ï¼Œä»â€æ— ç­–ç•¥ä¹±è½å­â€é€æ­¥ä¼˜åŒ–ä¸ºâ€æ”»é˜²å…¼å¤‡ã€èƒ½æ”»å–„å®ˆâ€ï¼Œæ¯ä¸€æ¬¡æ”¹é”™éƒ½é’ˆå¯¹æ€§è§£å†³äº†å®é™…å¯¹å¼ˆä¸­çš„å…³é”®é—®é¢˜ï¼Œå…·ä½“å†ç¨‹å¦‚ä¸‹ï¼š</p><h2 id="1-åˆå§‹é—®é¢˜ï¼šAIçº¯éšæœºè½å­ï¼Œå¼ºåŒ–å­¦ä¹ æ— æ•ˆ"><a href="#1-åˆå§‹é—®é¢˜ï¼šAIçº¯éšæœºè½å­ï¼Œå¼ºåŒ–å­¦ä¹ æ— æ•ˆ" class="headerlink" title="1. åˆå§‹é—®é¢˜ï¼šAIçº¯éšæœºè½å­ï¼Œå¼ºåŒ–å­¦ä¹ æ— æ•ˆ"></a>1. åˆå§‹é—®é¢˜ï¼šAIçº¯éšæœºè½å­ï¼Œå¼ºåŒ–å­¦ä¹ æ— æ•ˆ</h2><h3 id="é—®é¢˜è¡¨ç°"><a href="#é—®é¢˜è¡¨ç°" class="headerlink" title="é—®é¢˜è¡¨ç°"></a>é—®é¢˜è¡¨ç°</h3><p>é¡¹ç›®åˆæœŸï¼Œä»…å®ç°äº†Q-Learningå¼ºåŒ–å­¦ä¹ æ¡†æ¶å’ŒåŸºç¡€å¯è§†åŒ–ç•Œé¢ï¼ŒæœªåŠ å…¥ä»»ä½•ç­–ç•¥é€»è¾‘ï¼Œè¿è¡Œæ¸¸æˆåå‘ç°ï¼ŒAIè½å­å®Œå…¨éšæœºâ€”â€”æ— è®ºç©å®¶å¦‚ä½•è½å­ã€æ˜¯å¦å½¢æˆè¿å­å¨èƒï¼ŒAIéƒ½ä¸ä¼šé’ˆå¯¹æ€§é˜²å®ˆï¼Œä¹Ÿä¸ä¼šä¸»åŠ¨è¿å­ï¼Œç”šè‡³ä¼šè½åœ¨æ£‹ç›˜è¾¹ç¼˜æ— æ„ä¹‰çš„ä½ç½®ï¼Œå¯¹å¼ˆä½“éªŒæå·®ï¼›åŒæ—¶è§‚å¯ŸQ-Learningçš„Qè¡¨çš„æ›´æ–°æ—¥å¿—ï¼Œå‘ç°Qå€¼å§‹ç»ˆå¤„äºéšæœºæ³¢åŠ¨çŠ¶æ€ï¼Œå¹¶æœªéšç€å¯¹å±€æ¬¡æ•°å¢åŠ è€Œæ”¶æ•›ï¼Œå¼ºåŒ–å­¦ä¹ å®Œå…¨æ²¡æœ‰å‘æŒ¥ä½œç”¨ã€‚</p><h3 id="æ’æŸ¥ä¸é”™è¯¯åŸå› "><a href="#æ’æŸ¥ä¸é”™è¯¯åŸå› " class="headerlink" title="æ’æŸ¥ä¸é”™è¯¯åŸå› "></a>æ’æŸ¥ä¸é”™è¯¯åŸå› </h3><p>é€šè¿‡é€è¡Œè°ƒè¯•ä»£ç ã€æ‰“å°å…³é”®å˜é‡ï¼Œæœ€ç»ˆå®šä½åˆ°ä¸¤ä¸ªæ ¸å¿ƒé”™è¯¯ï¼š</p><ul><li><strong>é”™è¯¯1</strong>ï¼šQ-Learningçš„çŠ¶æ€å“ˆå¸Œç”Ÿæˆå¼‚å¸¸ï¼Œ<code>get_state_hash</code>æ–¹æ³•ä¸­ï¼Œè¯¯ç”¨<code>board.tostring()</code>ï¼ˆNumPyæ–°ç‰ˆæœ¬å·²åºŸå¼ƒï¼‰ï¼Œå¯¼è‡´ä¸åŒæ£‹ç›˜çŠ¶æ€ç”Ÿæˆç›¸åŒçš„å“ˆå¸Œå€¼ï¼ŒQè¡¨æ— æ³•æ­£ç¡®è®°å½•â€æ£‹ç›˜çŠ¶æ€-è½å­åŠ¨ä½œâ€çš„å¯¹åº”å…³ç³»ï¼Œå¼ºåŒ–å­¦ä¹ æ— æ³•ç§¯ç´¯æœ‰æ•ˆç»éªŒï¼›</li><li><strong>é”™è¯¯2</strong>ï¼šæœªè®¾ç½®ä»»ä½•åŸºç¡€è½å­ç­–ç•¥ï¼Œä»…ä¾èµ–Q-Learningçš„Îµ-è´ªå¿ƒç­–ç•¥ï¼Œè€ŒåˆæœŸQè¡¨ä¸ºç©ºï¼ŒAIçš„â€æ¢ç´¢ç‡â€ï¼ˆepsilon&#x3D;0.1ï¼‰è™½ä½ï¼Œä½†æ— æœ‰æ•ˆQå€¼å¯åˆ©ç”¨ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯éšæœºè½å­ï¼›åŒæ—¶ï¼ŒæœªåŠ è½½ä»»ä½•è®­ç»ƒå¥½çš„CNNæ¨¡å‹ï¼Œç¼ºä¹åŸºç¡€å†³ç­–ä¾æ®ï¼Œå¼ºåŒ–å­¦ä¹ æ²¡æœ‰â€å­¦ä¹ æ–¹å‘â€ã€‚</li></ul><h3 id="ä¿®æ”¹æ–¹æ¡ˆ"><a href="#ä¿®æ”¹æ–¹æ¡ˆ" class="headerlink" title="ä¿®æ”¹æ–¹æ¡ˆ"></a>ä¿®æ”¹æ–¹æ¡ˆ</h3><ol><li><strong>ä¿®å¤å“ˆå¸Œç”Ÿæˆé—®é¢˜</strong>ï¼šå°†<code>board.tostring()</code>æ›¿æ¢ä¸º<code>board.tobytes()</code>ï¼Œé€‚é…NumPyæ–°ç‰ˆæœ¬ï¼Œç¡®ä¿æ¯ä¸ªä¸åŒçš„æ£‹ç›˜çŠ¶æ€éƒ½èƒ½ç”Ÿæˆå”¯ä¸€çš„å“ˆå¸Œå€¼ï¼Œè®©Qè¡¨å¯ä»¥æ­£å¸¸æ›´æ–°å’ŒæŸ¥è¯¢ï¼›</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_state_hash</span>(<span class="params">self, board</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;å°†æ£‹ç›˜çŠ¶æ€è½¬æ¢ä¸ºå“ˆå¸Œå€¼ï¼ˆç”¨äºQè¡¨å­˜å‚¨ï¼‰&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># ä¿®å¤å‰ï¼šä½¿ç”¨å·²åºŸå¼ƒçš„tostring()æ–¹æ³•</span></span><br><span class="line">    <span class="comment"># return hash(board.tostring())  # âŒ è€ç‰ˆæœ¬NumPyæ–¹æ³•</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ä¿®å¤åï¼šä½¿ç”¨tobytes()æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">hash</span>(board.tobytes())  <span class="comment"># âœ… æ–°ç‰ˆæœ¬NumPyæ–¹æ³•</span></span><br></pre></td></tr></table></figure><ol start="2"><li><p><strong>æ–°å¢åŸºç¡€è½å­é€»è¾‘</strong>ï¼šåœ¨<code>ai_choose_action</code>æ–¹æ³•ä¸­ï¼Œå…ˆç­›é€‰â€ç›¸é‚»å·²æœ‰æ£‹å­â€çš„åˆæ³•ä½ç½®ï¼Œä¼˜å…ˆä»è¿™äº›ä½ç½®ä¸­é€‰æ‹©è½å­ï¼ˆé¿å…æ— æ„ä¹‰çš„è¾¹ç¼˜è½å­ï¼‰ï¼Œç»™å¼ºåŒ–å­¦ä¹ æä¾›åŸºç¡€æ–¹å‘ï¼›</p></li><li><p><strong>å®Œå–„Q-Learningå‚æ•°é…ç½®</strong>ï¼šè°ƒæ•´å­¦ä¹ ç‡ï¼ˆlr&#x3D;0.1ï¼‰ã€æŠ˜æ‰£å› å­ï¼ˆgamma&#x3D;0.9ï¼‰ï¼Œå»¶é•¿Qå€¼çš„æ›´æ–°å‘¨æœŸï¼Œç¡®ä¿Qè¡¨èƒ½éšç€å¯¹å±€æ¬¡æ•°å¢åŠ é€æ­¥æ”¶æ•›ï¼Œè®©å¼ºåŒ–å­¦ä¹ é€æ­¥ç§¯ç´¯æœ‰æ•ˆè½å­ç»éªŒã€‚</p></li></ol><h3 id="ä¿®æ”¹æ•ˆæœ"><a href="#ä¿®æ”¹æ•ˆæœ" class="headerlink" title="ä¿®æ”¹æ•ˆæœ"></a>ä¿®æ”¹æ•ˆæœ</h3><p>AIä¸å†å®Œå…¨éšæœºè½å­ï¼Œä¼šä¼˜å…ˆé€‰æ‹©å·²æœ‰æ£‹å­é™„è¿‘çš„ä½ç½®ï¼Œè½å­æ›´å…·åˆç†æ€§ï¼›Qè¡¨èƒ½å¤Ÿæ­£å¸¸æ›´æ–°ï¼Œéšç€å¯¹å±€æ¬¡æ•°å¢åŠ ï¼ŒAIä¼šé€æ­¥é¿å¼€æ— æ„ä¹‰çš„è½å­ä½ç½®ï¼Œå¼ºåŒ–å­¦ä¹ å¼€å§‹å‘æŒ¥ä½œç”¨ï¼Œä½†æ­¤æ—¶AIä»ä¸ä¼šåˆ¤æ–­å±€åŠ¿ã€ä¸ä¼šè¿å­å’Œé˜²å®ˆï¼Œä»…è§£å†³äº†â€ä¹±è½å­â€çš„åŸºç¡€é—®é¢˜ã€‚</p><h2 id="2-è¿›é˜¶é—®é¢˜ï¼šAIä¼˜å…ˆé™„è¿‘è½å­ï¼Œä½†ä¸ä¼šåˆ¤æ–­å±€åŠ¿"><a href="#2-è¿›é˜¶é—®é¢˜ï¼šAIä¼˜å…ˆé™„è¿‘è½å­ï¼Œä½†ä¸ä¼šåˆ¤æ–­å±€åŠ¿" class="headerlink" title="2. è¿›é˜¶é—®é¢˜ï¼šAIä¼˜å…ˆé™„è¿‘è½å­ï¼Œä½†ä¸ä¼šåˆ¤æ–­å±€åŠ¿"></a>2. è¿›é˜¶é—®é¢˜ï¼šAIä¼˜å…ˆé™„è¿‘è½å­ï¼Œä½†ä¸ä¼šåˆ¤æ–­å±€åŠ¿</h2><h3 id="é—®é¢˜è¡¨ç°-1"><a href="#é—®é¢˜è¡¨ç°-1" class="headerlink" title="é—®é¢˜è¡¨ç°"></a>é—®é¢˜è¡¨ç°</h3><p>è§£å†³éšæœºè½å­é—®é¢˜åï¼ŒAIèƒ½å¤Ÿä¼˜å…ˆé€‰æ‹©å·²æœ‰æ£‹å­é™„è¿‘çš„ä½ç½®è½å­ï¼Œä½†ä¾ç„¶å­˜åœ¨æ˜æ˜¾ç¼ºé™·â€”â€”ä¸ä¼šåˆ¤æ–­å¯¹å±€å±€åŠ¿ï¼šæ—¢ä¸ä¼šä¸»åŠ¨å½¢æˆ3è¿ã€4è¿çš„è¿›æ”»æ€åŠ¿ï¼Œä¹Ÿä¸ä¼šè¯†åˆ«ç©å®¶çš„è¿å­å¨èƒå¹¶å µå¡ï¼›æ¯”å¦‚ç©å®¶è¿ç»­è½å­å½¢æˆ3è¿ï¼ŒAIä¾ç„¶ä¼šåœ¨æ— å…³ä½ç½®è½å­ï¼Œä¸ä¼šé’ˆå¯¹æ€§é˜²å®ˆï¼›AIè‡ªèº«æœ‰æœºä¼šå½¢æˆ3è¿æ—¶ï¼Œä¹Ÿä¼šé”™è¿‡æœºä¼šï¼Œå§‹ç»ˆå¤„äºâ€è¢«åŠ¨è·Ÿéšâ€çŠ¶æ€ï¼Œå¯¹å¼ˆæ¯«æ— æŒ‘æˆ˜æ€§ã€‚</p><h3 id="æ’æŸ¥ä¸é”™è¯¯åŸå› -1"><a href="#æ’æŸ¥ä¸é”™è¯¯åŸå› -1" class="headerlink" title="æ’æŸ¥ä¸é”™è¯¯åŸå› "></a>æ’æŸ¥ä¸é”™è¯¯åŸå› </h3><p>æ ¸å¿ƒåŸå› æ˜¯<strong>ç¼ºä¹å±€åŠ¿åˆ¤æ–­é€»è¾‘</strong>ï¼ŒAIä»…èƒ½æ ¹æ®â€ä½ç½®æ˜¯å¦ç›¸é‚»â€é€‰æ‹©è½å­ï¼Œæ— æ³•è¯†åˆ«â€è¿å­å¨èƒâ€å’Œâ€è¿å­ä¼˜åŠ¿â€ï¼Œå…·ä½“ä½“ç°åœ¨ï¼š</p><ul><li><strong>æœªå®ç°è¿å­æ£€æµ‹åŠŸèƒ½</strong>ï¼šæ²¡æœ‰ç¼–å†™<code>count_continuous_pieces</code>ï¼ˆè¿ç»­æ£‹å­è®¡æ•°ï¼‰ã€<code>check_opponent_threat</code>ï¼ˆå¯¹æ‰‹å¨èƒæ£€æµ‹ï¼‰ç­‰æ–¹æ³•ï¼Œæ— æ³•è¯†åˆ«ç©å®¶å’ŒAIè‡ªèº«çš„3è¿ã€4è¿çŠ¶æ€ï¼›</li><li><strong>è½å­ä¼˜å…ˆçº§æ··ä¹±</strong>ï¼šä»…è®¾ç½®äº†â€ç›¸é‚»ä½ç½®ä¼˜å…ˆâ€ï¼Œæœªå®šä¹‰â€é˜²å®ˆ&gt;è¿›æ”»&gt;å¸¸è§„è½å­â€çš„ä¼˜å…ˆçº§ï¼ŒAIæ— æ³•åˆ¤æ–­â€å“ªä¸ªä½ç½®æ›´é‡è¦â€ï¼›</li><li><strong>å¼ºåŒ–å­¦ä¹ ä¸å±€åŠ¿åˆ¤æ–­è„±èŠ‚</strong>ï¼šQ-Learningä»…èƒ½æ ¹æ®å†å²è½å­ç»éªŒä¼˜åŒ–é€‰æ‹©ï¼Œä½†æ— æ³•ç†è§£â€è¿å­&#x3D;ä¼˜åŠ¿â€â€æ¼å µ&#x3D;è¾“æ£‹â€çš„æ ¸å¿ƒè§„åˆ™ï¼Œç»éªŒç§¯ç´¯æ•ˆç‡æä½ã€‚</li></ul><h3 id="ä¿®æ”¹æ–¹æ¡ˆ-1"><a href="#ä¿®æ”¹æ–¹æ¡ˆ-1" class="headerlink" title="ä¿®æ”¹æ–¹æ¡ˆ"></a>ä¿®æ”¹æ–¹æ¡ˆ</h3><ol><li><strong>æ–°å¢å±€åŠ¿åˆ¤æ–­æ ¸å¿ƒæ–¹æ³•</strong>ï¼šåœ¨<code>BoardManager</code>ç±»ä¸­ï¼Œå®ç°<code>count_continuous_pieces</code>æ–¹æ³•ï¼Œç”¨äºç»Ÿè®¡æŸä¸€æ–¹å‘ä¸Šçš„è¿ç»­æ£‹å­æ•°ï¼›æ–°å¢<code>check_opponent_threat</code>æ–¹æ³•ï¼Œä¸“é—¨æ£€æµ‹ç©å®¶çš„3è¿ã€4è¿å¨èƒï¼Œä¸ºé˜²å®ˆç­–ç•¥æä¾›æ”¯æ’‘ï¼›</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">count_continuous_pieces</span>(<span class="params">self, x, y, player, dx, dy</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;ç»Ÿè®¡æŸæ–¹å‘ä¸Šçš„è¿ç»­æ£‹å­æ•°ï¼ˆå«å½“å‰ä½ç½®ï¼‰&quot;&quot;&quot;</span></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    nx, ny = x, y</span><br><span class="line">    <span class="keyword">while</span> <span class="number">0</span> &lt;= nx &lt; <span class="variable language_">self</span>.size <span class="keyword">and</span> <span class="number">0</span> &lt;= ny &lt; <span class="variable language_">self</span>.size <span class="keyword">and</span> <span class="variable language_">self</span>.board[nx, ny] == player:</span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">        nx += dx</span><br><span class="line">        ny += dy</span><br><span class="line">    <span class="keyword">return</span> count</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">check_opponent_threat</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;æ£€æµ‹å¯¹æ‰‹ï¼ˆç©å®¶ï¼‰çš„3è¿/4è¿å¨èƒï¼Œè¿”å›ä¼˜å…ˆçº§å µå¡ä½ç½®&quot;&quot;&quot;</span></span><br><span class="line">    opponent = <span class="number">1</span></span><br><span class="line">    four_threats = []  <span class="comment"># å¯¹æ‰‹4è¿ï¼ˆå¿…å µï¼‰</span></span><br><span class="line">    three_threats = []  <span class="comment"># å¯¹æ‰‹3è¿ï¼ˆæ¬¡å¿…å µï¼‰</span></span><br><span class="line">    directions = [(<span class="number">0</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">0</span>), (<span class="number">1</span>, <span class="number">1</span>), (<span class="number">1</span>, -<span class="number">1</span>)]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="variable language_">self</span>.size):</span><br><span class="line">        <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(<span class="variable language_">self</span>.size):</span><br><span class="line">            <span class="keyword">if</span> <span class="variable language_">self</span>.board[x, y] == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">for</span> dx, dy <span class="keyword">in</span> directions:</span><br><span class="line">                    left_count = <span class="variable language_">self</span>.count_continuous_pieces(x - dx, y - dy, opponent, -dx, -dy)</span><br><span class="line">                    right_count = <span class="variable language_">self</span>.count_continuous_pieces(x + dx, y + dy, opponent, dx, dy)</span><br><span class="line">                    total = left_count + right_count</span><br><span class="line">                    </span><br><span class="line">                    <span class="keyword">if</span> total == <span class="number">4</span>:</span><br><span class="line">                        <span class="keyword">if</span> (x, y) <span class="keyword">not</span> <span class="keyword">in</span> four_threats:</span><br><span class="line">                            four_threats.append((x, y))</span><br><span class="line">                    <span class="keyword">elif</span> total == <span class="number">3</span>:</span><br><span class="line">                        left_block = <span class="keyword">not</span> (<span class="number">0</span> &lt;= x - (left_count + <span class="number">1</span>)*dx &lt; <span class="variable language_">self</span>.size <span class="keyword">and</span> <span class="number">0</span> &lt;= y - (left_count + <span class="number">1</span>)*dy &lt; <span class="variable language_">self</span>.size)</span><br><span class="line">                        right_block = <span class="keyword">not</span> (<span class="number">0</span> &lt;= x + (right_count + <span class="number">1</span>)*dx &lt; <span class="variable language_">self</span>.size <span class="keyword">and</span> <span class="number">0</span> &lt;= y + (right_count + <span class="number">1</span>)*dy &lt; <span class="variable language_">self</span>.size)</span><br><span class="line">                        <span class="keyword">if</span> <span class="keyword">not</span> (left_block <span class="keyword">and</span> right_block) <span class="keyword">and</span> (x, y) <span class="keyword">not</span> <span class="keyword">in</span> three_threats:</span><br><span class="line">                            three_threats.append((x, y))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> four_threats:</span><br><span class="line">        <span class="keyword">return</span> four_threats[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">elif</span> three_threats:</span><br><span class="line">        <span class="keyword">return</span> three_threats[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span></span><br></pre></td></tr></table></figure><ol start="2"><li><p><strong>ä¼˜åŒ–è½å­ä¼˜å…ˆçº§</strong>ï¼šåœ¨<code>ai_choose_action</code>æ–¹æ³•ä¸­ï¼Œæ–°å¢â€å µå¡å¯¹æ‰‹4è¿â†’å µå¡å¯¹æ‰‹3è¿â€çš„é˜²å®ˆä¼˜å…ˆçº§ï¼Œä¼˜å…ˆå¤„ç†ç©å®¶çš„è‡´å‘½å¨èƒï¼Œå†é€‰æ‹©å¸¸è§„è½å­ä½ç½®ï¼›</p></li><li><p><strong>è”åŠ¨å¼ºåŒ–å­¦ä¹ ä¸å±€åŠ¿åˆ¤æ–­</strong>ï¼šå°†å±€åŠ¿åˆ¤æ–­çš„ç»“æœèå…¥Q-Learningçš„å¥–åŠ±æœºåˆ¶ï¼Œè‹¥AIæˆåŠŸå µå¡ç©å®¶çš„4è¿ï¼Œç»™äºˆæ­£å‘å¥–åŠ±ï¼ˆreward&#x3D;10ï¼‰ï¼›è‹¥AIæ¼å µç©å®¶çš„4è¿å¯¼è‡´è¾“æ£‹ï¼Œç»™äºˆè´Ÿå‘å¥–åŠ±ï¼ˆreward&#x3D;-20ï¼‰ï¼Œå¼•å¯¼å¼ºåŒ–å­¦ä¹ å‘â€é˜²å®ˆä¼˜å…ˆâ€çš„æ–¹å‘ç§¯ç´¯ç»éªŒã€‚</p></li></ol><h3 id="ä¿®æ”¹æ•ˆæœ-1"><a href="#ä¿®æ”¹æ•ˆæœ-1" class="headerlink" title="ä¿®æ”¹æ•ˆæœ"></a>ä¿®æ”¹æ•ˆæœ</h3><p>AIå…·å¤‡äº†åŸºç¡€çš„å±€åŠ¿åˆ¤æ–­èƒ½åŠ›ï¼Œèƒ½å¤Ÿè¯†åˆ«ç©å®¶çš„3è¿ã€4è¿å¨èƒï¼Œå¹¶ä¼˜å…ˆè½å­å µå¡ï¼›è½å­ä¸å†å±€é™äºâ€ç›¸é‚»ä½ç½®â€ï¼Œä¼šä¸»åŠ¨é€‰æ‹©èƒ½éåˆ¶ç©å®¶è¿›æ”»çš„ä½ç½®ï¼Œå¯¹å¼ˆçš„æŒ‘æˆ˜æ€§æ˜¾è‘—æå‡ï¼›ä½†æ­¤æ—¶AIä»å­˜åœ¨ä¸€ä¸ªå…³é”®ç¼ºé™·â€”â€”åªä¼šé˜²å®ˆï¼Œä¸ä¼šä¸»åŠ¨è¿½æ±‚èƒœåˆ©ï¼Œå³ä¾¿è‡ªèº«å½¢æˆ4è¿ã€æœ‰æœºä¼šä¸€æ­¥è·èƒœï¼Œä¹Ÿä¼šé€‰æ‹©é˜²å®ˆæˆ–å¸¸è§„è½å­ï¼Œæµªè´¹è·èƒœæœºä¼šã€‚</p><h2 id="3-æœ€ç»ˆé—®é¢˜ï¼šAIä¼šå µå¡ä½ è½å­ï¼Œä½†ä¸ä¼šä¸»åŠ¨èƒœåˆ©"><a href="#3-æœ€ç»ˆé—®é¢˜ï¼šAIä¼šå µå¡ä½ è½å­ï¼Œä½†ä¸ä¼šä¸»åŠ¨èƒœåˆ©" class="headerlink" title="3. æœ€ç»ˆé—®é¢˜ï¼šAIä¼šå µå¡ä½ è½å­ï¼Œä½†ä¸ä¼šä¸»åŠ¨èƒœåˆ©"></a>3. æœ€ç»ˆé—®é¢˜ï¼šAIä¼šå µå¡ä½ è½å­ï¼Œä½†ä¸ä¼šä¸»åŠ¨èƒœåˆ©</h2><h3 id="é—®é¢˜è¡¨ç°-2"><a href="#é—®é¢˜è¡¨ç°-2" class="headerlink" title="é—®é¢˜è¡¨ç°"></a>é—®é¢˜è¡¨ç°</h3><p>ç»è¿‡å‰ä¸¤æ¬¡ä¿®æ”¹ï¼ŒAIçš„é˜²å®ˆèƒ½åŠ›å·²ç»åŸºæœ¬å®Œå–„ï¼Œèƒ½å¤Ÿç²¾å‡†å µå¡ç©å®¶çš„3è¿ã€4è¿å¨èƒï¼Œä¸ä¼šå‡ºç°â€æ¼å µè‡´å‘½å¨èƒâ€çš„ä½çº§å¤±è¯¯ï¼Œä½†æ–°çš„é—®é¢˜éšä¹‹å‡ºç°ï¼šAIåªä¼šè¢«åŠ¨é˜²å®ˆï¼Œä¸ä¼šä¸»åŠ¨è¿›æ”»ã€è¿½æ±‚èƒœåˆ©ï¼›æ¯”å¦‚AIè‡ªèº«å·²ç»å½¢æˆ4è¿ï¼Œåªéœ€è¡¥å­ä¸€æ­¥å°±èƒ½å½¢æˆ5è¿è·èƒœï¼Œä½†AIä¾ç„¶ä¼šé€‰æ‹©å µå¡ç©å®¶çš„æ— å…³3è¿ï¼Œæˆ–è½åœ¨å…¶ä»–æ— æ„ä¹‰çš„ä½ç½®ï¼›å³ä¾¿æ²¡æœ‰ç©å®¶çš„å¨èƒï¼ŒAIä¹Ÿä¸ä¼šä¸»åŠ¨å½¢æˆ3è¿ã€4è¿ï¼Œå§‹ç»ˆå¤„äºâ€è¢«åŠ¨é˜²å®ˆâ€çŠ¶æ€ï¼Œæ— æ³•ä¸»åŠ¨ç»“æŸå¯¹å±€ã€‚</p><h3 id="æ’æŸ¥ä¸é”™è¯¯åŸå› -2"><a href="#æ’æŸ¥ä¸é”™è¯¯åŸå› -2" class="headerlink" title="æ’æŸ¥ä¸é”™è¯¯åŸå› "></a>æ’æŸ¥ä¸é”™è¯¯åŸå› </h3><p>æ ¸å¿ƒåŸå› æ˜¯<strong>ç¼ºä¹AIè‡ªèº«è¿›æ”»ä¼˜åŠ¿çš„æ£€æµ‹é€»è¾‘</strong>ï¼Œè½å­ä¼˜å…ˆçº§ä»…ä¾§é‡é˜²å®ˆï¼Œæœªå…¼é¡¾è¿›æ”»ï¼Œå…·ä½“ä½“ç°åœ¨ï¼š</p><ul><li><strong>æœªæ£€æµ‹AIè‡ªèº«çš„è¿å­ä¼˜åŠ¿</strong>ï¼šä»…å®ç°äº†<code>check_opponent_threat</code>ï¼ˆæ£€æµ‹ç©å®¶å¨èƒï¼‰ï¼Œæœªç¼–å†™æ£€æµ‹AIè‡ªèº«3è¿ã€4è¿ä¼˜åŠ¿çš„æ–¹æ³•ï¼ŒAIæ— æ³•çŸ¥æ™“è‡ªå·±çš„è¿å­çŠ¶æ€ï¼Œè‡ªç„¶ä¸ä¼šä¸»åŠ¨è¡¥å­å†²5ï¼›</li><li><strong>è½å­ä¼˜å…ˆçº§å¤±è¡¡</strong>ï¼šä»…è®¾ç½®äº†â€é˜²å®ˆä¼˜å…ˆçº§â€ï¼Œæœªå°†â€AIè‡ªèº«å†²5ã€å†²4â€çº³å…¥é«˜ä¼˜å…ˆçº§ï¼Œå¯¼è‡´AIå³ä¾¿æœ‰è·èƒœæœºä¼šï¼Œä¹Ÿä¼šä¼˜å…ˆé€‰æ‹©é˜²å®ˆï¼Œå¿½è§†è¿›æ”»ï¼›</li><li><strong>å¼ºåŒ–å­¦ä¹ å¥–åŠ±æœºåˆ¶åå‘é˜²å®ˆ</strong>ï¼šä¹‹å‰çš„å¥–åŠ±æœºåˆ¶ä»…é’ˆå¯¹é˜²å®ˆè¡Œä¸ºç»™äºˆæ­£å‘å¥–åŠ±ï¼Œæœªå¯¹AIä¸»åŠ¨è¿å­ã€å†²5è·èƒœçš„è¡Œä¸ºç»™äºˆå¥–åŠ±ï¼Œå¯¼è‡´AIç¼ºä¹â€è¿›æ”»åŠ¨åŠ›â€ã€‚</li></ul><h3 id="ä¿®æ”¹æ–¹æ¡ˆ-2"><a href="#ä¿®æ”¹æ–¹æ¡ˆ-2" class="headerlink" title="ä¿®æ”¹æ–¹æ¡ˆ"></a>ä¿®æ”¹æ–¹æ¡ˆ</h3><ol><li><strong>æ–°å¢AIè¿›æ”»ä¼˜åŠ¿æ£€æµ‹æ–¹æ³•</strong>ï¼šåœ¨<code>BoardManager</code>ç±»ä¸­ï¼Œæ–°å¢<code>check_ai_advantage</code>æ–¹æ³•ï¼Œä¸<code>check_opponent_threat</code>å¯¹ç§°ï¼Œä¸“é—¨æ£€æµ‹AIè‡ªèº«çš„3è¿ã€4è¿ä¼˜åŠ¿ï¼Œè¯†åˆ«â€è¡¥å­å³è·èƒœâ€â€è¡¥å­å³å½¢æˆ4è¿â€çš„å…³é”®ä½ç½®ï¼›</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">check_ai_advantage</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;æ£€æµ‹AIè‡ªèº«çš„3è¿/4è¿ä¼˜åŠ¿ï¼Œè¿”å›ä¼˜å…ˆçº§å†²5ä½ç½®&quot;&quot;&quot;</span></span><br><span class="line">    ai = <span class="number">2</span></span><br><span class="line">    four_advantages = []  <span class="comment"># AI4è¿ï¼ˆè¡¥å­å³5è¿è·èƒœï¼‰</span></span><br><span class="line">    three_advantages = []  <span class="comment"># AI3è¿ï¼ˆè¡¥å­å³4è¿ï¼‰</span></span><br><span class="line">    directions = [(<span class="number">0</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">0</span>), (<span class="number">1</span>, <span class="number">1</span>), (<span class="number">1</span>, -<span class="number">1</span>)]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="variable language_">self</span>.size):</span><br><span class="line">        <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(<span class="variable language_">self</span>.size):</span><br><span class="line">            <span class="keyword">if</span> <span class="variable language_">self</span>.board[x, y] == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">for</span> dx, dy <span class="keyword">in</span> directions:</span><br><span class="line">                    left_count = <span class="variable language_">self</span>.count_continuous_pieces(x - dx, y - dy, ai, -dx, -dy)</span><br><span class="line">                    right_count = <span class="variable language_">self</span>.count_continuous_pieces(x + dx, y + dy, ai, dx, dy)</span><br><span class="line">                    total = left_count + right_count</span><br><span class="line">                    </span><br><span class="line">                    <span class="keyword">if</span> total == <span class="number">4</span>:</span><br><span class="line">                        <span class="keyword">if</span> (x, y) <span class="keyword">not</span> <span class="keyword">in</span> four_advantages:</span><br><span class="line">                            four_advantages.append((x, y))</span><br><span class="line">                    <span class="keyword">elif</span> total == <span class="number">3</span>:</span><br><span class="line">                        left_block = <span class="keyword">not</span> (<span class="number">0</span> &lt;= x - (left_count + <span class="number">1</span>)*dx &lt; <span class="variable language_">self</span>.size <span class="keyword">and</span> <span class="number">0</span> &lt;= y - (left_count + <span class="number">1</span>)*dy &lt; <span class="variable language_">self</span>.size)</span><br><span class="line">                        right_block = <span class="keyword">not</span> (<span class="number">0</span> &lt;= x + (right_count + <span class="number">1</span>)*dx &lt; <span class="variable language_">self</span>.size <span class="keyword">and</span> <span class="number">0</span> &lt;= y + (right_count + <span class="number">1</span>)*dy &lt; <span class="variable language_">self</span>.size)</span><br><span class="line">                        <span class="keyword">if</span> <span class="keyword">not</span> (left_block <span class="keyword">and</span> right_block) <span class="keyword">and</span> (x, y) <span class="keyword">not</span> <span class="keyword">in</span> three_advantages:</span><br><span class="line">                            three_advantages.append((x, y))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> four_advantages:</span><br><span class="line">        <span class="keyword">return</span> four_advantages[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">elif</span> three_advantages:</span><br><span class="line">        <span class="keyword">return</span> three_advantages[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span></span><br></pre></td></tr></table></figure><ol start="2"><li><strong>è°ƒæ•´è½å­ä¼˜å…ˆçº§ï¼ˆæ ¸å¿ƒä¿®æ”¹ï¼‰</strong>ï¼šé‡æ–°å®šä¹‰AIè½å­ä¼˜å…ˆçº§ï¼Œå…¼é¡¾é˜²å®ˆä¸è¿›æ”»ï¼Œæœ€ç»ˆç¡®å®šä¼˜å…ˆçº§ä¸ºï¼š<strong>å µå¯¹æ‰‹4è¿ï¼ˆä¿å‘½ï¼‰â†’ è¡¥è‡ªå·±4è¿ï¼ˆå†²5è·èƒœï¼‰â†’ å µå¯¹æ‰‹3è¿ï¼ˆé˜²å¨èƒï¼‰â†’ è¡¥è‡ªå·±3è¿ï¼ˆé€ å¨èƒï¼‰â†’ æ¨¡å‹+Q-Learningé¢„æµ‹ â†’ éšæœºè½å­</strong>ï¼Œç¡®ä¿AIåœ¨å®ˆä½è‡´å‘½å¨èƒçš„å‰æä¸‹ï¼Œä¼˜å…ˆè¿½æ±‚è‡ªèº«è·èƒœï¼›</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">ai_choose_action</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;AIè½å­é€»è¾‘ï¼šé˜²è‡´å‘½ &gt; è¿½è·èƒœ &gt; åŸºç¡€ç­–ç•¥&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># ç¬¬ä¸€æ­¥ï¼šä¼˜å…ˆå µå¯¹æ‰‹4è¿ï¼ˆä¿å‘½ï¼‰</span></span><br><span class="line">    opponent_four_threat = <span class="variable language_">self</span>.board_manager.check_opponent_threat()</span><br><span class="line">    <span class="keyword">if</span> opponent_four_threat <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        x, y = opponent_four_threat</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.board_manager.board[x, y] == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> x, y</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ç¬¬äºŒæ­¥ï¼šä¼˜å…ˆè¡¥è‡ªå·±4è¿ï¼ˆå†²5è·èƒœï¼‰</span></span><br><span class="line">    ai_four_advantage = <span class="variable language_">self</span>.board_manager.check_ai_advantage()</span><br><span class="line">    <span class="keyword">if</span> ai_four_advantage <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        x, y = ai_four_advantage</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.board_manager.board[x, y] == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> x, y</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ç¬¬ä¸‰æ­¥ï¼šå µå¯¹æ‰‹3è¿ï¼ˆé˜²å¨èƒï¼‰</span></span><br><span class="line">    opponent_three_threat = <span class="variable language_">self</span>.board_manager.check_opponent_threat()</span><br><span class="line">    <span class="keyword">if</span> opponent_three_threat <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> opponent_three_threat != opponent_four_threat:</span><br><span class="line">        x, y = opponent_three_threat</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.board_manager.board[x, y] == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> x, y</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ç¬¬å››æ­¥ï¼šè¡¥è‡ªå·±3è¿ï¼ˆé€ å¨èƒï¼‰</span></span><br><span class="line">    ai_three_advantage = <span class="variable language_">self</span>.board_manager.check_ai_advantage()</span><br><span class="line">    <span class="keyword">if</span> ai_three_advantage <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> ai_three_advantage != ai_four_advantage:</span><br><span class="line">        x, y = ai_three_advantage</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.board_manager.board[x, y] == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> x, y</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ç¬¬äº”æ­¥ï¼šæ¨¡å‹+Q-Learningå†³ç­–ï¼ˆæ— æ”»é˜²å¨èƒæ—¶ï¼‰</span></span><br><span class="line">    <span class="comment"># ...ï¼ˆåç»­ä»£ç ï¼‰</span></span><br></pre></td></tr></table></figure><ol start="3"><li><strong>ä¼˜åŒ–å¼ºåŒ–å­¦ä¹ å¥–åŠ±æœºåˆ¶</strong>ï¼šæ–°å¢è¿›æ”»ç›¸å…³å¥–åŠ±ï¼Œè‹¥AIè¡¥è‡ªå·±4è¿è·èƒœï¼Œç»™äºˆé«˜é¢æ­£å‘å¥–åŠ±ï¼ˆreward&#x3D;50ï¼‰ï¼›è‹¥AIè¡¥è‡ªå·±3è¿å½¢æˆ4è¿ï¼Œç»™äºˆæ­£å‘å¥–åŠ±ï¼ˆreward&#x3D;20ï¼‰ï¼Œå¼•å¯¼AIä¸»åŠ¨è¿›æ”»ã€ç§¯ç´¯è¿›æ”»ç»éªŒï¼›åŒæ—¶ï¼ŒåŠ è½½è®­ç»ƒå¥½çš„CNNæ¨¡å‹ï¼Œè®©AIåœ¨æ— æ”»é˜²å¨èƒæ—¶ï¼Œèƒ½å¤ŸåŸºäºæ¨¡å‹é¢„æµ‹é€‰æ‹©æœ€ä¼˜è¿›æ”»ä½ç½®ã€‚</li></ol><h3 id="ä¿®æ”¹æ•ˆæœ-2"><a href="#ä¿®æ”¹æ•ˆæœ-2" class="headerlink" title="ä¿®æ”¹æ•ˆæœ"></a>ä¿®æ”¹æ•ˆæœ</h3><p>AIå½»åº•å®ç°â€æ”»é˜²å…¼å¤‡â€ï¼šæ—¢èƒ½ç²¾å‡†å µå¡ç©å®¶çš„3è¿ã€4è¿å¨èƒï¼Œé¿å…è‡ªèº«è¾“æ£‹ï¼›ä¹Ÿèƒ½ä¸»åŠ¨è¯†åˆ«è‡ªèº«çš„3è¿ã€4è¿ä¼˜åŠ¿ï¼Œä¼˜å…ˆè¡¥å­å†²5è·èƒœã€å†²4é€ å¨èƒï¼›å½“ç©å®¶ä¸AIåŒæ—¶æœ‰è‡´å‘½å¨èƒæ—¶ï¼ŒAIä¼šå…ˆå µå¯¹æ‰‹4è¿ï¼ˆä¿å‘½ï¼‰ï¼Œå†è¡¥è‡ªå·±4è¿ï¼ˆè·èƒœï¼‰ï¼Œç¬¦åˆäº”å­æ£‹çš„å¯¹å¼ˆé€»è¾‘ï¼›å¼ºåŒ–å­¦ä¹ çš„Qè¡¨ä¹Ÿèƒ½åŒæ—¶ç§¯ç´¯é˜²å®ˆå’Œè¿›æ”»ç»éªŒï¼ŒAIçš„å†³ç­–è¶Šæ¥è¶Šçµæ´»ï¼Œå¯¹å¼ˆä½“éªŒè¾¾åˆ°é¢„æœŸã€‚</p><h2 id="é™„å½•ï¼šå®Œæ•´é¡¹ç›®ä»£ç "><a href="#é™„å½•ï¼šå®Œæ•´é¡¹ç›®ä»£ç " class="headerlink" title="é™„å½•ï¼šå®Œæ•´é¡¹ç›®ä»£ç "></a>é™„å½•ï¼šå®Œæ•´é¡¹ç›®ä»£ç </h2><h3 id="é™„å½•1ï¼šgomoku-data-pyï¼ˆé«˜è´¨é‡è‡ªå¯¹å¼ˆæ ·æœ¬ç”Ÿæˆï¼‰"><a href="#é™„å½•1ï¼šgomoku-data-pyï¼ˆé«˜è´¨é‡è‡ªå¯¹å¼ˆæ ·æœ¬ç”Ÿæˆï¼‰" class="headerlink" title="é™„å½•1ï¼šgomoku_data.pyï¼ˆé«˜è´¨é‡è‡ªå¯¹å¼ˆæ ·æœ¬ç”Ÿæˆï¼‰"></a>é™„å½•1ï¼šgomoku_data.pyï¼ˆé«˜è´¨é‡è‡ªå¯¹å¼ˆæ ·æœ¬ç”Ÿæˆï¼‰</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£‹ç›˜ç®¡ç†ç±»ï¼šè´Ÿè´£æ£‹ç›˜çŠ¶æ€ç»´æŠ¤ä¸æ›´æ–°</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BoardManager</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.size = <span class="number">15</span></span><br><span class="line">        <span class="comment"># 3é€šé“æ£‹ç›˜ï¼š[0]ç©å®¶1ï¼ˆé»‘ï¼‰ã€[1]ç©å®¶2ï¼ˆç™½ï¼‰ã€[2]ç©ºä½ç½®ï¼ˆè¾…åŠ©æ ‡è¯†ï¼‰</span></span><br><span class="line">        <span class="variable language_">self</span>.board = np.zeros((<span class="variable language_">self</span>.size, <span class="variable language_">self</span>.size, <span class="number">3</span>), dtype=np.int8)</span><br><span class="line">        <span class="variable language_">self</span>.history = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">update_board</span>(<span class="params">self, x, y, player</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;æ›´æ–°æ£‹ç›˜ï¼šè½å­åæ›´æ–°å¯¹åº”é€šé“ï¼Œè®°å½•å†å²çŠ¶æ€&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> (<span class="number">0</span> &lt;= x &lt; <span class="variable language_">self</span>.size <span class="keyword">and</span> <span class="number">0</span> &lt;= y &lt; <span class="variable language_">self</span>.size):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># ç¡®ä¿å½“å‰ä½ç½®ä¸ºç©º</span></span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.board[x, y, <span class="number">0</span>] == <span class="number">1</span> <span class="keyword">or</span> <span class="variable language_">self</span>.board[x, y, <span class="number">1</span>] == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è®°å½•å†å²</span></span><br><span class="line">        <span class="variable language_">self</span>.history.append(np.copy(<span class="variable language_">self</span>.board))</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># é‡ç½®å½“å‰ä½ç½®æ‰€æœ‰é€šé“ï¼Œè®¾ç½®å¯¹åº”ç©å®¶é€šé“</span></span><br><span class="line">        <span class="variable language_">self</span>.board[x, y, :] = <span class="number">0</span></span><br><span class="line">        <span class="variable language_">self</span>.board[x, y, player-<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">        <span class="variable language_">self</span>.board[x, y, <span class="number">2</span>] = <span class="number">0</span>  <span class="comment"># ç©ºä½ç½®é€šé“ç½®0</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è¡¥å……ç©ºä½ç½®é€šé“ï¼ˆå¯é€‰ï¼Œä¼˜åŒ–æ ·æœ¬ç‰¹å¾ï¼‰</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="variable language_">self</span>.size):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="variable language_">self</span>.size):</span><br><span class="line">                <span class="keyword">if</span> <span class="variable language_">self</span>.board[i, j, <span class="number">0</span>] == <span class="number">0</span> <span class="keyword">and</span> <span class="variable language_">self</span>.board[i, j, <span class="number">1</span>] == <span class="number">0</span>:</span><br><span class="line">                    <span class="variable language_">self</span>.board[i, j, <span class="number">2</span>] = <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_state</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;è·å–å½“å‰æ£‹ç›˜çŠ¶æ€å‰¯æœ¬&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> np.copy(<span class="variable language_">self</span>.board)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆæ³•è½å­æ ¡éªŒç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Validator</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, board_manager</span>):</span><br><span class="line">        <span class="variable language_">self</span>.board_manager = board_manager</span><br><span class="line">        <span class="variable language_">self</span>.size = board_manager.size</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">check_valid</span>(<span class="params">self, x, y</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;åˆ¤æ–­å•ä¸ªä½ç½®æ˜¯å¦åˆæ³•ï¼ˆç©ºä½ç½®ä¸”åœ¨æ£‹ç›˜å†…ï¼‰&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> (<span class="number">0</span> &lt;= x &lt; <span class="variable language_">self</span>.size <span class="keyword">and</span> <span class="number">0</span> &lt;= y &lt; <span class="variable language_">self</span>.size):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.board_manager.board[x, y, <span class="number">0</span>] == <span class="number">0</span> <span class="keyword">and</span> <span class="variable language_">self</span>.board_manager.board[x, y, <span class="number">1</span>] == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_all_valid_positions</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;è·å–æ‰€æœ‰åˆæ³•è½å­ä½ç½®&quot;&quot;&quot;</span></span><br><span class="line">        valid_pos = []</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="variable language_">self</span>.size):</span><br><span class="line">            <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(<span class="variable language_">self</span>.size):</span><br><span class="line">                <span class="keyword">if</span> <span class="variable language_">self</span>.check_valid(x, y):</span><br><span class="line">                    valid_pos.append((x, y))</span><br><span class="line">        <span class="keyword">return</span> valid_pos</span><br><span class="line"></span><br><span class="line"><span class="comment"># èƒœè´Ÿåˆ¤æ–­å‡½æ•°ï¼šæ£€æµ‹äº”å­è¿ç </span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">judge_win</span>(<span class="params">board, x, y, player</span>):</span><br><span class="line">    size = board.shape[<span class="number">0</span>]</span><br><span class="line">    directions = [(<span class="number">0</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">0</span>), (<span class="number">1</span>, <span class="number">1</span>), (<span class="number">1</span>, -<span class="number">1</span>)]  <span class="comment"># æ¨ªã€ç«–ã€æ­£æ–œã€åæ–œ</span></span><br><span class="line">    player_channel = player - <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> dx, dy <span class="keyword">in</span> directions:</span><br><span class="line">        count = <span class="number">1</span></span><br><span class="line">        <span class="comment"># æ­£å‘éå†</span></span><br><span class="line">        nx, ny = x + dx, y + dy</span><br><span class="line">        <span class="keyword">while</span> <span class="number">0</span> &lt;= nx &lt; size <span class="keyword">and</span> <span class="number">0</span> &lt;= ny &lt; size <span class="keyword">and</span> board[nx, ny, player_channel] == <span class="number">1</span>:</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line">            nx += dx</span><br><span class="line">            ny += dy</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># åå‘éå†</span></span><br><span class="line">        nx, ny = x - dx, y - dy</span><br><span class="line">        <span class="keyword">while</span> <span class="number">0</span> &lt;= nx &lt; size <span class="keyword">and</span> <span class="number">0</span> &lt;= ny &lt; size <span class="keyword">and</span> board[nx, ny, player_channel] == <span class="number">1</span>:</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line">            nx -= dx</span><br><span class="line">            ny -= dy</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># äº”å­è¿ç åˆ¤å®š</span></span><br><span class="line">        <span class="keyword">if</span> count &gt;= <span class="number">5</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿å­åˆ¤æ–­å‡½æ•°ï¼šæ£€æµ‹nè¿å­ï¼ˆn=3/4ï¼‰</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">has_n_pieces</span>(<span class="params">board, x, y, player, n</span>):</span><br><span class="line">    size = board.shape[<span class="number">0</span>]</span><br><span class="line">    directions = [(<span class="number">0</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">0</span>), (<span class="number">1</span>, <span class="number">1</span>), (<span class="number">1</span>, -<span class="number">1</span>)]</span><br><span class="line">    player_channel = player - <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> dx, dy <span class="keyword">in</span> directions:</span><br><span class="line">        count = <span class="number">1</span></span><br><span class="line">        <span class="comment"># æ­£å‘éå†</span></span><br><span class="line">        nx, ny = x + dx, y + dy</span><br><span class="line">        <span class="keyword">while</span> <span class="number">0</span> &lt;= nx &lt; size <span class="keyword">and</span> <span class="number">0</span> &lt;= ny &lt; size <span class="keyword">and</span> board[nx, ny, player_channel] == <span class="number">1</span>:</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line">            nx += dx</span><br><span class="line">            ny += dy</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># åå‘éå†</span></span><br><span class="line">        nx, ny = x - dx, y - dy</span><br><span class="line">        <span class="keyword">while</span> <span class="number">0</span> &lt;= nx &lt; size <span class="keyword">and</span> <span class="number">0</span> &lt;= ny &lt; size <span class="keyword">and</span> board[nx, ny, player_channel] == <span class="number">1</span>:</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line">            nx -= dx</span><br><span class="line">            ny -= dy</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># nè¿å­åˆ¤å®š</span></span><br><span class="line">        <span class="keyword">if</span> count &gt;= n:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é«˜ä¼˜å…ˆçº§è½å­ç­–ç•¥ï¼šç”Ÿæˆå¸¦é€»è¾‘çš„è‡ªå¯¹å¼ˆè½å­</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_better_action</span>(<span class="params">validator, board_manager, current_player</span>):</span><br><span class="line">    valid_pos = validator.get_all_valid_positions()</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> valid_pos:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span>, <span class="literal">None</span></span><br><span class="line">        </span><br><span class="line">    board = board_manager.get_state()</span><br><span class="line">    size = board_manager.size</span><br><span class="line">    opponent = <span class="number">2</span> <span class="keyword">if</span> current_player == <span class="number">1</span> <span class="keyword">else</span> <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># å®šä¹‰å„ä¼˜å…ˆçº§è½å­åˆ—è¡¨</span></span><br><span class="line">    win_pos = []          <span class="comment"># ç›´æ¥èµ¢æ£‹ï¼ˆ5è¿ï¼‰</span></span><br><span class="line">    block_win_pos = []    <span class="comment"># é˜»æŒ¡å¯¹æ‰‹èµ¢æ£‹</span></span><br><span class="line">    four_pos = []         <span class="comment"># è‡ªå·±è¿4</span></span><br><span class="line">    block_four_pos = []   <span class="comment"># é˜»æŒ¡å¯¹æ‰‹è¿4</span></span><br><span class="line">    three_pos = []        <span class="comment"># è‡ªå·±è¿3</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># éå†æ‰€æœ‰åˆæ³•ä½ç½®ï¼Œè¯„ä¼°è½å­ä»·å€¼</span></span><br><span class="line">    <span class="keyword">for</span> (x, y) <span class="keyword">in</span> valid_pos:</span><br><span class="line">        <span class="comment"># è¯„ä¼°è‡ªå·±è½å­ä»·å€¼</span></span><br><span class="line">        temp_board_self = board.copy()</span><br><span class="line">        temp_board_self[x, y, :] = <span class="number">0</span></span><br><span class="line">        temp_board_self[x, y, current_player-<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">        is_self_win = judge_win(temp_board_self, x, y, current_player)</span><br><span class="line">        has_self_four = has_n_pieces(temp_board_self, x, y, current_player, <span class="number">4</span>)</span><br><span class="line">        has_self_three = has_n_pieces(temp_board_self, x, y, current_player, <span class="number">3</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è¯„ä¼°é˜»æŒ¡å¯¹æ‰‹ä»·å€¼</span></span><br><span class="line">        temp_board_opp = board.copy()</span><br><span class="line">        temp_board_opp[x, y, :] = <span class="number">0</span></span><br><span class="line">        temp_board_opp[x, y, opponent-<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">        is_opp_win = judge_win(temp_board_opp, x, y, opponent)</span><br><span class="line">        has_opp_four = has_n_pieces(temp_board_opp, x, y, opponent, <span class="number">4</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># æŒ‰ä¼˜å…ˆçº§å½’ç±»</span></span><br><span class="line">        <span class="keyword">if</span> is_self_win:</span><br><span class="line">            win_pos.append((x, y))</span><br><span class="line">        <span class="keyword">elif</span> is_opp_win:</span><br><span class="line">            block_win_pos.append((x, y))</span><br><span class="line">        <span class="keyword">elif</span> has_self_four:</span><br><span class="line">            four_pos.append((x, y))</span><br><span class="line">        <span class="keyword">elif</span> has_opp_four:</span><br><span class="line">            block_four_pos.append((x, y))</span><br><span class="line">        <span class="keyword">elif</span> has_self_three:</span><br><span class="line">            three_pos.append((x, y))</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æŒ‰ä¼˜å…ˆçº§é€‰æ‹©è½å­</span></span><br><span class="line">    <span class="keyword">if</span> win_pos:</span><br><span class="line">        <span class="keyword">return</span> random.choice(win_pos)</span><br><span class="line">    <span class="keyword">elif</span> block_win_pos:</span><br><span class="line">        <span class="keyword">return</span> random.choice(block_win_pos)</span><br><span class="line">    <span class="keyword">elif</span> four_pos:</span><br><span class="line">        <span class="keyword">return</span> random.choice(four_pos)</span><br><span class="line">    <span class="keyword">elif</span> block_four_pos:</span><br><span class="line">        <span class="keyword">return</span> random.choice(block_four_pos)</span><br><span class="line">    <span class="keyword">elif</span> three_pos:</span><br><span class="line">        <span class="keyword">return</span> random.choice(three_pos)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æ— è¿å­æœºä¼šï¼Œé€‰ç›¸é‚»ä½ç½®ï¼ˆæå‡æ ·æœ¬ç­–ç•¥æ€§ï¼‰</span></span><br><span class="line">    adjacent_pos = []</span><br><span class="line">    <span class="keyword">for</span> (x, y) <span class="keyword">in</span> valid_pos:</span><br><span class="line">        has_adjacent = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">for</span> dx <span class="keyword">in</span> [-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>]:</span><br><span class="line">            <span class="keyword">for</span> dy <span class="keyword">in</span> [-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>]:</span><br><span class="line">                <span class="keyword">if</span> dx == <span class="number">0</span> <span class="keyword">and</span> dy == <span class="number">0</span>:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                nx, ny = x + dx, y + dy</span><br><span class="line">                <span class="keyword">if</span> <span class="number">0</span> &lt;= nx &lt; size <span class="keyword">and</span> <span class="number">0</span> &lt;= ny &lt; size:</span><br><span class="line">                    <span class="keyword">if</span> board[nx, ny, <span class="number">0</span>] == <span class="number">1</span> <span class="keyword">or</span> board[nx, ny, <span class="number">1</span>] == <span class="number">1</span>:</span><br><span class="line">                        has_adjacent = <span class="literal">True</span></span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">if</span> has_adjacent:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">if</span> has_adjacent:</span><br><span class="line">            adjacent_pos.append((x, y))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> adjacent_pos:</span><br><span class="line">        <span class="keyword">return</span> random.choice(adjacent_pos)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> random.choice(valid_pos)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆè‡ªå¯¹å¼ˆæ•°æ®ä¸»å‡½æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">generate_self_play_data</span>(<span class="params">num_games=<span class="number">2000</span></span>):</span><br><span class="line">    data = []</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> game_idx <span class="keyword">in</span> <span class="built_in">range</span>(num_games):</span><br><span class="line">        <span class="comment"># è¿›åº¦æç¤º</span></span><br><span class="line">        <span class="keyword">if</span> (game_idx + <span class="number">1</span>) % <span class="number">200</span> == <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;å·²ç”Ÿæˆ <span class="subst">&#123;game_idx+<span class="number">1</span>&#125;</span>/<span class="subst">&#123;num_games&#125;</span> å±€å¯¹å±€&quot;</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># åˆå§‹åŒ–æ¯å±€æ¸¸æˆ</span></span><br><span class="line">        board_manager = BoardManager()</span><br><span class="line">        validator = Validator(board_manager)</span><br><span class="line">        current_player = <span class="number">1</span></span><br><span class="line">        game_over = <span class="literal">False</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">not</span> game_over:</span><br><span class="line">            valid_pos = validator.get_all_valid_positions()</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> valid_pos:  <span class="comment"># æ£‹ç›˜ä¸‹æ»¡ï¼Œå¹³å±€</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment"># è·å–é«˜ä¼˜å…ˆçº§è½å­</span></span><br><span class="line">            x, y = get_better_action(validator, board_manager, current_player)</span><br><span class="line">            <span class="keyword">if</span> x <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">or</span> y <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment"># è®°å½•æ ·æœ¬ï¼šè½å­å‰çŠ¶æ€ + è½å­ä½ç½®ç´¢å¼•ï¼ˆx*15 + yï¼‰</span></span><br><span class="line">            state = board_manager.get_state()</span><br><span class="line">            action_idx = x * board_manager.size + y</span><br><span class="line">            data.append((state, action_idx))</span><br><span class="line">            </span><br><span class="line">            <span class="comment"># æ›´æ–°æ£‹ç›˜å¹¶åˆ¤æ–­èƒœè´Ÿ</span></span><br><span class="line">            board_manager.update_board(x, y, current_player)</span><br><span class="line">            <span class="keyword">if</span> judge_win(board_manager.get_state(), x, y, current_player):</span><br><span class="line">                game_over = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment"># åˆ‡æ¢ç©å®¶</span></span><br><span class="line">            current_player = <span class="number">2</span> <span class="keyword">if</span> current_player == <span class="number">1</span> <span class="keyword">else</span> <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ä¿å­˜æ•°æ®åˆ°npzæ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(data) == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;è­¦å‘Šï¼šæœªç”Ÿæˆä»»ä½•è®­ç»ƒæ•°æ®ï¼&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># è½¬æ¢ä¸ºnumpyæ•°ç»„ï¼Œé€‚é…PyTorchè®­ç»ƒ</span></span><br><span class="line">    states = np.array([d[<span class="number">0</span>] <span class="keyword">for</span> d <span class="keyword">in</span> data], dtype=np.float32)</span><br><span class="line">    actions = np.array([d[<span class="number">1</span>] <span class="keyword">for</span> d <span class="keyword">in</span> data], dtype=np.int64)</span><br><span class="line">    </span><br><span class="line">    np.savez(<span class="string">&quot;gomoku_train_data.npz&quot;</span>, states=states, actions=actions)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;æ•°æ®ç”Ÿæˆå®Œæˆï¼å…± <span class="subst">&#123;<span class="built_in">len</span>(states)&#125;</span> ä¸ªæ ·æœ¬ï¼Œä¿å­˜ä¸º gomoku_train_data.npz&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    generate_self_play_data(num_games=<span class="number">2000</span>)</span><br></pre></td></tr></table></figure><h3 id="é™„å½•2ï¼štrain-model-pyï¼ˆCNNæ¨¡å‹è®­ç»ƒï¼‰"><a href="#é™„å½•2ï¼štrain-model-pyï¼ˆCNNæ¨¡å‹è®­ç»ƒï¼‰" class="headerlink" title="é™„å½•2ï¼štrain_model.pyï¼ˆCNNæ¨¡å‹è®­ç»ƒï¼‰"></a>é™„å½•2ï¼štrain_model.pyï¼ˆCNNæ¨¡å‹è®­ç»ƒï¼‰</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torch.optim <span class="keyword">as</span> optim</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> Dataset, DataLoader</span><br><span class="line"><span class="keyword">from</span> torch.optim.lr_scheduler <span class="keyword">import</span> StepLR</span><br><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾å¤‡é…ç½®ï¼šä¼˜å…ˆä½¿ç”¨GPUï¼Œæ— GPUåˆ™ä½¿ç”¨CPU</span></span><br><span class="line">device = torch.device(<span class="string">&quot;cuda&quot;</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">&quot;cpu&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. å®šä¹‰CNNæ¨¡å‹ï¼ˆä¸main.pyä¸­æ¨¡å‹ç»“æ„å®Œå…¨ä¸€è‡´ï¼Œé¿å…åŠ è½½ä¸åŒ¹é…ï¼‰</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GomokuModel</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(GomokuModel, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># å·ç§¯å±‚ï¼šæå–æ£‹ç›˜ç©ºé—´ç‰¹å¾</span></span><br><span class="line">        <span class="variable language_">self</span>.conv1 = nn.Conv2d(<span class="number">3</span>, <span class="number">16</span>, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>)</span><br><span class="line">        <span class="variable language_">self</span>.bn1 = nn.BatchNorm2d(<span class="number">16</span>)</span><br><span class="line">        <span class="variable language_">self</span>.conv2 = nn.Conv2d(<span class="number">16</span>, <span class="number">32</span>, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>)</span><br><span class="line">        <span class="variable language_">self</span>.bn2 = nn.BatchNorm2d(<span class="number">32</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># å…¨è¿æ¥å±‚ï¼šæ˜ å°„ä¸ºè½å­ä½ç½®å¾—åˆ†</span></span><br><span class="line">        <span class="variable language_">self</span>.fc1 = nn.Linear(<span class="number">32</span> * <span class="number">15</span> * <span class="number">15</span>, <span class="number">128</span>)</span><br><span class="line">        <span class="variable language_">self</span>.fc2 = nn.Linear(<span class="number">128</span>, <span class="number">15</span> * <span class="number">15</span>)  <span class="comment"># è¾“å‡º225ä¸ªè½å­ä½ç½®çš„å¾—åˆ†</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># æ¿€æ´»å‡½æ•°ä¸Dropout</span></span><br><span class="line">        <span class="variable language_">self</span>.relu = nn.ReLU()</span><br><span class="line">        <span class="variable language_">self</span>.dropout = nn.Dropout(<span class="number">0.3</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="comment"># å·ç§¯å±‚ + æ‰¹å½’ä¸€åŒ– + æ¿€æ´»å‡½æ•°</span></span><br><span class="line">        x = <span class="variable language_">self</span>.relu(<span class="variable language_">self</span>.bn1(<span class="variable language_">self</span>.conv1(x)))</span><br><span class="line">        x = <span class="variable language_">self</span>.relu(<span class="variable language_">self</span>.bn2(<span class="variable language_">self</span>.conv2(x)))</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># å±•å¹³ç‰¹å¾å›¾</span></span><br><span class="line">        x = x.view(-<span class="number">1</span>, <span class="number">32</span> * <span class="number">15</span> * <span class="number">15</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># å…¨è¿æ¥å±‚ + Dropout</span></span><br><span class="line">        x = <span class="variable language_">self</span>.relu(<span class="variable language_">self</span>.fc1(x))</span><br><span class="line">        x = <span class="variable language_">self</span>.dropout(x)</span><br><span class="line">        x = <span class="variable language_">self</span>.fc2(x)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. è‡ªå®šä¹‰Datasetç±»ï¼šåŠ è½½è‡ªå¯¹å¼ˆæ ·æœ¬</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GomokuDataset</span>(<span class="title class_ inherited__">Dataset</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, data_path</span>):</span><br><span class="line">        <span class="comment"># åŠ è½½npzæ–‡ä»¶</span></span><br><span class="line">        data = np.load(data_path)</span><br><span class="line">        <span class="variable language_">self</span>.states = data[<span class="string">&quot;states&quot;</span>]</span><br><span class="line">        <span class="variable language_">self</span>.actions = data[<span class="string">&quot;actions&quot;</span>]</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è°ƒæ•´æ•°æ®å½¢çŠ¶ï¼š(N, H, W, C) â†’ (N, C, H, W)ï¼ˆé€‚é…PyTorchå·ç§¯å±‚è¾“å…¥æ ¼å¼ï¼‰</span></span><br><span class="line">        <span class="variable language_">self</span>.states = np.transpose(<span class="variable language_">self</span>.states, (<span class="number">0</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;è¿”å›æ ·æœ¬æ€»æ•°&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(<span class="variable language_">self</span>.actions)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, idx</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;è¿”å›å•ä¸ªæ ·æœ¬ï¼ˆçŠ¶æ€å¼ é‡ + åŠ¨ä½œæ ‡ç­¾ï¼‰&quot;&quot;&quot;</span></span><br><span class="line">        state = torch.tensor(<span class="variable language_">self</span>.states[idx], dtype=torch.float32)</span><br><span class="line">        action = torch.tensor(<span class="variable language_">self</span>.actions[idx], dtype=torch.long)</span><br><span class="line">        <span class="keyword">return</span> state, action</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. æ¨¡å‹è®­ç»ƒå‡½æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">train_model</span>(<span class="params">data_path=<span class="string">&quot;gomoku_train_data.npz&quot;</span>, epochs=<span class="number">50</span>, batch_size=<span class="number">64</span>, lr=<span class="number">0.001</span></span>):</span><br><span class="line">    <span class="comment"># åŠ è½½æ•°æ®é›†</span></span><br><span class="line">    dataset = GomokuDataset(data_path)</span><br><span class="line">    dataloader = DataLoader(dataset, batch_size=batch_size, shuffle=<span class="literal">True</span>, num_workers=<span class="number">0</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># åˆå§‹åŒ–æ¨¡å‹ã€æŸå¤±å‡½æ•°ã€ä¼˜åŒ–å™¨</span></span><br><span class="line">    model = GomokuModel().to(device)</span><br><span class="line">    criterion = nn.CrossEntropyLoss()  <span class="comment"># åˆ†ç±»æŸå¤±å‡½æ•°ï¼Œé€‚é…è½å­ä½ç½®é¢„æµ‹</span></span><br><span class="line">    optimizer = optim.Adam(model.parameters(), lr=lr)</span><br><span class="line">    scheduler = StepLR(optimizer, step_size=<span class="number">10</span>, gamma=<span class="number">0.8</span>)  <span class="comment"># å­¦ä¹ ç‡è°ƒåº¦å™¨</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># å¼€å§‹è®­ç»ƒ</span></span><br><span class="line">    model.train()</span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(epochs):</span><br><span class="line">        total_loss = <span class="number">0.0</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è¿›åº¦æ¡å±•ç¤ºè®­ç»ƒè¿‡ç¨‹</span></span><br><span class="line">        <span class="keyword">with</span> tqdm(total=<span class="built_in">len</span>(dataloader), desc=<span class="string">f&quot;Epoch <span class="subst">&#123;epoch+<span class="number">1</span>&#125;</span>/<span class="subst">&#123;epochs&#125;</span>&quot;</span>) <span class="keyword">as</span> pbar:</span><br><span class="line">            <span class="keyword">for</span> batch_idx, (states, actions) <span class="keyword">in</span> <span class="built_in">enumerate</span>(dataloader):</span><br><span class="line">                <span class="comment"># æ•°æ®ç§»è‡³è®¾å¤‡ï¼ˆGPU/CPUï¼‰</span></span><br><span class="line">                states = states.to(device)</span><br><span class="line">                actions = actions.to(device)</span><br><span class="line">                </span><br><span class="line">                <span class="comment"># å‰å‘ä¼ æ’­</span></span><br><span class="line">                outputs = model(states)</span><br><span class="line">                loss = criterion(outputs, actions)</span><br><span class="line">                </span><br><span class="line">                <span class="comment"># åå‘ä¼ æ’­ä¸ä¼˜åŒ–</span></span><br><span class="line">                optimizer.zero_grad()</span><br><span class="line">                loss.backward()</span><br><span class="line">                optimizer.step()</span><br><span class="line">                </span><br><span class="line">                <span class="comment"># ç´¯è®¡æŸå¤±å€¼</span></span><br><span class="line">                total_loss += loss.item()</span><br><span class="line">                pbar.update(<span class="number">1</span>)</span><br><span class="line">                pbar.set_postfix(&#123;<span class="string">&quot;batch_loss&quot;</span>: loss.item(), <span class="string">&quot;avg_loss&quot;</span>: total_loss/(batch_idx+<span class="number">1</span>)&#125;)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># æ›´æ–°å­¦ä¹ ç‡</span></span><br><span class="line">        scheduler.step()</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è¾“å‡ºæ¯è½®å¹³å‡æŸå¤±</span></span><br><span class="line">        avg_loss = total_loss / <span class="built_in">len</span>(dataloader)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Epoch <span class="subst">&#123;epoch+<span class="number">1</span>&#125;</span> å¹³å‡æŸå¤±ï¼š<span class="subst">&#123;avg_loss:<span class="number">.6</span>f&#125;</span>&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ä¿å­˜è®­ç»ƒå¥½çš„æ¨¡å‹</span></span><br><span class="line">    torch.save(model.state_dict(), <span class="string">&quot;gomoku_model.pth&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ¨¡å‹è®­ç»ƒå®Œæˆï¼å·²ä¿å­˜ä¸º gomoku_model.pth&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    train_model(epochs=<span class="number">50</span>, batch_size=<span class="number">64</span>, lr=<span class="number">0.001</span>)</span><br></pre></td></tr></table></figure><h3 id="é™„å½•3ï¼šmain-pyï¼ˆå¯è§†åŒ–å¯¹å¼ˆä¸AIæ ¸å¿ƒå†³ç­–ï¼‰"><a href="#é™„å½•3ï¼šmain-pyï¼ˆå¯è§†åŒ–å¯¹å¼ˆä¸AIæ ¸å¿ƒå†³ç­–ï¼‰" class="headerlink" title="é™„å½•3ï¼šmain.pyï¼ˆå¯è§†åŒ–å¯¹å¼ˆä¸AIæ ¸å¿ƒå†³ç­–ï¼‰"></a>é™„å½•3ï¼šmain.pyï¼ˆå¯è§†åŒ–å¯¹å¼ˆä¸AIæ ¸å¿ƒå†³ç­–ï¼‰</h3><pre><code class="python">import tkinter as tkfrom tkinter import messageboximport numpy as npimport torchimport torch.nn as nn# ---------------------- 1. æ¨¡å‹å®šä¹‰ï¼ˆä¸ train_model.py å®Œå…¨ä¸€è‡´ï¼Œé¿å…åŠ è½½ä¸åŒ¹é…ï¼‰----------------------class GomokuModel(nn.Module):    def __init__(self):        super(GomokuModel, self).__init__()        self.conv1 = nn.Conv2d(3, 16, kernel_size=3, padding=1)        self.conv2 = nn.Conv2d(16, 32, kernel_size=3, padding=1)        self.bn1 = nn.BatchNorm2d(16)        self.bn2 = nn.BatchNorm2d(32)        self.fc1 = nn.Linear(32 * 15 * 15, 128)        self.fc2 = nn.Linear(128, 15*15)        self.relu = nn.ReLU()        self.dropout = nn.Dropout(0.3)        def forward(self, x):        x = self.relu(self.bn1(self.conv1(x)))        x = self.relu(self.bn2(self.conv2(x)))        x = x.view(-1, 32 * 15 * 15)        x = self.relu(self.fc1(x))        x = self.dropout(x)        x = self.fc2(x)        return x# ---------------------- 2. æ ¸å¿ƒå·¥å…·ç±»ï¼ˆæ£‹ç›˜ç®¡ç†ã€æ”»é˜²æ£€æµ‹ï¼‰----------------------class BoardManager:    def __init__(self, size=15):        self.size = size        # æ£‹ç›˜çŠ¶æ€ï¼š0=ç©ºï¼Œ1=ç©å®¶ï¼ˆé»‘æ£‹ï¼‰ï¼Œ2=AIï¼ˆç™½æ£‹ï¼‰        self.board = np.zeros((size, size), dtype=np.int8)        # æ¨¡å‹è¾“å…¥ç”¨çš„3é€šé“çŠ¶æ€ï¼ˆone-hotç¼–ç ï¼‰        self.model_board = np.zeros((3, size, size), dtype=np.float32)        def reset(self):        &quot;&quot;&quot;é‡ç½®æ£‹ç›˜&quot;&quot;&quot;        self.board = np.zeros((self.size, self.size), dtype=np.int8)        self.model_board = np.zeros((3, self.size, self.size), dtype=np.float32)        def update_board(self, x, y, player):        &quot;&quot;&quot;æ›´æ–°æ£‹ç›˜çŠ¶æ€ï¼ˆplayer=1/2ï¼‰ï¼Œè¿”å›æ˜¯å¦æ›´æ–°æˆåŠŸ&quot;&quot;&quot;        if 0 &lt;= x &lt; self.size and 0 &lt;= y &lt; self.size and self.board[x, y] == 0:            self.board[x, y] = player                        # æ›´æ–°æ¨¡å‹è¾“å…¥çš„3é€šé“æ£‹ç›˜ï¼ˆone-hotç¼–ç ï¼‰            self.model_board = np.zeros((3, self.size, self.size), dtype=np.float32)            self.model_board[0][self.board == 1] = 1.0  # ç©å®¶æ£‹å­é€šé“            self.model_board[1][self.board == 2] = 1.0  # AIæ£‹å­é€šé“            self.model_board[2][self.board == 0] = 1.0  # ç©ºä½ç½®é€šé“                        return True        return False        def get_model_input(self):        &quot;&quot;&quot;è·å–æ¨¡å‹è¾“å…¥çš„å¼ é‡ï¼ˆå¢åŠ batchç»´åº¦ï¼Œé€‚é…PyTorchï¼‰&quot;&quot;&quot;        input_tensor = torch.from_numpy(self.model_board).unsqueeze(0)        return input_tensor        def is_win(self, x, y, player):        &quot;&quot;&quot;åˆ¤æ–­è½å­åæ˜¯å¦è·èƒœï¼ˆäº”å­è¿ç ï¼‰&quot;&quot;&quot;        directions = [(0, 1), (1, 0), (1, 1), (1, -1)]  # æ¨ªã€ç«–ã€æ­£æ–œã€åæ–œ                for dx, dy in directions:            count = 1                        # æ­£å‘éå†            nx, ny = x + dx, y + dy            while 0 &lt;= nx &lt; self.size and 0 &lt;= ny &lt; self.size and self.board[nx, ny] == player:                count += 1                nx += dx                ny += dy                        # åå‘éå†            nx, ny = x - dx, y - dy            while 0 &lt;= nx &lt; self.size and 0 &lt;= ny &lt; self.size and self.board[nx, ny] == player:                count += 1                nx -= dx                ny -= dy                        if count &gt;= 5:                return True        return False        def count_continuous_pieces(self, x, y, player, dx, dy):        &quot;&quot;&quot;ç»Ÿè®¡æŸæ–¹å‘ä¸Šçš„è¿ç»­æ£‹å­æ•°ï¼ˆå«å½“å‰ä½ç½®ï¼‰&quot;&quot;&quot;        count = 0        nx, ny = x, y        while 0 &lt;= nx &lt; self.size and 0 &lt;= ny &lt; self.size and self.board[nx, ny] == player:            count += 1            nx += dx            ny += dy        return count        def check_opponent_threat(self):        &quot;&quot;&quot;æ£€æµ‹å¯¹æ‰‹ï¼ˆç©å®¶ï¼‰çš„3è¿/4è¿å¨èƒï¼Œè¿”å›ä¼˜å…ˆçº§å µå¡ä½ç½®&quot;&quot;&quot;        opponent = 1        four_threats = []  # å¯¹æ‰‹4è¿ï¼ˆå¿…å µï¼‰        three_threats = []  # å¯¹æ‰‹3è¿ï¼ˆæ¬¡å¿…å µï¼‰        directions = [(0, 1), (1, 0), (1, 1), (1, -1)]                for x in range(self.size):            for y in range(self.size):                if self.board[x, y] == 0:                    for dx, dy in directions:                        left_count = self.count_continuous_pieces(x - dx, y - dy, opponent, -dx, -dy)                        right_count = self.count_continuous_pieces(x + dx, y + dy, opponent, dx, dy)                        total = left_count + right_count                                                if total == 4:                            if (x, y) not in four_threats:                                four_threats.append((x, y))                        elif total == 3:                            left_block = not (0 &lt;= x - (left_count + 1)*dx &lt; self.size and 0 &lt;= y - (left_count + 1)*dy &lt; self.size)                            right_block = not (0 &lt;= x + (right_count + 1)*dx &lt; self.size and 0 &lt;= y + (right_count + 1)*dy &lt; self.size)                            if not (left_block and right_block) and (x, y) not in three_threats:                                three_threats.append((x, y))                if four_threats:            return four_threats[0]        elif three_threats:            return three_threats[0]        return None        def check_ai_advantage(self):        &quot;&quot;&quot;æ£€æµ‹AIè‡ªèº«çš„3è¿/4è¿ä¼˜åŠ¿ï¼Œè¿”å›ä¼˜å…ˆçº§å†²5ä½ç½®&quot;&quot;&quot;        ai = 2        four_advantages = []  # AI4è¿ï¼ˆè¡¥å­å³5è¿è·èƒœï¼‰        three_advantages = []  # AI3è¿ï¼ˆè¡¥å­å³4è¿ï¼‰        directions = [(0, 1), (1, 0), (1, 1), (1, -1)]                for x in range(self.size):            for y in range(self.size):                if self.board[x, y] == 0:                    for dx, dy in directions:                        left_count = self.count_continuous_pieces(x - dx, y - dy, ai, -dx, -dy)                        right_count = self.count_continuous_pieces(x + dx, y + dy, ai, dx, dy)                        total = left_count + right_count                                                if total == 4:                            if (x, y) not in four_advantages:                                four_advantages.append((x, y))                        elif total == 3:                            left_block = not (0 &lt;= x - (left_count + 1)*dx &lt; self.size and 0 &lt;= y - (left_count + 1)*dy &lt; self.size)                            right_block = not (0 &lt;= x + (right_count + 1)*dx &lt; self.size and 0 &lt;= y + (right_count + 1)*dy &lt; self.size)                            if not (left_block and right_block) and (x, y) not in three_advantages:                                three_advantages.append((x, y))                if four_advantages:            return four_advantages[0]        elif three_advantages:            return three_advantages[0]        return None# ---------------------- 3. Q-Learning ä¼˜åŒ–å™¨ï¼ˆåœ¨çº¿ä¼˜åŒ–è½å­é€‰æ‹©ï¼‰----------------------class QLearningAgent:    def __init__(self, size=15, lr=0.1, gamma=0.9, epsilon=0.1):        self.size = size        self.lr = lr  # å­¦ä¹ ç‡        self.gamma = gamma  # æŠ˜æ‰£å› å­        self.epsilon = epsilon  # æ¢ç´¢ç‡        self.q_table = &#123;&#125;  # Qè¡¨ï¼škey=æ£‹ç›˜çŠ¶æ€å“ˆå¸Œï¼Œvalue=åŠ¨ä½œQå€¼        def get_state_hash(self, board):        &quot;&quot;&quot;å°†æ£‹ç›˜çŠ¶æ€è½¬æ¢ä¸ºå“ˆå¸Œå€¼ï¼ˆç”¨äºQè¡¨å­˜å‚¨ï¼‰&quot;&quot;&quot;        return hash(board.tobytes())        def get_q_value(self, state_hash, action):        &quot;&quot;&quot;è·å–Qå€¼ï¼ˆä¸å­˜åœ¨åˆ™è¿”å›0ï¼‰&quot;&quot;&quot;        if state_hash not in self.q_table:            self.q_table[state_hash] = np.zeros(self.size * self.size, dtype=np.float32)        return self.q_table[state_hash][action]        def update_q_value(self, state_hash, action, reward, next_state_hash):        &quot;&quot;&quot;æ›´æ–°Qè¡¨ï¼ˆQ-Learningæ ¸å¿ƒå…¬å¼ï¼‰&quot;&quot;&quot;        current_q = self.get_q_value(state_hash, action)        next_max_q = np.max(self.q_table.get(next_state_hash, np.zeros(self.size * self.size)))        new_q = current_q + self.lr * (reward + self.gamma * next_max_q - current_q)        self.q_table[state_hash][action] = new_q        def choose_action(self, model_output, valid_actions):        &quot;&quot;&quot;Îµ-è´ªå¿ƒç­–ç•¥ï¼šç»“åˆæ¨¡å‹è¾“å‡ºä¸Qå€¼é€‰æ‹©åŠ¨ä½œ&quot;&quot;&quot;        if np.random.random() &lt; self.epsilon:            # æ¢ç´¢ï¼šéšæœºé€‰æ‹©åˆæ³•åŠ¨ä½œ            return np.random.choice(valid_actions)        else:            # åˆ©ç”¨ï¼šç»“åˆæ¨¡å‹å¾—åˆ†ä¸Qå€¼é€‰æ‹©æœ€ä¼˜åŠ¨ä½œ            q_values = self.q_table.get(self.get_state_hash(model_output), np.zeros_like(model_output))            combined_scores = model_output + q_values            valid_scores = combined_scores[valid_actions]            best_idx = np.argmax(valid_scores)            return valid_actions[best_idx]# ---------------------- 4. äº”å­æ£‹GUIç•Œé¢ä¸ä¸»é€»è¾‘----------------------class GomokuGame:    def __init__(self, root):        self.root = root        self.root.title(&quot;äº”å­æ£‹ï¼ˆAIå¯¹æˆ˜-æ”»é˜²å…¼å¤‡ï¼‰&quot;)        self.size = 15        self.cell_size = 30        self.canvas_width = self.size * self.cell_size        self.canvas_height = self.size * self.cell_size                # åˆå§‹åŒ–æ ¸å¿ƒç»„ä»¶        self.board_manager = BoardManager(self.size)        self.q_agent = QLearningAgent(self.size)        self.device = torch.device(&quot;cuda&quot; if torch.cuda.is_available() else &quot;cpu&quot;)        self.model = self.load_model()        self.game_running = False                # åˆ›å»ºGUIç»„ä»¶        self.create_widgets()        def create_widgets(self):        &quot;&quot;&quot;åˆ›å»ºGUIç•Œé¢å…ƒç´ &quot;&quot;&quot;        # æ£‹ç›˜ç”»å¸ƒ        self.canvas = tk.Canvas(            self.root,            width=self.canvas_width,            height=self.canvas_height,            bg=&quot;#F0D9B5&quot;        )        self.canvas.pack(padx=10, pady=10)        self.canvas.bind(&quot;&lt;Button-1&gt;&quot;, self.on_click)  # ç»‘å®šé¼ æ ‡ç‚¹å‡»è½å­äº‹ä»¶                # æŒ‰é’®æ¡†æ¶        self.btn_frame = tk.Frame(self.root)        self.btn_frame.pack(pady=5)                # å¼€å§‹æ–°æ¸¸æˆæŒ‰é’®        self.start_btn = tk.Button(            self.btn_frame,            text=&quot;å¼€å§‹æ–°æ¸¸æˆ&quot;,            command=self.start_game,            width=15        )        self.start_btn.grid(row=0, column=0, padx=5)                # é‡ç½®æ£‹ç›˜æŒ‰é’®        self.reset_btn = tk.Button(            self.btn_frame,            text=&quot;é‡ç½®æ£‹ç›˜&quot;,            command=self.reset_game,            width=15        )        self.reset_btn.grid(row=0, column=1, padx=5)                # ç»˜åˆ¶åˆå§‹æ£‹ç›˜        self.draw_board()        def draw_board(self):        &quot;&quot;&quot;ç»˜åˆ¶æ£‹ç›˜ç½‘æ ¼ä¸æ˜Ÿä½&quot;&quot;&quot;        self.canvas.delete(&quot;all&quot;)                # ç»˜åˆ¶æ¨ªçº¿ä¸ç«–çº¿        for i in range(self.size):            # æ¨ªçº¿            self.canvas.create_line(                self.cell_size // 2,                self.cell_size // 2 + i * self.cell_size,                self.canvas_width - self.cell_size // 2,                self.cell_size // 2 + i * self.cell_size,                fill=&quot;#000000&quot;            )            # ç«–çº¿            self.canvas.create_line(                self.cell_size // 2 + i * self.cell_size,                self.cell_size // 2,                self.cell_size // 2 + i * self.cell_size,                self.canvas_height - self.cell_size // 2,                fill=&quot;#000000&quot;            )                # ç»˜åˆ¶æ˜Ÿä½ï¼ˆäº”å­æ£‹æ ‡å‡†æ˜Ÿä½ï¼‰        star_positions = [3, 7, 11]        for x in star_positions:            for y in star_positions:                self.canvas.create_oval(                    self.cell_size // 2 + x * self.cell_size - 5,                    self.cell_size // 2 + y * self.cell_size - 5,                    self.cell_size // 2 + x * self.cell_size + 5,                    self.cell_size // 2 + y * self.cell_size + 5,                    fill=&quot;#000000&quot;                )        def draw_piece(self, x, y, player):        &quot;&quot;&quot;ç»˜åˆ¶æ£‹å­ï¼ˆ1=é»‘æ£‹ï¼Œ2=ç™½æ£‹ï¼‰&quot;&quot;&quot;        center_x = self.cell_size // 2 + x * self.cell_size        center_y = self.cell_size // 2 + y * self.cell_size        radius = self.cell_size // 2 - 2                if player == 1:            # ç©å®¶ï¼šé»‘æ£‹            self.canvas.create_oval(                center_x - radius,                center_y - radius,                center_x + radius,                center_y + radius,                fill=&quot;#000000&quot;,                outline=&quot;#000000&quot;            )        else:            # AIï¼šç™½æ£‹            self.canvas.create_oval(                center_x - radius,                center_y - radius,                center_x + radius,                center_y + radius,                fill=&quot;#FFFFFF&quot;,                outline=&quot;#000000&quot;            )        def load_model(self):        &quot;&quot;&quot;åŠ è½½è®­ç»ƒå¥½çš„äº”å­æ£‹æ¨¡å‹&quot;&quot;&quot;        model = GomokuModel().to(self.device)        try:            model.load_state_dict(torch.load(&quot;gomoku_model.pth&quot;, map_location=self.device))            model.eval()  # åˆ‡æ¢ä¸ºè¯„ä¼°æ¨¡å¼ï¼ˆå…³é—­Dropoutï¼‰            messagebox.showinfo(&quot;æ¨¡å‹åŠ è½½&quot;, &quot;æˆåŠŸåŠ è½½è®­ç»ƒå¥½çš„äº”å­æ£‹æ¨¡å‹ï¼&quot;)        except FileNotFoundError:            messagebox.showwarning(&quot;æ¨¡å‹åŠ è½½&quot;, &quot;æœªæ‰¾åˆ° gomoku_model.pthï¼ŒAIå°†ä½¿ç”¨ç­–ç•¥è½å­ï¼&quot;)            model = None        except RuntimeError as e:            messagebox.showerror(&quot;æ¨¡å‹åŠ è½½å¤±è´¥&quot;, f&quot;æ¨¡å‹ç»“æ„ä¸åŒ¹é…ï¼š&#123;str(e)&#125;&quot;)            model = None        return model        def ai_choose_action(self):        &quot;&quot;&quot;AIè½å­é€»è¾‘ï¼šé˜²è‡´å‘½ &gt; è¿½è·èƒœ &gt; åŸºç¡€ç­–ç•¥&quot;&quot;&quot;        # ç¬¬ä¸€æ­¥ï¼šä¼˜å…ˆå µå¯¹æ‰‹4è¿ï¼ˆä¿å‘½ï¼‰        opponent_four_threat = self.board_manager.check_opponent_threat()        if opponent_four_threat is not None:            x, y = opponent_four_threat            if self.board_manager.board[x, y] == 0:                return x, y                # ç¬¬äºŒæ­¥ï¼šä¼˜å…ˆè¡¥è‡ªå·±4è¿ï¼ˆå†²5è·èƒœï¼‰        ai_four_advantage = self.board_manager.check_ai_advantage()        if ai_four_advantage is not None:            x, y = ai_four_advantage            if self.board_manager.board[x, y] == 0:                return x, y                # ç¬¬ä¸‰æ­¥ï¼šå µå¯¹æ‰‹3è¿ï¼ˆé˜²å¨èƒï¼‰        opponent_three_threat = self.board_manager.check_opponent_threat()        if opponent_three_threat is not None and opponent_three_threat != opponent_four_threat:            x, y = opponent_three_threat            if self.board_manager.board[x, y] == 0:                return x, y                # ç¬¬å››æ­¥ï¼šè¡¥è‡ªå·±3è¿ï¼ˆé€ å¨èƒï¼‰        ai_three_advantage = self.board_manager.check_ai_advantage()        if ai_three_advantage is not None and ai_three_advantage != ai_four_advantage:            x, y = ai_three_advantage            if self.board_manager.board[x, y] == 0:                return x, y                # ç¬¬äº”æ­¥ï¼šæ¨¡å‹+Q-Learningå†³ç­–ï¼ˆæ— æ”»é˜²å¨èƒæ—¶ï¼‰        valid_positions = np.argwhere(self.board_manager.board == 0)        if len(valid_positions) == 0:            return None, None                valid_actions = [x * self.size + y for (x, y) in valid_positions]                if self.model is not None:            with torch.no_grad():  # å…³é—­æ¢¯åº¦è®¡ç®—ï¼Œæå‡æ¨ç†é€Ÿåº¦                input_tensor = self.board_manager.get_model_input().to(self.device)                model_output = self.model(input_tensor).squeeze().cpu().numpy()            best_action_idx = self.q_agent.choose_action(model_output, valid_actions)            x = best_action_idx // self.size            y = best_action_idx % self.size        else:            # æ— æ¨¡å‹ï¼šéšæœºé€‰æ‹©åˆæ³•ä½ç½®            x, y = valid_positions[np.random.randint(0, len(valid_positions))]                return x, y        def on_click(self, event):        &quot;&quot;&quot;é¼ æ ‡ç‚¹å‡»äº‹ä»¶ï¼ˆç©å®¶è½å­ï¼‰&quot;&quot;&quot;        if not self.game_running:            return                # è½¬æ¢é¼ æ ‡åæ ‡ä¸ºæ£‹ç›˜åæ ‡        x = int((event.x - self.cell_size // 2) // self.cell_size)        y = int((event.y - self.cell_size // 2) // self.cell_size)                # éªŒè¯å¹¶æ›´æ–°ç©å®¶è½å­        if 0 &lt;= x &lt; self.size and 0 &lt;= y &lt; self.size and self.board_manager.board[x, y] == 0:            self.board_manager.update_board(x, y, 1)            self.draw_piece(x, y, 1)                        # åˆ¤æ–­ç©å®¶æ˜¯å¦è·èƒœ            if self.board_manager.is_win(x, y, 1):                messagebox.showinfo(&quot;æ¸¸æˆç»“æŸ&quot;, &quot;æ­å–œä½ ï¼è·èƒœäº†ï¼&quot;)                self.game_running = False                return                        # AIè½å­ï¼ˆåŒ…å«æ”»é˜²å…œåº•ç­–ç•¥ï¼‰            ai_x, ai_y = self.ai_choose_action()            if ai_x is not None and ai_y is not None:                self.board_manager.update_board(ai_x, ai_y, 2)                self.draw_piece(ai_x, ai_y, 2)                                # åˆ¤æ–­AIæ˜¯å¦è·èƒœ                if self.board_manager.is_win(ai_x, ai_y, 2):                    messagebox.showinfo(&quot;æ¸¸æˆç»“æŸ&quot;, &quot;AIè·èƒœï¼å†è¯•ä¸€æ¬¡å§ï¼&quot;)                    self.game_running = False                    return        def start_game(self):        &quot;&quot;&quot;å¼€å§‹æ–°æ¸¸æˆ&quot;&quot;&quot;        self.reset_game()        self.game_running = True        messagebox.showinfo(&quot;æ¸¸æˆå¼€å§‹&quot;, &quot;AIä¼šä¼˜å…ˆå µä½ çš„3è¿/4è¿ï¼Œä¹Ÿä¼šä¼˜å…ˆè¡¥è‡ªå·±çš„3è¿/4è¿å†²5è·èƒœï¼&quot;)        def reset_game(self):        &quot;&quot;&quot;é‡ç½®æ¸¸æˆ&quot;&quot;&quot;        self.board_manager.reset()        self.draw_board()        self.game_running = False# ---------------------- 5. ç¨‹åºå…¥å£ ----------------------if __name__ == &quot;__main__&quot;:    root = tk.Tk()    game = GomokuGame(root)    root.mainloop()</code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ç®€æ˜“äº”å­æ£‹AIå¯¹æˆ˜ç³»ç»Ÿï¼šQ-learningä¸ç›‘ç£å­¦ä¹ &quot;&gt;&lt;a href=&quot;#ç®€æ˜“äº”å­æ£‹AIå¯¹æˆ˜ç³»ç»Ÿï¼šQ-learningä¸ç›‘ç£å­¦ä¹ &quot; class=&quot;headerlink&quot; title=&quot;ç®€æ˜“äº”å­æ£‹AIå¯¹æˆ˜ç³»ç»Ÿï¼šQ-learningä¸ç›‘ç£å­¦ä¹ &quot;&gt;&lt;/a&gt;ç®€æ˜“äº”å­æ£‹</summary>
      
    
    
    
    <category term="ç¼–ç¨‹" scheme="https://yifei-huang-cos.github.io/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>åŸºäºè½»é‡åŒ–CNNå®ç°è‡ªåŠ¨é©¾é©¶æ–¹å‘é¢„æµ‹</title>
    <link href="https://yifei-huang-cos.github.io/posts/105e3bfd/"/>
    <id>https://yifei-huang-cos.github.io/posts/105e3bfd/</id>
    <published>2026-02-04T16:00:00.000Z</published>
    <updated>2026-02-05T17:51:20.018Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åŸºäºè½»é‡åŒ–CNNå®ç°è‡ªåŠ¨é©¾é©¶æ–¹å‘é¢„æµ‹"><a href="#åŸºäºè½»é‡åŒ–CNNå®ç°è‡ªåŠ¨é©¾é©¶æ–¹å‘é¢„æµ‹" class="headerlink" title="åŸºäºè½»é‡åŒ–CNNå®ç°è‡ªåŠ¨é©¾é©¶æ–¹å‘é¢„æµ‹"></a>åŸºäºè½»é‡åŒ–CNNå®ç°è‡ªåŠ¨é©¾é©¶æ–¹å‘é¢„æµ‹</h1><p>åœ¨æ·±åº¦å­¦ä¹ è®¡ç®—æœºè§†è§‰é¢†åŸŸï¼ŒCNNï¼ˆå·ç§¯ç¥ç»ç½‘ç»œï¼‰å‡­å€Ÿå¼ºå¤§çš„ç©ºé—´ç‰¹å¾æå–èƒ½åŠ›ï¼Œæˆä¸ºè‡ªåŠ¨é©¾é©¶ç¯å¢ƒæ„ŸçŸ¥ä»»åŠ¡çš„æ ¸å¿ƒæŠ€æœ¯æ”¯æ’‘ã€‚çœŸå®è‡ªåŠ¨é©¾é©¶åœºæ™¯å¤æ‚ä¸”æ•°æ®è·å–æˆæœ¬é«˜ï¼Œå¯¹äºæ–°æ‰‹è€Œè¨€ï¼Œå¾ˆéš¾å¿«é€Ÿä¸Šæ‰‹å¹¶éªŒè¯æ¨¡å‹æ•ˆæœã€‚</p><p>æœ¬æ¬¡æˆ‘ä»¬å°†é€šè¿‡<strong>æè‡´ç®€åŒ–ä½†è´´åˆæ ¸å¿ƒé€»è¾‘</strong>çš„åœºæ™¯ï¼Œä»é›¶æ­å»ºä¸€ä¸ªè½»é‡åŒ–CNNæ¨¡å‹ï¼Œå®ç°ã€Œè½¦è¾†å§¿æ€è‡ªé€‚åº”ï¼ˆçºµå‘&#x2F;æ¨ªå‘åˆ‡æ¢ï¼‰+ è½¦å¤´ä¸è¡Œé©¶æ–¹å‘å¼ºç»‘å®šã€çš„è‡ªåŠ¨é©¾é©¶æ–¹å‘é¢„æµ‹ï¼Œå…¨ç¨‹ä»£ç å¯å¤ç°ã€æ— ç¯å¢ƒå‘ï¼Œæœ€ç»ˆè¾¾æˆæµ‹è¯•é›†99.2%çš„é«˜å‡†ç¡®ç‡ï¼Œå¸®ä½ å¿«é€Ÿæ‰“é€šã€Œæ•°æ®ç”Ÿæˆâ†’æ¨¡å‹æ­å»ºâ†’è®­ç»ƒè¯„ä¼°ã€çš„æ·±åº¦å­¦ä¹ å®æˆ˜é—­ç¯ã€‚</p><h2 id="ä¸€ã€é¡¹ç›®æ ¸å¿ƒèƒŒæ™¯ä¸ç›®æ ‡"><a href="#ä¸€ã€é¡¹ç›®æ ¸å¿ƒèƒŒæ™¯ä¸ç›®æ ‡" class="headerlink" title="ä¸€ã€é¡¹ç›®æ ¸å¿ƒèƒŒæ™¯ä¸ç›®æ ‡"></a>ä¸€ã€é¡¹ç›®æ ¸å¿ƒèƒŒæ™¯ä¸ç›®æ ‡</h2><h3 id="1-é¡¹ç›®èƒŒæ™¯"><a href="#1-é¡¹ç›®èƒŒæ™¯" class="headerlink" title="1. é¡¹ç›®èƒŒæ™¯"></a>1. é¡¹ç›®èƒŒæ™¯</h3><p>è‡ªåŠ¨é©¾é©¶çš„æ ¸å¿ƒæµç¨‹å¯æ‹†è§£ä¸ºã€Œç¯å¢ƒæ„ŸçŸ¥â†’å†³ç­–è§„åˆ’â†’æ‰§è¡Œæ§åˆ¶ã€ï¼Œå…¶ä¸­<strong>ç¯å¢ƒæ„ŸçŸ¥</strong>æ˜¯åŸºç¡€â€”â€”è½¦è¾†éœ€è¦é€šè¿‡æ‘„åƒå¤´ã€æ¿€å…‰é›·è¾¾ç­‰è®¾å¤‡è·å–è‡ªèº«ä¸ç¯å¢ƒçš„ç›¸å¯¹ä½ç½®ï¼Œå†é€šè¿‡æ¨¡å‹è¾“å‡ºæœ€ä¼˜è¡Œé©¶ç­–ç•¥ã€‚çœŸå®åœºæ™¯ä¸­ï¼Œè½¦è¾†å§¿æ€ã€é“è·¯ç¯å¢ƒã€éšœç¢ç‰©ã€å…‰ç…§å˜åŒ–ç­‰å› ç´ éƒ½ä¼šå¢åŠ æ¨¡å‹å­¦ä¹ éš¾åº¦ï¼Œç”šè‡³å¯¼è‡´æ•°æ®æ ‡æ³¨æˆæœ¬æ¿€å¢ï¼ˆéœ€äººå·¥æ ‡æ³¨å¤§é‡è½¦è¾†ä½ç½®ã€è¡Œé©¶æ–¹å‘æ ·æœ¬ï¼‰ã€‚</p><p>ä¸ºé™ä½å®æˆ˜é—¨æ§›ï¼ŒåŒæ—¶ä¿ç•™æ ¸å¿ƒé€»è¾‘ï¼Œæœ¬æ¬¡é¡¹ç›®åšäº†é’ˆå¯¹æ€§ç®€åŒ–è®¾è®¡ï¼Œèšç„¦ã€Œè½¦è¾†ä½ç½®â†’è¡Œé©¶æ–¹å‘ã€çš„æ˜ å°„å…³ç³»ï¼Œå‰¥ç¦»æ— å…³å¹²æ‰°ï¼š</p><ul><li><p>ç¯å¢ƒç®€åŒ–ï¼šç”¨ã€Œ32Ã—32é»‘ç™½æ–¹æ ¼å›¾ã€æ¨¡æ‹Ÿå¹³å¦æ— éšœç¢ç‰©çš„è¡Œé©¶é“è·¯ï¼Œæ–¹æ ¼çº¿æ¸…æ™°å¯è¾¨ï¼Œä¾¿äºæ¨¡å‹æ•æ‰è½¦è¾†ä¸ç¯å¢ƒçš„ç›¸å¯¹ä½ç½®ï¼›</p></li><li><p>è½¦è¾†ç®€åŒ–ï¼šç”¨ã€Œè‡ªé€‚åº”å§¿æ€é•¿æ–¹ä½“ã€æ¨¡æ‹Ÿè½¦è¾†ï¼Œé¿å…å¤æ‚è½¦è¾†è½®å»“å»ºæ¨¡ï¼ŒåŒæ—¶æ”¯æŒå§¿æ€åˆ‡æ¢ï¼ˆä¸Šä¸‹è¡Œé©¶çºµæ”¾ã€å·¦å³è¡Œé©¶æ¨ªæ”¾ï¼‰ï¼Œè´´åˆçœŸå®è½¦è¾†è¡Œé©¶é€»è¾‘ï¼›</p></li><li><p>æ–¹å‘æ ‡è®°ï¼šç”¨ã€Œå†…ç½®æ·±ç°è‰²å°æ–¹å—ã€æ ‡è®°è½¦å¤´ï¼Œä¸é»‘è‰²è½¦èº«å½¢æˆæ˜æ˜¾è§†è§‰åŒºåˆ†ï¼Œä¸”è½¦å¤´æ–¹å‘ç›´æ¥å¯¹åº”è½¦è¾†è¡Œé©¶æ–¹å‘ï¼Œé¿å…æ–¹å‘æ­§ä¹‰ï¼›</p></li><li><p>æ ‡æ³¨ç®€åŒ–ï¼šé€šè¿‡ä»£ç è‡ªåŠ¨ç”Ÿæˆæ ‡æ³¨æ•°æ®ï¼Œæ— éœ€äººå·¥æ ‡æ³¨ï¼Œé™ä½å®æˆ˜æˆæœ¬ï¼ŒåŒæ—¶ä¿è¯æ•°æ®æ ‡æ³¨çš„å‡†ç¡®æ€§å’Œä¸€è‡´æ€§ã€‚</p></li></ul><p>é€šè¿‡ä»¥ä¸Šç®€åŒ–ï¼Œæˆ‘ä»¬å¯ä¸“æ³¨äºç†è§£CNNçš„ç©ºé—´ç‰¹å¾æå–é€»è¾‘ã€æ•°æ®é›†ç”ŸæˆåŸç†ã€æ¨¡å‹è®­ç»ƒä¸ä¼˜åŒ–æµç¨‹ï¼Œä¸ºåç»­å­¦ä¹ å¤æ‚è‡ªåŠ¨é©¾é©¶åœºæ™¯æ‰“ä¸‹åšå®åŸºç¡€ã€‚</p><h3 id="2-æ ¸å¿ƒç›®æ ‡"><a href="#2-æ ¸å¿ƒç›®æ ‡" class="headerlink" title="2. æ ¸å¿ƒç›®æ ‡"></a>2. æ ¸å¿ƒç›®æ ‡</h3><ol><li><p>å®ç°<strong>è½¦è¾†å§¿æ€è‡ªé€‚åº”ç”Ÿæˆ</strong>ï¼šæ ¹æ®è½¦è¾†è¡Œé©¶æ–¹å‘ï¼ˆä¸Šä¸‹&#x2F;å·¦å³ï¼‰è‡ªåŠ¨åˆ‡æ¢è½¦èº«å§¿æ€ï¼Œä¸Šä¸‹è¡Œé©¶æ—¶çºµæ”¾ï¼ˆå°ºå¯¸8Ã—4ï¼‰ã€å·¦å³è¡Œé©¶æ—¶æ¨ªæ”¾ï¼ˆå°ºå¯¸4Ã—8ï¼‰ï¼Œä¿è¯è§†è§‰åˆç†æ€§ä¸çœŸå®è¡Œé©¶é€»è¾‘ä¸€è‡´ï¼›</p></li><li><p>å®Œæˆ<strong>è½¦å¤´ä¸è¡Œé©¶æ–¹å‘å¼ºç»‘å®š</strong>ï¼šè½¦å¤´æœå‘ç›´æ¥å†³å®šè½¦è¾†å¯è¡Œé©¶èŒƒå›´ï¼Œæ¨¡å‹ä»…è¾“å‡ºã€Œè½¦å¤´æ–¹å‘ã€æˆ–ã€Œç›´è¡Œã€ä¸¤ç§ç»“æœï¼Œæ— è·¨æ–¹å‘ã€ä¸åˆç†çš„é¢„æµ‹è¾“å‡ºï¼Œè´´åˆçœŸå®é©¾é©¶å†³ç­–é€»è¾‘ï¼›</p></li><li><p>æ„å»ºè‡ªåŠ¨åŒ–æ•°æ®é›†ç”Ÿæˆæµç¨‹ï¼šé€šè¿‡ä»£ç éšæœºç”ŸæˆæŒ‡å®šæ•°é‡ï¼ˆ5000å¼ ï¼‰çš„æ ·æœ¬å›¾ï¼Œè‡ªåŠ¨å®Œæˆç¯å¢ƒã€è½¦è¾†ã€è½¦å¤´çš„ç»˜åˆ¶åŠæ–¹å‘æ ‡ç­¾æ ‡æ³¨ï¼Œä¿è¯æ•°æ®é›†çš„ç»“æ„åŒ–ä¸å¯å¤ç°æ€§ï¼›</p></li><li><p>æ­å»ºè½»é‡åŒ–CNNæ¨¡å‹å¹¶æŒæ¡å…¶è®¾è®¡é€»è¾‘ï¼šç†è§£å·ç§¯å±‚ã€æ± åŒ–å±‚ã€å…¨è¿æ¥å±‚çš„ä½œç”¨ï¼ŒæŒæ¡å‚æ•°è®¾ç½®ï¼ˆæ»¤æ³¢å™¨æ•°é‡ã€ kernelå°ºå¯¸ã€ dropoutæ¯”ä¾‹ç­‰ï¼‰çš„è®¾è®¡è€ƒé‡ï¼Œå®ç°æ¨¡å‹è½»é‡åŒ–ï¼ˆä½å‚æ•°ã€å¿«è®­ç»ƒï¼‰ï¼›</p></li><li><p>å®Œæˆæ¨¡å‹è®­ç»ƒã€ä¼˜åŒ–ä¸å…¨é¢è¯„ä¼°ï¼šæŒæ¡æ¨¡å‹ç¼–è¯‘ã€è®­ç»ƒå›è°ƒå‡½æ•°çš„ä½¿ç”¨ï¼Œé€šè¿‡æµ‹è¯•é›†éªŒè¯æ¨¡å‹æ•ˆæœï¼Œåˆ†æè®­ç»ƒæ›²çº¿ï¼Œè¾¾æˆé«˜å‡†ç¡®ç‡ï¼ˆâ‰¥99%ï¼‰ï¼Œå½¢æˆå®Œæ•´çš„æ·±åº¦å­¦ä¹ å®æˆ˜é—­ç¯ã€‚</p></li></ol><h2 id="äºŒã€å‰æœŸå‡†å¤‡"><a href="#äºŒã€å‰æœŸå‡†å¤‡" class="headerlink" title="äºŒã€å‰æœŸå‡†å¤‡"></a>äºŒã€å‰æœŸå‡†å¤‡</h2><h3 id="1-ç¯å¢ƒé…ç½®"><a href="#1-ç¯å¢ƒé…ç½®" class="headerlink" title="1. ç¯å¢ƒé…ç½®"></a>1. ç¯å¢ƒé…ç½®</h3><p>æœ¬æ¬¡é¡¹ç›®é‡‡ç”¨ã€ŒPython 3.11 + TensorFlow 2.20.0ã€ç»„åˆï¼Œè¯¥ç»„åˆå…¼å®¹æ€§å¼ºã€ç¨³å®šæ€§é«˜ï¼Œå¯æœ‰æ•ˆé¿å…æ–°ç‰ˆPythonä¸TensorFlowçš„é€‚é…é—®é¢˜ï¼Œæ ¸å¿ƒä¾èµ–åº“åŠä½œç”¨å¦‚ä¸‹ï¼ˆæ˜ç¡®æ¯ä¸€æ­¥ä¾èµ–çš„å¿…è¦æ€§ï¼Œä¾¿äºæ–°æ‰‹ç†è§£ï¼‰ï¼š</p><ul><li><p><code>tensorflow==2.20.0</code>ï¼šæ ¸å¿ƒæ¡†æ¶ï¼Œç”¨äºæ­å»ºã€ç¼–è¯‘ã€è®­ç»ƒè½»é‡åŒ–CNNæ¨¡å‹ï¼Œæä¾›ä¸°å¯Œçš„ç¥ç»ç½‘ç»œå±‚ï¼ˆå·ç§¯å±‚ã€æ± åŒ–å±‚ç­‰ï¼‰ä¸å›è°ƒå‡½æ•°ï¼Œç®€åŒ–æ¨¡å‹å¼€å‘æµç¨‹ï¼›</p></li><li><p><code>numpy</code>ï¼šç”¨äºæ•°æ®å¤„ç†ä¸çŸ©é˜µè¿ç®—ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯å°†ç”Ÿæˆçš„å›¾åƒè½¬æ¢ä¸ºæ•°ç»„æ ¼å¼ã€å¤„ç†æ•°æ®ç»´åº¦ï¼ˆå¦‚å¢åŠ é€šé“ç»´åº¦ï¼‰ã€ç”Ÿæˆéšæœºåæ ‡ç­‰ï¼Œæ˜¯æ·±åº¦å­¦ä¹ æ•°æ®å¤„ç†çš„åŸºç¡€ï¼›</p></li><li><p><code>opencv-python</code>ï¼šç”¨äºå›¾åƒç»˜åˆ¶ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯ç»˜åˆ¶æ–¹æ ¼èƒŒæ™¯ã€è‡ªé€‚åº”å§¿æ€è½¦è¾†ã€æ·±ç°è‰²è½¦å¤´ï¼Œå®ç°æ ·æœ¬å›¾çš„å¯è§†åŒ–ç”Ÿæˆï¼Œæ— éœ€æ‰‹åŠ¨åˆ¶ä½œå›¾åƒï¼›</p></li><li><p><code>matplotlib</code>ï¼šç”¨äºç»“æœå¯è§†åŒ–ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯ç»˜åˆ¶è®­ç»ƒæŸå¤±&#x2F;å‡†ç¡®ç‡æ›²çº¿ã€å±•ç¤ºæ ·æœ¬éªŒè¯å›¾ï¼Œä¾¿äºåˆ†ææ¨¡å‹è®­ç»ƒæ•ˆæœä¸æ•°æ®ç”Ÿæˆè´¨é‡ï¼›</p></li><li><p><code>scikit-learn</code>ï¼šç”¨äºæ•°æ®é›†åˆ’åˆ†ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯å°†ç”Ÿæˆçš„æ ·æœ¬æŒ‰7:2:1çš„æ¯”ä¾‹åˆ’åˆ†ä¸ºè®­ç»ƒé›†ã€éªŒè¯é›†ã€æµ‹è¯•é›†ï¼Œç¡®ä¿æ¨¡å‹è®­ç»ƒã€ä¼˜åŒ–ã€è¯„ä¼°çš„ç‹¬ç«‹æ€§ï¼Œé¿å…æ•°æ®æ³„éœ²ã€‚</p></li></ul><p>ç¯å¢ƒæ­å»ºæ­¥éª¤</p><ol><li>å®‰è£…Python 3.11ï¼šé¿å…å®‰è£…Python 3.12åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œæ­¤ç±»æ–°ç‰ˆæœ¬ä¸TensorFlow 2.20.0å­˜åœ¨é€‚é…é—®é¢˜ï¼Œå¯èƒ½å¯¼è‡´ä¾èµ–åº“å®‰è£…å¤±è´¥æˆ–æ¨¡å‹è®­ç»ƒæŠ¥é”™ï¼›</li><li>æ–°å»ºè™šæ‹Ÿç¯å¢ƒå¹¶æ¿€æ´»ï¼šè™šæ‹Ÿç¯å¢ƒå¯éš”ç¦»ä¸åŒé¡¹ç›®çš„ä¾èµ–åº“ï¼Œé¿å…å› ä¾èµ–ç‰ˆæœ¬å†²çªå¯¼è‡´é¡¹ç›®æ— æ³•è¿è¡Œï¼Œå»ºè®®ä½¿ç”¨condaæˆ–venvåˆ›å»ºï¼ˆæ–°æ‰‹æ¨èvenvï¼Œæ“ä½œç®€å•ï¼‰ï¼›ã€‚</li></ol><h3 id="2-æ ¸å¿ƒæ€è·¯æ¢³ç†ï¼ˆè¯¦ç»†æ‹†è§£ï¼Œé—­ç¯é€»è¾‘ï¼‰ï¼š"><a href="#2-æ ¸å¿ƒæ€è·¯æ¢³ç†ï¼ˆè¯¦ç»†æ‹†è§£ï¼Œé—­ç¯é€»è¾‘ï¼‰ï¼š" class="headerlink" title="2. æ ¸å¿ƒæ€è·¯æ¢³ç†ï¼ˆè¯¦ç»†æ‹†è§£ï¼Œé—­ç¯é€»è¾‘ï¼‰ï¼š"></a>2. æ ¸å¿ƒæ€è·¯æ¢³ç†ï¼ˆè¯¦ç»†æ‹†è§£ï¼Œé—­ç¯é€»è¾‘ï¼‰ï¼š</h3><figure class="highlight plaintext"><figcaption><span>Text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ•°æ®è‡ªåŠ¨ç”Ÿæˆï¼ˆç¯å¢ƒ+è½¦è¾†+è½¦å¤´+æ ‡ç­¾ï¼‰â†’ æ•°æ®é¢„å¤„ç†ï¼ˆæ ¼å¼è½¬æ¢+one-hotç¼–ç ï¼‰â†’ æ•°æ®é›†åˆ’åˆ† â†’ è½»é‡åŒ–CNNæ¨¡å‹æ­å»º â†’ æ¨¡å‹ç¼–è¯‘ä¸è®­ç»ƒï¼ˆæ·»åŠ å›è°ƒä¼˜åŒ–ï¼‰â†’ æ¨¡å‹è¯„ä¼°ï¼ˆæµ‹è¯•é›†éªŒè¯ï¼‰â†’ ç»“æœå¯è§†åŒ–ï¼ˆæ ·æœ¬+è®­ç»ƒæ›²çº¿ï¼‰</span><br></pre></td></tr></table></figure><p>é€æ­¥éª¤è¯¦ç»†è§£è¯»æ ¸å¿ƒæ€è·¯ï¼š</p><ol><li><p>æ•°æ®è‡ªåŠ¨ç”Ÿæˆï¼šè¿™æ˜¯æœ¬æ¬¡é¡¹ç›®çš„åŸºç¡€çš„æ ¸å¿ƒæ­¥éª¤ï¼Œä¹Ÿæ˜¯é™ä½å®æˆ˜é—¨æ§›çš„å…³é”®ã€‚é€šè¿‡ç¼–å†™ä¸“é—¨çš„å‡½æ•°ï¼Œè‡ªåŠ¨å®Œæˆâ€œæ–¹æ ¼èƒŒæ™¯ç»˜åˆ¶â†’è½¦è¾†å§¿æ€åˆ‡æ¢â†’è½¦å¤´ç»˜åˆ¶â†’æ–¹å‘æ ‡ç­¾æ ‡æ³¨â€ï¼Œæ— éœ€äººå·¥å¹²é¢„ï¼Œæ—¢ä¿è¯æ•°æ®è´¨é‡ï¼Œåˆæå‡æ•ˆç‡ã€‚æ ¸å¿ƒè®¾è®¡é€»è¾‘æ˜¯â€œå§¿æ€ä¸æ–¹å‘ç»‘å®šâ€â€”â€”ä¸Šä¸‹è¡Œé©¶å¯¹åº”çºµå‘è½¦è¾†ï¼Œå·¦å³è¡Œé©¶å¯¹åº”æ¨ªå‘è½¦è¾†ï¼Œè½¦å¤´æ–¹å‘ç›´æ¥å†³å®šæ ‡ç­¾åˆ¤æ–­ç»´åº¦ï¼ˆçºµå‘è½¦è¾†åˆ¤æ–­çºµå‘åç§»ï¼Œæ¨ªå‘è½¦è¾†åˆ¤æ–­æ¨ªå‘åç§»ï¼‰ï¼›</p></li><li><p>æ•°æ®é¢„å¤„ç†ï¼šç”Ÿæˆçš„åŸå§‹æ•°æ®ï¼ˆå›¾åƒã€æ ‡ç­¾ï¼‰æ— æ³•ç›´æ¥è¾“å…¥CNNæ¨¡å‹ï¼Œéœ€è¿›è¡Œä¸¤é¡¹å…³é”®å¤„ç†ï¼šä¸€æ˜¯æ ¼å¼è½¬æ¢ï¼ˆå°†å›¾åƒåˆ—è¡¨è½¬æ¢ä¸ºnumpyæ•°ç»„ï¼Œå¹¶å¢åŠ é€šé“ç»´åº¦ï¼Œé€‚é…CNNå•é€šé“ç°åº¦å›¾è¾“å…¥æ ¼å¼ï¼‰ï¼›äºŒæ˜¯æ ‡ç­¾one-hotç¼–ç ï¼ˆå°†æ•´æ•°æ ‡ç­¾è½¬æ¢ä¸ºone-hotå‘é‡ï¼Œé€‚é…å¤šåˆ†ç±»äº¤å‰ç†µæŸå¤±å‡½æ•°ï¼Œé¿å…æ ‡ç­¾æƒé‡ä¸å‡å¯¼è‡´çš„è®­ç»ƒåå·®ï¼‰ï¼›</p></li><li><p>æ•°æ®é›†åˆ’åˆ†ï¼šæŒ‰7:2:1çš„æ¯”ä¾‹åˆ’åˆ†ä¸ºè®­ç»ƒé›†ã€éªŒè¯é›†ã€æµ‹è¯•é›†ï¼Œä¸‰è€…ä½œç”¨æ˜ç¡®ä¸”ç‹¬ç«‹ï¼šè®­ç»ƒé›†ç”¨äºæ¨¡å‹å­¦ä¹ æ•°æ®è§„å¾‹ï¼ˆè½¦è¾†ä½ç½®ä¸æ–¹å‘çš„æ˜ å°„ï¼‰ï¼›éªŒè¯é›†ç”¨äºè®­ç»ƒè¿‡ç¨‹ä¸­ä¼˜åŒ–æ¨¡å‹ï¼ˆè°ƒæ•´æƒé‡ã€é¿å…è¿‡æ‹Ÿåˆï¼‰ï¼›æµ‹è¯•é›†ç”¨äºæœ€ç»ˆè¯„ä¼°æ¨¡å‹æ³›åŒ–èƒ½åŠ›ï¼ˆæœªè§è¿‡çš„æ•°æ®ä¸Šçš„è¡¨ç°ï¼‰ï¼Œç¡®ä¿è¯„ä¼°ç»“æœçœŸå®å¯é ï¼›</p></li><li><p>è½»é‡åŒ–CNNæ¨¡å‹æ­å»ºï¼šæ ¸å¿ƒè®¾è®¡åŸåˆ™æ˜¯â€œè½»é‡åŒ–ã€é«˜æ•ˆæœâ€ï¼Œé¿å…å¤æ‚ç»“æ„å¯¼è‡´çš„è®­ç»ƒç¼“æ…¢ï¼ˆæ™®é€šCPUå¯å¿«é€Ÿè¿è¡Œï¼‰ã€‚æ­å»º3å±‚å·ç§¯å±‚ï¼ˆé€æ­¥æå–ç©ºé—´ç‰¹å¾ï¼‰+ 2å±‚å…¨è¿æ¥å±‚ï¼ˆåˆ†ç±»å†³ç­–ï¼‰ï¼Œé…åˆæ‰¹é‡å½’ä¸€åŒ–ï¼ˆåŠ é€Ÿæ”¶æ•›ï¼‰ã€æœ€å¤§æ± åŒ–ï¼ˆé™ä½ç»´åº¦ã€å‡å°‘è®¡ç®—é‡ï¼‰ã€dropoutï¼ˆé˜²æ­¢è¿‡æ‹Ÿåˆï¼‰ï¼Œå¹³è¡¡ç‰¹å¾æå–èƒ½åŠ›ä¸è®­ç»ƒæ•ˆç‡ï¼›</p></li><li><p>æ¨¡å‹ç¼–è¯‘ä¸è®­ç»ƒï¼šç¼–è¯‘æ—¶é€‰æ‹©åˆé€‚çš„ä¼˜åŒ–å™¨ã€æŸå¤±å‡½æ•°ã€è¯„ä¼°æŒ‡æ ‡â€”â€”Adamä¼˜åŒ–å™¨ï¼ˆæ”¶æ•›ç¨³å®šã€å­¦ä¹ ç‡è‡ªé€‚åº”ï¼Œé€‚åˆæ–°æ‰‹ä½¿ç”¨ï¼‰ã€å¤šåˆ†ç±»äº¤å‰ç†µæŸå¤±ï¼ˆé€‚é…one-hotæ ‡ç­¾å¤šåˆ†ç±»ä»»åŠ¡ï¼‰ã€å‡†ç¡®ç‡ï¼ˆç›´è§‚è¯„ä¼°æ¨¡å‹åˆ†ç±»æ•ˆæœï¼‰ã€‚è®­ç»ƒæ—¶æ·»åŠ å›è°ƒå‡½æ•°ï¼ˆæ—©åœæ³•ã€æ¨¡å‹ä¿å­˜ï¼‰ï¼Œä¼˜åŒ–è®­ç»ƒè¿‡ç¨‹ï¼šæ—©åœæ³•é¿å…æ— æ•ˆè®­ç»ƒï¼ˆéªŒè¯é›†æŸå¤±10è½®ä¸ä¸‹é™åˆ™åœæ­¢ï¼‰ï¼Œæ¨¡å‹ä¿å­˜è‡ªåŠ¨ç•™å­˜æœ€ä¼˜æ¨¡å‹ï¼Œæ— éœ€æ‰‹åŠ¨è®°å½•ï¼›</p></li><li><p>æ¨¡å‹è¯„ä¼°ï¼šç”¨æµ‹è¯•é›†å¯¹è®­ç»ƒå¥½çš„æ¨¡å‹è¿›è¡Œè¯„ä¼°ï¼Œè¾“å‡ºæµ‹è¯•é›†æŸå¤±ä¸å‡†ç¡®ç‡ï¼Œæ ¸å¿ƒåˆ¤æ–­æ ‡å‡†æ˜¯â€œæŸå¤±ä½ã€å‡†ç¡®ç‡é«˜â€ï¼Œä¸”æµ‹è¯•é›†å‡†ç¡®ç‡ä¸è®­ç»ƒé›†ã€éªŒè¯é›†å‡†ç¡®ç‡å·®è·è¾ƒå°ï¼Œè¯´æ˜æ¨¡å‹æ— è¿‡æ‹Ÿåˆã€æ³›åŒ–èƒ½åŠ›å¼ºï¼›</p></li><li><p>ç»“æœå¯è§†åŒ–ï¼šé€šè¿‡ä¸¤ç§å¯è§†åŒ–æ–¹å¼éªŒè¯é¡¹ç›®æ•ˆæœï¼šä¸€æ˜¯æ ·æœ¬éªŒè¯å›¾ï¼ˆå±•ç¤º5å¼ éšæœºæ ·æœ¬ï¼Œç›´è§‚æŸ¥çœ‹è½¦è¾†å§¿æ€ã€è½¦å¤´æ–¹å‘ã€æ ‡ç­¾çš„ç»‘å®šæ•ˆæœï¼Œç¡®è®¤æ•°æ®ç”Ÿæˆæ— è¯¯ï¼‰ï¼›äºŒæ˜¯è®­ç»ƒæ›²çº¿ï¼ˆæŸå¤±æ›²çº¿ã€å‡†ç¡®ç‡æ›²çº¿ï¼Œåˆ†æè®­ç»ƒè¶‹åŠ¿ï¼Œåˆ¤æ–­æ¨¡å‹æ˜¯å¦æ”¶æ•›ã€æ˜¯å¦è¿‡æ‹Ÿåˆï¼‰ã€‚</p></li></ol><h2 id="ä¸‰ã€å®ç°æ€è·¯"><a href="#ä¸‰ã€å®ç°æ€è·¯" class="headerlink" title="ä¸‰ã€å®ç°æ€è·¯"></a>ä¸‰ã€å®ç°æ€è·¯</h2><h3 id="1-æ ¸å¿ƒå‚æ•°é…ç½®ï¼ˆæ”¯æŒè½¦è¾†å§¿æ€åˆ‡æ¢ï¼Œå¯å¤ç°æ€§è®¾è®¡ï¼‰"><a href="#1-æ ¸å¿ƒå‚æ•°é…ç½®ï¼ˆæ”¯æŒè½¦è¾†å§¿æ€åˆ‡æ¢ï¼Œå¯å¤ç°æ€§è®¾è®¡ï¼‰" class="headerlink" title="1. æ ¸å¿ƒå‚æ•°é…ç½®ï¼ˆæ”¯æŒè½¦è¾†å§¿æ€åˆ‡æ¢ï¼Œå¯å¤ç°æ€§è®¾è®¡ï¼‰"></a>1. æ ¸å¿ƒå‚æ•°é…ç½®ï¼ˆæ”¯æŒè½¦è¾†å§¿æ€åˆ‡æ¢ï¼Œå¯å¤ç°æ€§è®¾è®¡ï¼‰</h3><p>å‚æ•°é…ç½®æ˜¯é¡¹ç›®å¯å¤ç°ã€å¯é…ç½®çš„å…³é”®ï¼Œæ‰€æœ‰å‚æ•°å‡æœ‰æ˜ç¡®è®¾è®¡è€ƒé‡ï¼Œå¹¶ééšæ„è®¾ç½®ï¼Œæ ¸å¿ƒå‚æ•°åŠè¯¦ç»†è§£è¯»å¦‚ä¸‹ï¼ˆé‡ç‚¹è¯´æ˜å§¿æ€åˆ‡æ¢ç›¸å…³å‚æ•°ï¼‰ï¼š</p><ul><li><p><strong>å›¾åƒå°ºå¯¸å‚æ•°ï¼ˆIMAGE_SIZE&#x3D;32ï¼‰</strong>ï¼šè®¾ç½®ä¸º32Ã—32ï¼Œæ ¸å¿ƒè€ƒé‡æ˜¯â€œè½»é‡åŒ–â€â€”â€”å‡å°å›¾åƒå°ºå¯¸å¯é™ä½CNNæ¨¡å‹çš„è®¡ç®—é‡ï¼Œè®©æ™®é€šCPUèƒ½å¿«é€Ÿè®­ç»ƒï¼ŒåŒæ—¶32Ã—32çš„å°ºå¯¸è¶³å¤Ÿå®¹çº³è½¦è¾†ï¼ˆ8Ã—4æˆ–4Ã—8ï¼‰ä¸æ–¹æ ¼èƒŒæ™¯ï¼Œé¿å…å›¾åƒè¿‡äºæ‹¥æŒ¤ï¼›</p></li><li><p><strong>è½¦è¾†å§¿æ€å‚æ•°ï¼ˆCAR_LONG&#x3D;8ã€CAR_SHORT&#x3D;4ï¼‰</strong>ï¼šè¿™æ˜¯è½¦è¾†å§¿æ€åˆ‡æ¢çš„æ ¸å¿ƒå‚æ•°ï¼Œè®¾è®¡é€»è¾‘æ˜¯â€œå§¿æ€ä¸æ–¹å‘åŒ¹é…â€â€”â€”ä¸Šä¸‹è¡Œé©¶æ—¶ï¼Œè½¦è¾†çºµå‘æ‘†æ”¾ï¼Œæ­¤æ—¶è½¦èº«çºµå‘é•¿åº¦ï¼ˆCAR_LONG&#x3D;8ï¼‰å¤§äºæ¨ªå‘å®½åº¦ï¼ˆCAR_SHORT&#x3D;4ï¼‰ï¼Œè´´åˆçœŸå®è½¦è¾†ä¸Šä¸‹è¡Œé©¶çš„è§†è§‰æ•ˆæœï¼›å·¦å³è¡Œé©¶æ—¶ï¼Œäº’æ¢ä¸¤ä¸ªå‚æ•°ï¼Œè½¦è¾†æ¨ªå‘æ‘†æ”¾ï¼ˆæ¨ªå‘é•¿åº¦8ã€çºµå‘å®½åº¦4ï¼‰ï¼Œç¡®ä¿å§¿æ€åˆç†ï¼›</p></li><li><p><strong>è½¦å¤´å‚æ•°ï¼ˆHEAD_SIZE&#x3D;2ï¼‰</strong>ï¼šè®¾ç½®ä¸º2Ã—2çš„å°æ–¹å—ï¼Œæ ¸å¿ƒè€ƒé‡æ˜¯â€œä¸è½¦èº«åŒºåˆ†ã€ä¸é®æŒ¡è½¦èº«â€â€”â€”2Ã—2çš„å°ºå¯¸è¶³å¤Ÿæ¸…æ™°æ ‡è®°è½¦å¤´æ–¹å‘ï¼ŒåŒæ—¶ä¸ä¼šè¿‡å¤§é®æŒ¡è½¦èº«ï¼ˆ8Ã—4æˆ–4Ã—8ï¼‰ï¼Œé¢œè‰²é€‰æ‹©æ·±ç°è‰²ï¼ˆä¸é»‘è‰²è½¦èº«åŒºåˆ†ï¼‰ï¼Œä¾¿äºæ¨¡å‹æ•æ‰è½¦å¤´ç‰¹å¾ï¼ˆè½¦å¤´æ–¹å‘æ˜¯æ ‡ç­¾åˆ¤æ–­çš„å…³é”®ï¼‰ï¼›</p></li><li><p><strong>åç§»é˜ˆå€¼ï¼ˆOFFSET&#x3D;8ï¼‰</strong>ï¼šç”¨äºåˆ¤æ–­è½¦è¾†æ˜¯å¦åç¦»èƒŒæ™¯ä¸­å¿ƒï¼Œè¿›è€Œç¡®å®šè¡Œé©¶æ–¹å‘æ ‡ç­¾ã€‚è®¾è®¡é€»è¾‘æ˜¯â€œèƒŒæ™¯ä¸­å¿ƒÂ±8åƒç´ â€ä½œä¸ºç›´è¡Œä¸è½¬å‘çš„åˆ†ç•Œï¼Œ32Ã—32å›¾åƒçš„ä¸­å¿ƒæ˜¯16åƒç´ ï¼Œåç§»è¶…è¿‡8åƒç´ ï¼ˆå³è½¦èº«ä¸­å¿ƒè¶…å‡º8-24åƒç´ èŒƒå›´ï¼‰ï¼Œåˆ™åˆ¤æ–­ä¸ºå¯¹åº”æ–¹å‘è¡Œé©¶ï¼Œå¦åˆ™ä¸ºç›´è¡Œï¼Œè¯¥é˜ˆå€¼ç»è¿‡å¤šæ¬¡æµ‹è¯•ï¼Œå¯ç¡®ä¿æ ‡ç­¾åˆ¤æ–­åˆç†ï¼Œæ— è¿‡å¤šæ­§ä¹‰æ ·æœ¬ï¼›</p></li><li><p><strong>å¯å¤ç°æ€§å‚æ•°ï¼ˆSEED&#x3D;42ï¼‰</strong>ï¼šå›ºå®šéšæœºç§å­ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯â€œç¡®ä¿æ¯æ¬¡è¿è¡Œä»£ç ï¼Œç”Ÿæˆçš„æ•°æ®é›†ã€æ¨¡å‹è®­ç»ƒç»“æœå®Œå…¨ä¸€è‡´â€â€”â€”é¿å…éšæœºå› ç´ ï¼ˆå¦‚éšæœºç”Ÿæˆè½¦è¾†åæ ‡ã€éšæœºåˆ’åˆ†æ•°æ®é›†ï¼‰å¯¼è‡´çš„ç»“æœæ³¢åŠ¨ï¼Œä¾¿äºæ–°æ‰‹å¤ç°é¡¹ç›®ã€è°ƒè¯•ä»£ç ï¼›</p></li><li><p><strong>æ•°æ®é›†ä¸è®­ç»ƒå‚æ•°ï¼ˆNUM_SAMPLES&#x3D;5000ã€EPOCHS&#x3D;20ã€BATCH_SIZE&#x3D;64ï¼‰</strong>ï¼š5000å¼ æ ·æœ¬è¶³å¤Ÿæ¨¡å‹å­¦ä¹ è§„å¾‹ï¼ˆé¿å…æ ·æœ¬è¿‡å°‘å¯¼è‡´è¿‡æ‹Ÿåˆï¼‰ï¼Œä¸”ä¸ä¼šè¿‡å¤šå ç”¨å†…å­˜ï¼›20è½®è®­ç»ƒå¯ç¡®ä¿æ¨¡å‹æ”¶æ•›ï¼ˆé…åˆæ—©åœæ³•ï¼Œæ— éœ€è®­ç»ƒæ»¡20è½®ï¼‰ï¼›64çš„æ‰¹æ¬¡å¤§å°é€‚é…æ™®é€šCPUï¼Œå¹³è¡¡è®­ç»ƒé€Ÿåº¦ä¸å†…å­˜å ç”¨ã€‚</p></li></ul><p>æ­¤å¤–ï¼Œå®šä¹‰è¡Œé©¶æ–¹å‘æ ‡ç­¾ï¼ˆDIRECTIONSï¼‰ä¸è½¦å¤´æ–¹å‘ï¼ˆMOVE_DIRECTIONSï¼‰ï¼Œå»ºç«‹ä¸¤è€…çš„æ˜ å°„å…³ç³»ï¼Œç¡®ä¿æ ‡ç­¾ä¸è½¦å¤´æ–¹å‘ã€è½¦è¾†å§¿æ€å¼ºç»‘å®šï¼Œé¿å…æ–¹å‘æ­§ä¹‰ï¼ˆä»…è¾“å‡ºupã€downã€leftã€rightã€straightäº”ç§æ ‡ç­¾ï¼Œå¯¹åº”5åˆ†ç±»ä»»åŠ¡ï¼‰ã€‚</p><h3 id="2-æ ¸å¿ƒå‡½æ•°è®¾è®¡æ€è·¯ï¼ˆè½¦è¾†ç”Ÿæˆ-å§¿æ€åˆ‡æ¢-æ–¹å‘ç»‘å®šï¼‰"><a href="#2-æ ¸å¿ƒå‡½æ•°è®¾è®¡æ€è·¯ï¼ˆè½¦è¾†ç”Ÿæˆ-å§¿æ€åˆ‡æ¢-æ–¹å‘ç»‘å®šï¼‰" class="headerlink" title="2. æ ¸å¿ƒå‡½æ•°è®¾è®¡æ€è·¯ï¼ˆè½¦è¾†ç”Ÿæˆ+å§¿æ€åˆ‡æ¢+æ–¹å‘ç»‘å®šï¼‰"></a>2. æ ¸å¿ƒå‡½æ•°è®¾è®¡æ€è·¯ï¼ˆè½¦è¾†ç”Ÿæˆ+å§¿æ€åˆ‡æ¢+æ–¹å‘ç»‘å®šï¼‰</h3><p>æ ¸å¿ƒå‡½æ•°ï¼ˆcreate_car_imageï¼‰æ˜¯æ•°æ®è‡ªåŠ¨ç”Ÿæˆçš„æ ¸å¿ƒï¼Œè´Ÿè´£å•å¼ æ ·æœ¬å›¾çš„å®Œæ•´ç”Ÿæˆï¼Œå‡½æ•°å†…éƒ¨é€»è¾‘æ‹†è§£ä¸º4ä¸ªå…³é”®æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—çš„è®¾è®¡æ€è·¯ã€å®ç°é€»è¾‘è¯¦ç»†è¯´æ˜å¦‚ä¸‹ï¼š</p><h4 id="æ¨¡å—1ï¼šæ–¹æ ¼èƒŒæ™¯ç”Ÿæˆ"><a href="#æ¨¡å—1ï¼šæ–¹æ ¼èƒŒæ™¯ç”Ÿæˆ" class="headerlink" title="æ¨¡å—1ï¼šæ–¹æ ¼èƒŒæ™¯ç”Ÿæˆ"></a>æ¨¡å—1ï¼šæ–¹æ ¼èƒŒæ™¯ç”Ÿæˆ</h4><p>æ ¸å¿ƒç›®çš„æ˜¯æ¨¡æ‹Ÿå¹³å¦è¡Œé©¶é“è·¯ï¼Œä¾¿äºæ¨¡å‹æ•æ‰è½¦è¾†ä¸ç¯å¢ƒçš„ç›¸å¯¹ä½ç½®ã€‚è®¾è®¡æ€è·¯ï¼šé¦–å…ˆåˆå§‹åŒ–32Ã—32çš„ç™½è‰²èƒŒæ™¯ï¼ˆç°åº¦å›¾ï¼Œ255è¡¨ç¤ºç™½è‰²ï¼‰ï¼Œç„¶åç»˜åˆ¶8Ã—8çš„æ–¹æ ¼çº¿ï¼ˆé»‘è‰²ï¼Œçº¿å®½1ï¼‰â€”â€”æ–¹æ ¼æ­¥é•¿ä¸º4ï¼ˆ32Ã·8&#x3D;4ï¼‰ï¼Œå³æ¯4ä¸ªåƒç´ ç»˜åˆ¶ä¸€æ¡æ¨ªå‘ã€çºµå‘çº¿ï¼Œå½¢æˆå‡åŒ€çš„æ–¹æ ¼ç½‘æ ¼ï¼Œæ¨¡æ‹ŸçœŸå®é“è·¯çš„åˆ†éš”æ•ˆæœï¼ŒåŒæ—¶æ–¹æ ¼çº¿å¯å¸®åŠ©æ¨¡å‹å®šä½è½¦è¾†ä½ç½®ï¼ˆåˆ¤æ–­è½¦è¾†ä¸­å¿ƒä¸èƒŒæ™¯ä¸­å¿ƒçš„åç§»ï¼‰ã€‚</p><h4 id="æ¨¡å—2ï¼šè½¦è¾†å§¿æ€è‡ªé€‚åº”åˆ‡æ¢"><a href="#æ¨¡å—2ï¼šè½¦è¾†å§¿æ€è‡ªé€‚åº”åˆ‡æ¢" class="headerlink" title="æ¨¡å—2ï¼šè½¦è¾†å§¿æ€è‡ªé€‚åº”åˆ‡æ¢"></a>æ¨¡å—2ï¼šè½¦è¾†å§¿æ€è‡ªé€‚åº”åˆ‡æ¢</h4><p>è¿™æ˜¯å‡½æ•°çš„æ ¸å¿ƒäº®ç‚¹ï¼Œè®¾è®¡æ€è·¯æ˜¯â€œè½¦å¤´æ–¹å‘å†³å®šè½¦è¾†å§¿æ€â€â€”â€”éšæœºé€‰æ‹©è½¦å¤´æ–¹å‘ï¼ˆupã€downã€leftã€rightï¼‰ï¼Œç„¶åæ ¹æ®è½¦å¤´æ–¹å‘åˆ‡æ¢è½¦èº«å°ºå¯¸ä¸æ‘†æ”¾å§¿æ€ï¼š</p><ul><li><p>è½¦å¤´æ–¹å‘ä¸ºupã€downï¼ˆä¸Šä¸‹è¡Œé©¶ï¼‰ï¼šè½¦è¾†çºµå‘æ‘†æ”¾ï¼Œè½¦èº«é«˜åº¦&#x3D;CAR_LONGï¼ˆ8ï¼‰ï¼Œè½¦èº«å®½åº¦&#x3D;CAR_SHORTï¼ˆ4ï¼‰ï¼Œç¡®ä¿çºµå‘é•¿åº¦å¤§äºæ¨ªå‘å®½åº¦ï¼Œè´´åˆä¸Šä¸‹è¡Œé©¶çš„è§†è§‰é€»è¾‘ï¼›</p></li><li><p>è½¦å¤´æ–¹å‘ä¸ºleftã€rightï¼ˆå·¦å³è¡Œé©¶ï¼‰ï¼šè½¦è¾†æ¨ªå‘æ‘†æ”¾ï¼Œè½¦èº«é«˜åº¦&#x3D;CAR_SHORTï¼ˆ4ï¼‰ï¼Œè½¦èº«å®½åº¦&#x3D;CAR_LONGï¼ˆ8ï¼‰ï¼Œäº’æ¢å°ºå¯¸ï¼Œç¡®ä¿æ¨ªå‘é•¿åº¦å¤§äºçºµå‘å®½åº¦ï¼Œè´´åˆå·¦å³è¡Œé©¶çš„è§†è§‰é€»è¾‘ã€‚</p></li></ul><p>åŒæ—¶ï¼Œéšæœºç”Ÿæˆè½¦èº«å·¦ä¸Šè§’åæ ‡ï¼Œæ ¸å¿ƒçº¦æŸæ˜¯â€œè½¦èº«å®Œå…¨åœ¨èƒŒæ™¯å†…ï¼Œä¸æˆªæ–­â€â€”â€”åæ ‡èŒƒå›´ä¸ºï¼ˆ0<del>IMAGE_SIZE - è½¦èº«å®½åº¦ï¼Œ0</del>IMAGE_SIZE - è½¦èº«é«˜åº¦ï¼‰ï¼Œé¿å…è½¦èº«è¶…å‡º32Ã—32çš„èƒŒæ™¯èŒƒå›´ï¼Œç¡®ä¿æ ·æœ¬å›¾çš„å®Œæ•´æ€§ã€‚</p><h4 id="æ¨¡å—3ï¼šè½¦å¤´ç»˜åˆ¶ï¼ˆä¸æ–¹å‘å¼ºç»‘å®šï¼‰"><a href="#æ¨¡å—3ï¼šè½¦å¤´ç»˜åˆ¶ï¼ˆä¸æ–¹å‘å¼ºç»‘å®šï¼‰" class="headerlink" title="æ¨¡å—3ï¼šè½¦å¤´ç»˜åˆ¶ï¼ˆä¸æ–¹å‘å¼ºç»‘å®šï¼‰"></a>æ¨¡å—3ï¼šè½¦å¤´ç»˜åˆ¶ï¼ˆä¸æ–¹å‘å¼ºç»‘å®šï¼‰</h4><p>æ ¸å¿ƒç›®çš„æ˜¯æ ‡è®°è½¦è¾†è¡Œé©¶æ–¹å‘ï¼Œä¸ºæ ‡ç­¾æ ‡æ³¨æä¾›ä¾æ®ï¼Œè®¾è®¡æ€è·¯æ˜¯â€œè½¦å¤´ä½ç½®ä¸è½¦è¾†å§¿æ€ã€è½¦å¤´æ–¹å‘å®Œå…¨åŒ¹é…â€ï¼Œç¡®ä¿è½¦å¤´æ–¹å‘ç›´è§‚ã€æ— æ­§ä¹‰ï¼š</p><ul><li><p>è½¦å¤´æœä¸Šï¼ˆupï¼‰ï¼šçºµå‘è½¦è¾†ï¼Œè½¦å¤´ä½äºè½¦èº«é¡¶ç«¯ä¸­å¿ƒï¼Œåæ ‡è®¡ç®—ä¸ºï¼ˆè½¦èº«xåæ ‡ + è½¦èº«å®½åº¦&#x2F;&#x2F;2 - è½¦å¤´å°ºå¯¸&#x2F;&#x2F;2ï¼Œè½¦èº«yåæ ‡ï¼‰ï¼Œç¡®ä¿è½¦å¤´åœ¨é¡¶ç«¯ä¸­å¿ƒï¼Œä¸è½¦èº«å¯¹é½ï¼›</p></li><li><p>è½¦å¤´æœä¸‹ï¼ˆdownï¼‰ï¼šçºµå‘è½¦è¾†ï¼Œè½¦å¤´ä½äºè½¦èº«åº•ç«¯ä¸­å¿ƒï¼Œåæ ‡è®¡ç®—ä¸ºï¼ˆè½¦èº«xåæ ‡ + è½¦èº«å®½åº¦&#x2F;&#x2F;2 - è½¦å¤´å°ºå¯¸&#x2F;&#x2F;2ï¼Œè½¦èº«yåæ ‡ + è½¦èº«é«˜åº¦ - è½¦å¤´å°ºå¯¸ï¼‰ï¼Œé¿å…è½¦å¤´è¶…å‡ºè½¦èº«ï¼›</p></li><li><p>è½¦å¤´æœå·¦ï¼ˆleftï¼‰ï¼šæ¨ªå‘è½¦è¾†ï¼Œè½¦å¤´ä½äºè½¦èº«å·¦ç«¯ä¸­å¿ƒï¼Œåæ ‡è®¡ç®—ä¸ºï¼ˆè½¦èº«xåæ ‡ï¼Œè½¦èº«yåæ ‡ + è½¦èº«é«˜åº¦&#x2F;&#x2F;2 - è½¦å¤´å°ºå¯¸&#x2F;&#x2F;2ï¼‰ï¼Œç¡®ä¿è½¦å¤´åœ¨å·¦ç«¯ä¸­å¿ƒï¼›</p></li><li><p>è½¦å¤´æœå³ï¼ˆrightï¼‰ï¼šæ¨ªå‘è½¦è¾†ï¼Œè½¦å¤´ä½äºè½¦èº«å³ç«¯ä¸­å¿ƒï¼Œåæ ‡è®¡ç®—ä¸ºï¼ˆè½¦èº«xåæ ‡ + è½¦èº«å®½åº¦ - è½¦å¤´å°ºå¯¸ï¼Œè½¦èº«yåæ ‡ + è½¦èº«é«˜åº¦&#x2F;&#x2F;2 - è½¦å¤´å°ºå¯¸&#x2F;&#x2F;2ï¼‰ï¼Œé¿å…è½¦å¤´è¶…å‡ºè½¦èº«ã€‚</p></li></ul><p>è½¦å¤´é¢œè‰²è®¾ç½®ä¸ºæ·±ç°è‰²ï¼ˆ128ï¼‰ï¼Œä¸é»‘è‰²è½¦èº«ï¼ˆ0ï¼‰å½¢æˆæ˜æ˜¾åŒºåˆ†ï¼Œä¾¿äºæ¨¡å‹å¿«é€Ÿæ•æ‰è½¦å¤´ç‰¹å¾ï¼Œè¿›è€Œå­¦ä¹ è½¦å¤´æ–¹å‘ä¸è¡Œé©¶æ–¹å‘çš„æ˜ å°„å…³ç³»ã€‚</p><h4 id="æ¨¡å—4ï¼šæ–¹å‘æ ‡ç­¾è‡ªåŠ¨æ ‡æ³¨"><a href="#æ¨¡å—4ï¼šæ–¹å‘æ ‡ç­¾è‡ªåŠ¨æ ‡æ³¨" class="headerlink" title="æ¨¡å—4ï¼šæ–¹å‘æ ‡ç­¾è‡ªåŠ¨æ ‡æ³¨"></a>æ¨¡å—4ï¼šæ–¹å‘æ ‡ç­¾è‡ªåŠ¨æ ‡æ³¨</h4><p>æ ¸å¿ƒé€»è¾‘æ˜¯â€œæ ¹æ®è½¦è¾†ä¸­å¿ƒä¸èƒŒæ™¯ä¸­å¿ƒçš„åç§»é‡ï¼Œç»“åˆè½¦å¤´æ–¹å‘ï¼Œè‡ªåŠ¨æ ‡æ³¨æ ‡ç­¾â€ï¼Œç¡®ä¿æ ‡ç­¾æ ‡æ³¨å‡†ç¡®ã€è´´åˆçœŸå®é©¾é©¶é€»è¾‘ï¼Œå…·ä½“è®¾è®¡æ€è·¯å¦‚ä¸‹ï¼š</p><ol><li><p>è®¡ç®—è½¦è¾†ä¸­å¿ƒä¸èƒŒæ™¯ä¸­å¿ƒï¼šè½¦è¾†ä¸­å¿ƒæ ¹æ®è½¦èº«å§¿æ€è‡ªé€‚åº”è®¡ç®—ï¼ˆæ¨ªå‘è½¦è¾†ä¸­å¿ƒ&#x3D;è½¦èº«x+å®½åº¦&#x2F;&#x2F;2ã€y+é«˜åº¦&#x2F;&#x2F;2ï¼›çºµå‘è½¦è¾†åŒç†ï¼‰ï¼ŒèƒŒæ™¯ä¸­å¿ƒå›ºå®šä¸º16ï¼ˆ32&#x2F;&#x2F;2ï¼‰ï¼›</p></li><li><p>æ ‡ç­¾åˆå§‹åŒ–ï¼šé»˜è®¤æ ‡ç­¾ä¸ºâ€œç›´è¡Œï¼ˆstraightï¼‰â€ï¼Œå¯¹åº”æ ‡ç­¾4ï¼Œè®¾è®¡é€»è¾‘æ˜¯â€œå¤§å¤šæ•°è½¦è¾†å¤„äºä¸­å¿ƒé™„è¿‘ï¼Œé»˜è®¤ç›´è¡Œï¼Œå‡å°‘æç«¯æ ‡ç­¾å æ¯”â€ï¼›</p></li><li><p>æ ‡ç­¾åˆ¤æ–­é€»è¾‘ï¼ˆæ ¸å¿ƒï¼šè½¦å¤´æ–¹å‘å†³å®šåç§»åˆ¤æ–­ç»´åº¦ï¼‰ï¼š</p><ul><li><p>è½¦å¤´æœä¸Šï¼ˆupï¼‰ï¼šä»…åˆ¤æ–­çºµå‘åç§»ï¼Œè‹¥è½¦è¾†ä¸­å¿ƒyåæ ‡ &gt; èƒŒæ™¯ä¸­å¿ƒ+åç§»é˜ˆå€¼ï¼ˆ16+8&#x3D;24ï¼‰ï¼Œè¯´æ˜è½¦è¾†åä¸‹ï¼Œéœ€æœä¸Šè¡Œé©¶ï¼Œæ ‡æ³¨æ ‡ç­¾0ï¼ˆupï¼‰ï¼›å¦åˆ™ä¿æŒç›´è¡Œï¼›</p></li><li><p>è½¦å¤´æœä¸‹ï¼ˆdownï¼‰ï¼šä»…åˆ¤æ–­çºµå‘åç§»ï¼Œè‹¥è½¦è¾†ä¸­å¿ƒyåæ ‡ &lt; èƒŒæ™¯ä¸­å¿ƒ-åç§»é˜ˆå€¼ï¼ˆ16-8&#x3D;8ï¼‰ï¼Œè¯´æ˜è½¦è¾†åä¸Šï¼Œéœ€æœä¸‹è¡Œé©¶ï¼Œæ ‡æ³¨æ ‡ç­¾1ï¼ˆdownï¼‰ï¼›å¦åˆ™ä¿æŒç›´è¡Œï¼›</p></li><li><p>è½¦å¤´æœå·¦ï¼ˆleftï¼‰ï¼šä»…åˆ¤æ–­æ¨ªå‘åç§»ï¼Œè‹¥è½¦è¾†ä¸­å¿ƒxåæ ‡ &gt; èƒŒæ™¯ä¸­å¿ƒ+åç§»é˜ˆå€¼ï¼ˆ24ï¼‰ï¼Œè¯´æ˜è½¦è¾†åå³ï¼Œéœ€æœå·¦è¡Œé©¶ï¼Œæ ‡æ³¨æ ‡ç­¾2ï¼ˆleftï¼‰ï¼›å¦åˆ™ä¿æŒç›´è¡Œï¼›</p></li><li><p>è½¦å¤´æœå³ï¼ˆrightï¼‰ï¼šä»…åˆ¤æ–­æ¨ªå‘åç§»ï¼Œè‹¥è½¦è¾†ä¸­å¿ƒxåæ ‡ &lt; èƒŒæ™¯ä¸­å¿ƒ-åç§»é˜ˆå€¼ï¼ˆ8ï¼‰ï¼Œè¯´æ˜è½¦è¾†åå·¦ï¼Œéœ€æœå³è¡Œé©¶ï¼Œæ ‡æ³¨æ ‡ç­¾3ï¼ˆrightï¼‰ï¼›å¦åˆ™ä¿æŒç›´è¡Œã€‚</p></li></ul></li></ol><p>è¯¥è®¾è®¡é€»è¾‘çš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯â€œæ— è·¨æ–¹å‘æ ‡æ³¨â€â€”â€”çºµå‘è½¦è¾†ä»…åˆ¤æ–­çºµå‘åç§»ï¼Œæ¨ªå‘è½¦è¾†ä»…åˆ¤æ–­æ¨ªå‘åç§»ï¼Œé¿å…å‡ºç°â€œè½¦å¤´æœä¸Šå´æ ‡æ³¨æœå·¦â€çš„ä¸åˆç†æƒ…å†µï¼Œè´´åˆçœŸå®é©¾é©¶ä¸­â€œè½¦å¤´æ–¹å‘å†³å®šè¡Œé©¶èŒƒå›´â€çš„é€»è¾‘ã€‚</p><h3 id="3-æ•°æ®é›†ç”Ÿæˆä¸é¢„å¤„ç†æ€è·¯"><a href="#3-æ•°æ®é›†ç”Ÿæˆä¸é¢„å¤„ç†æ€è·¯" class="headerlink" title="3. æ•°æ®é›†ç”Ÿæˆä¸é¢„å¤„ç†æ€è·¯"></a>3. æ•°æ®é›†ç”Ÿæˆä¸é¢„å¤„ç†æ€è·¯</h3><p>æ•°æ®é›†ç”Ÿæˆä¸é¢„å¤„ç†æ˜¯æ¨¡å‹è®­ç»ƒçš„åŸºç¡€ï¼Œæ ¸å¿ƒæ€è·¯æ˜¯â€œæ‰¹é‡ç”Ÿæˆã€è§„èŒƒæ ¼å¼ã€åˆç†åˆ’åˆ†â€ï¼Œç¡®ä¿æ•°æ®ç¬¦åˆCNNæ¨¡å‹è¾“å…¥è¦æ±‚ï¼Œå…·ä½“æ‹†è§£å¦‚ä¸‹ï¼š</p><h4 id="ï¼ˆ1ï¼‰æ‰¹é‡æ•°æ®é›†ç”Ÿæˆ"><a href="#ï¼ˆ1ï¼‰æ‰¹é‡æ•°æ®é›†ç”Ÿæˆ" class="headerlink" title="ï¼ˆ1ï¼‰æ‰¹é‡æ•°æ®é›†ç”Ÿæˆ"></a>ï¼ˆ1ï¼‰æ‰¹é‡æ•°æ®é›†ç”Ÿæˆ</h4><p>è°ƒç”¨æ ¸å¿ƒå‡½æ•°ï¼ˆcreate_car_imageï¼‰ï¼Œå¾ªç¯5000æ¬¡ï¼Œæ‰¹é‡ç”Ÿæˆæ ·æœ¬å›¾ï¼ŒåŒæ—¶ä¿å­˜å›¾åƒæ•°æ®ã€æ–¹å‘æ ‡ç­¾ã€è½¦å¤´æ–¹å‘ã€è½¦è¾†å§¿æ€ï¼Œä¾¿äºåç»­å¯è§†åŒ–éªŒè¯ã€‚è®¾è®¡æ€è·¯æ˜¯â€œå›ºå®šéšæœºç§å­ï¼ˆSEED&#x3D;42ï¼‰â€ï¼Œç¡®ä¿æ¯æ¬¡ç”Ÿæˆçš„æ•°æ®é›†å®Œå…¨ä¸€è‡´ï¼Œä¾¿äºå¤ç°ä¸è°ƒè¯•ï¼›å¾ªç¯æ¬¡æ•°å¯¹åº”æ ·æœ¬æ•°é‡ï¼ˆ5000å¼ ï¼‰ï¼Œè¶³å¤Ÿæ¨¡å‹å­¦ä¹ æ•°æ®è§„å¾‹ï¼ŒåŒæ—¶é¿å…æ ·æœ¬è¿‡å¤šå¯¼è‡´å†…å­˜å ç”¨è¿‡é«˜ã€‚</p><h4 id="ï¼ˆ2ï¼‰æ•°æ®æ ¼å¼è½¬æ¢"><a href="#ï¼ˆ2ï¼‰æ•°æ®æ ¼å¼è½¬æ¢" class="headerlink" title="ï¼ˆ2ï¼‰æ•°æ®æ ¼å¼è½¬æ¢"></a>ï¼ˆ2ï¼‰æ•°æ®æ ¼å¼è½¬æ¢</h4><p>ç”Ÿæˆçš„åŸå§‹æ•°æ®ï¼ˆå›¾åƒåˆ—è¡¨ã€æ ‡ç­¾åˆ—è¡¨ï¼‰æ— æ³•ç›´æ¥è¾“å…¥CNNæ¨¡å‹ï¼Œéœ€è¿›è¡Œä¸¤é¡¹å…³é”®è½¬æ¢ï¼Œè®¾è®¡æ€è·¯è´´åˆCNNæ¨¡å‹è¾“å…¥è¦æ±‚ï¼š</p><ul><li><p>å›¾åƒæ ¼å¼è½¬æ¢ï¼šå°†å›¾åƒåˆ—è¡¨è½¬æ¢ä¸ºnumpyæ•°ç»„ï¼ŒåŒæ—¶å¢åŠ é€šé“ç»´åº¦ï¼ˆ[â€¦, np.newaxis]ï¼‰ï¼Œæœ€ç»ˆæ ¼å¼ä¸ºï¼ˆ5000, 32, 32, 1ï¼‰â€”â€”5000æ˜¯æ ·æœ¬æ•°é‡ï¼Œ32Ã—32æ˜¯å›¾åƒå°ºå¯¸ï¼Œ1æ˜¯é€šé“æ•°ï¼ˆç°åº¦å›¾ï¼‰ï¼Œé€‚é…CNNæ¨¡å‹â€œ(æ ·æœ¬æ•°, å›¾åƒé«˜åº¦, å›¾åƒå®½åº¦, é€šé“æ•°)â€çš„è¾“å…¥æ ¼å¼ï¼›</p></li><li><p>æ ‡ç­¾æ ¼å¼è½¬æ¢ï¼šå°†æ•´æ•°æ ‡ç­¾ï¼ˆ0-4ï¼‰è½¬æ¢ä¸ºone-hotç¼–ç ï¼Œä¾‹å¦‚æ ‡ç­¾0è½¬æ¢ä¸º[1,0,0,0,0]ï¼Œæ ‡ç­¾4è½¬æ¢ä¸º[0,0,0,0,1]ã€‚è®¾è®¡æ€è·¯æ˜¯â€œé€‚é…å¤šåˆ†ç±»äº¤å‰ç†µæŸå¤±å‡½æ•°â€ï¼Œone-hotç¼–ç å¯é¿å…æ ‡ç­¾æƒé‡ä¸å‡ï¼ˆå¦‚æ•´æ•°æ ‡ç­¾4çš„æƒé‡é«˜äº0ï¼‰ï¼Œç¡®ä¿æ¨¡å‹è®­ç»ƒæ—¶å¯¹æ¯ä¸ªç±»åˆ«å¹³ç­‰å¯¹å¾…ã€‚</p></li></ul><h4 id="ï¼ˆ3ï¼‰æ•°æ®é›†åˆ’åˆ†"><a href="#ï¼ˆ3ï¼‰æ•°æ®é›†åˆ’åˆ†" class="headerlink" title="ï¼ˆ3ï¼‰æ•°æ®é›†åˆ’åˆ†"></a>ï¼ˆ3ï¼‰æ•°æ®é›†åˆ’åˆ†</h4><p>é‡‡ç”¨sklearnçš„train_test_splitå‡½æ•°ï¼ŒæŒ‰7:2:1çš„æ¯”ä¾‹åˆ’åˆ†ä¸ºè®­ç»ƒé›†ã€éªŒè¯é›†ã€æµ‹è¯•é›†ï¼Œè®¾è®¡æ€è·¯æ˜¯â€œå…¼é¡¾è®­ç»ƒæ•ˆæœä¸è¯„ä¼°å¯é æ€§â€ï¼š</p><ul><li><p>ç¬¬ä¸€æ­¥ï¼šå°†æ‰€æœ‰æ•°æ®æŒ‰7:3åˆ’åˆ†ä¸ºè®­ç»ƒé›†ï¼ˆ70%ï¼Œ3500å¼ ï¼‰ä¸ä¸´æ—¶é›†ï¼ˆ30%ï¼Œ1500å¼ ï¼‰ï¼›</p></li><li><p>ç¬¬äºŒæ­¥ï¼šå°†ä¸´æ—¶é›†æŒ‰2:1åˆ’åˆ†ä¸ºéªŒè¯é›†ï¼ˆ20%ï¼Œ1000å¼ ï¼‰ä¸æµ‹è¯•é›†ï¼ˆ10%ï¼Œ500å¼ ï¼‰ï¼›</p></li><li><p>åˆ’åˆ†çº¦æŸï¼šå›ºå®šéšæœºç§å­ï¼ˆSEED&#x3D;42ï¼‰ï¼Œç¡®ä¿åˆ’åˆ†ç»“æœå¯å¤ç°ï¼›åˆ’åˆ†æ—¶åŒæ—¶åˆ’åˆ†å›¾åƒæ•°æ®ä¸one-hotæ ‡ç­¾ï¼Œç¡®ä¿å›¾åƒä¸æ ‡ç­¾ä¸€ä¸€å¯¹åº”ï¼Œé¿å…æ•°æ®é”™ä¹±ã€‚</p></li></ul><h3 id="4-è½»é‡åŒ–CNNæ¨¡å‹æ­å»ºæ€è·¯"><a href="#4-è½»é‡åŒ–CNNæ¨¡å‹æ­å»ºæ€è·¯" class="headerlink" title="4. è½»é‡åŒ–CNNæ¨¡å‹æ­å»ºæ€è·¯"></a>4. è½»é‡åŒ–CNNæ¨¡å‹æ­å»ºæ€è·¯</h3><p>æ¨¡å‹æ­å»ºçš„æ ¸å¿ƒåŸåˆ™æ˜¯â€œè½»é‡åŒ–ã€é«˜æ•ˆæœã€æ˜“è®­ç»ƒâ€ï¼Œé¿å…å¤æ‚ç»“æ„ï¼Œæ™®é€šCPUå¯å¿«é€Ÿè¿è¡Œï¼ŒåŒæ—¶ä¿è¯ç‰¹å¾æå–èƒ½åŠ›ï¼Œæ¨¡å‹ç»“æ„ä¸ºâ€œ3å±‚å·ç§¯æ¨¡å— + 2å±‚å…¨è¿æ¥æ¨¡å—â€ï¼Œæ¯å±‚è®¾è®¡æ€è·¯ã€å‚æ•°è€ƒé‡è¯¦ç»†æ‹†è§£å¦‚ä¸‹ï¼š</p><h4 id="ï¼ˆ1ï¼‰å·ç§¯æ¨¡å—ï¼ˆ3å±‚ï¼Œç‰¹å¾æå–æ ¸å¿ƒï¼‰"><a href="#ï¼ˆ1ï¼‰å·ç§¯æ¨¡å—ï¼ˆ3å±‚ï¼Œç‰¹å¾æå–æ ¸å¿ƒï¼‰" class="headerlink" title="ï¼ˆ1ï¼‰å·ç§¯æ¨¡å—ï¼ˆ3å±‚ï¼Œç‰¹å¾æå–æ ¸å¿ƒï¼‰"></a>ï¼ˆ1ï¼‰å·ç§¯æ¨¡å—ï¼ˆ3å±‚ï¼Œç‰¹å¾æå–æ ¸å¿ƒï¼‰</h4><p>å·ç§¯æ¨¡å—çš„æ ¸å¿ƒä½œç”¨æ˜¯æå–å›¾åƒçš„ç©ºé—´ç‰¹å¾ï¼ˆè½¦è¾†ä½ç½®ã€è½¦å¤´æ–¹å‘ã€è½¦èº«å§¿æ€ï¼‰ï¼Œæ¯å±‚å·ç§¯åé…åˆæ‰¹é‡å½’ä¸€åŒ–ä¸æœ€å¤§æ± åŒ–ï¼Œè®¾è®¡æ€è·¯æ˜¯â€œé€æ­¥æ·±åŒ–ç‰¹å¾æå–ã€é™ä½è®¡ç®—é‡ã€åŠ é€Ÿæ”¶æ•›â€ï¼š</p><ul><li><p>å·ç§¯å±‚1ï¼šæ»¤æ³¢å™¨æ•°é‡32ï¼Œkernelå°ºå¯¸ï¼ˆ3,3ï¼‰ï¼Œæ¿€æ´»å‡½æ•°reluã€‚è®¾è®¡æ€è·¯ï¼š32ä¸ªæ»¤æ³¢å™¨ç”¨äºæå–åŸºç¡€ç©ºé—´ç‰¹å¾ï¼ˆå¦‚æ–¹æ ¼çº¿ã€è½¦èº«è½®å»“ï¼‰ï¼Œï¼ˆ3,3ï¼‰çš„kernelæ˜¯å·ç§¯å±‚æœ€å¸¸ç”¨å°ºå¯¸ï¼Œå¯æœ‰æ•ˆæ•æ‰å±€éƒ¨ç‰¹å¾ï¼›reluæ¿€æ´»å‡½æ•°å¯å¼•å…¥éçº¿æ€§ï¼Œè§£å†³çº¿æ€§æ¨¡å‹æ— æ³•æ‹Ÿåˆå¤æ‚æ•°æ®çš„é—®é¢˜ï¼ŒåŒæ—¶è®¡ç®—ç®€å•ã€ä¸æ˜“æ¢¯åº¦æ¶ˆå¤±ï¼›</p></li><li><p>æ‰¹é‡å½’ä¸€åŒ–ï¼ˆBatchNormalizationï¼‰ï¼šæ¯ä¸ªå·ç§¯å±‚åæ·»åŠ ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯â€œåŠ é€Ÿæ¨¡å‹æ”¶æ•›ã€ç¼“è§£æ¢¯åº¦æ¶ˆå¤±â€â€”â€”å°†å·ç§¯å±‚è¾“å‡ºçš„ç‰¹å¾å›¾è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œä½¿æ•°æ®åˆ†å¸ƒæ›´å‡åŒ€ï¼Œé¿å…å› æ•°æ®å°ºåº¦å·®å¼‚å¯¼è‡´çš„è®­ç»ƒç¼“æ…¢ï¼›</p></li><li><p>æœ€å¤§æ± åŒ–ï¼ˆMaxPooling2Dï¼‰ï¼šå°ºå¯¸ï¼ˆ2,2ï¼‰ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯â€œé™ä½ç‰¹å¾å›¾ç»´åº¦ã€å‡å°‘è®¡ç®—é‡ã€ä¿ç•™å…³é”®ç‰¹å¾â€â€”â€”å°†2Ã—2çš„åŒºåŸŸå–æœ€å¤§å€¼ä½œä¸ºè¾“å‡ºï¼Œå¯å»é™¤å†—ä½™ä¿¡æ¯ï¼ŒåŒæ—¶é¿å…è¿‡æ‹Ÿåˆï¼›</p></li><li><p>å·ç§¯å±‚2ï¼šæ»¤æ³¢å™¨æ•°é‡64ï¼Œkernelå°ºå¯¸ï¼ˆ3,3ï¼‰ï¼Œæ¿€æ´»å‡½æ•°reluã€‚è®¾è®¡æ€è·¯ï¼šæ»¤æ³¢å™¨æ•°é‡ç¿»å€ï¼Œé€æ­¥æå–æ›´ç²¾ç»†çš„ç‰¹å¾ï¼ˆå¦‚è½¦å¤´ä½ç½®ã€è½¦èº«å§¿æ€ï¼‰ï¼Œéšç€å±‚æ•°å¢åŠ ï¼Œç‰¹å¾æå–èƒ½åŠ›é€æ­¥å¢å¼ºï¼›</p></li><li><p>å·ç§¯å±‚3ï¼šæ»¤æ³¢å™¨æ•°é‡128ï¼Œkernelå°ºå¯¸ï¼ˆ3,3ï¼‰ï¼Œæ¿€æ´»å‡½æ•°reluã€‚è®¾è®¡æ€è·¯ï¼šç»§ç»­å¢åŠ æ»¤æ³¢å™¨æ•°é‡ï¼Œæ·±åŒ–ç‰¹å¾æå–ï¼Œæ•æ‰è½¦è¾†ä½ç½®ä¸æ–¹å‘çš„æ˜ å°„å…³ç³»ï¼Œä¸ºåç»­åˆ†ç±»å†³ç­–æä¾›è¶³å¤Ÿçš„ç‰¹å¾æ”¯æ’‘ã€‚</p></li></ul><p>ç»è¿‡3å±‚å·ç§¯æ¨¡å—å¤„ç†åï¼ŒåŸå§‹32Ã—32çš„å›¾åƒé€æ­¥é™ç»´ä¸º2Ã—2çš„ç‰¹å¾å›¾ï¼Œæ»¤æ³¢å™¨æ•°é‡ä»32å¢åŠ åˆ°128ï¼Œå®ç°â€œä»åŸºç¡€ç‰¹å¾åˆ°ç²¾ç»†ç‰¹å¾â€çš„é€æ­¥æå–ï¼ŒåŒæ—¶é€šè¿‡æ± åŒ–å±‚æ§åˆ¶è®¡ç®—é‡ï¼Œç¡®ä¿è½»é‡åŒ–ã€‚</p><h4 id="ï¼ˆ2ï¼‰å…¨è¿æ¥æ¨¡å—ï¼ˆ2å±‚ï¼Œåˆ†ç±»å†³ç­–æ ¸å¿ƒï¼‰"><a href="#ï¼ˆ2ï¼‰å…¨è¿æ¥æ¨¡å—ï¼ˆ2å±‚ï¼Œåˆ†ç±»å†³ç­–æ ¸å¿ƒï¼‰" class="headerlink" title="ï¼ˆ2ï¼‰å…¨è¿æ¥æ¨¡å—ï¼ˆ2å±‚ï¼Œåˆ†ç±»å†³ç­–æ ¸å¿ƒï¼‰"></a>ï¼ˆ2ï¼‰å…¨è¿æ¥æ¨¡å—ï¼ˆ2å±‚ï¼Œåˆ†ç±»å†³ç­–æ ¸å¿ƒï¼‰</h4><p>å…¨è¿æ¥æ¨¡å—çš„æ ¸å¿ƒä½œç”¨æ˜¯å°†å·ç§¯æ¨¡å—æå–çš„ç‰¹å¾å›¾è½¬æ¢ä¸ºåˆ†ç±»ç»“æœï¼Œè®¾è®¡æ€è·¯æ˜¯â€œé€æ­¥å‹ç¼©ç‰¹å¾ç»´åº¦ã€é¿å…è¿‡æ‹Ÿåˆã€è¾“å‡ºåˆ†ç±»æ¦‚ç‡â€ï¼š</p><ul><li><p>Flattenï¼ˆå±•å¹³å±‚ï¼‰ï¼šæ ¸å¿ƒä½œç”¨æ˜¯â€œè¿æ¥å·ç§¯æ¨¡å—ä¸å…¨è¿æ¥æ¨¡å—â€â€”â€”å°†å·ç§¯æ¨¡å—è¾“å‡ºçš„2Ã—2Ã—128çš„ç‰¹å¾å›¾ï¼ˆä¸‰ç»´ï¼‰å±•å¹³ä¸ºä¸€ç»´å‘é‡ï¼ˆ512ç»´ï¼‰ï¼Œé€‚é…å…¨è¿æ¥å±‚çš„è¾“å…¥æ ¼å¼ï¼›</p></li><li><p>å…¨è¿æ¥å±‚1ï¼ˆDense(256, relu)ï¼‰ï¼šè¾“å‡ºç»´åº¦256ï¼Œæ¿€æ´»å‡½æ•°reluã€‚è®¾è®¡æ€è·¯ï¼šå°†512ç»´ç‰¹å¾å‹ç¼©ä¸º256ç»´ï¼Œè¿›ä¸€æ­¥ç­›é€‰å…³é”®ç‰¹å¾ï¼Œreluæ¿€æ´»å‡½æ•°ç»§ç»­å¼•å…¥éçº¿æ€§ï¼Œå¢å¼ºæ¨¡å‹æ‹Ÿåˆèƒ½åŠ›ï¼›</p></li><li><p>Dropout(0.4)ï¼šæ ¸å¿ƒä½œç”¨æ˜¯â€œé˜²æ­¢è¿‡æ‹Ÿåˆâ€â€”â€”éšæœºä¸¢å¼ƒ40%çš„ç¥ç»å…ƒï¼Œé¿å…æ¨¡å‹è¿‡åº¦ä¾èµ–æŸéƒ¨åˆ†ç‰¹å¾ï¼Œå¢å¼ºæ¨¡å‹æ³›åŒ–èƒ½åŠ›ï¼ˆåœ¨æœªè§è¿‡çš„æ•°æ®ä¸Šè¡¨ç°æ›´å¥½ï¼‰ï¼›</p></li><li><p>å…¨è¿æ¥å±‚2ï¼ˆDense(64, relu)ï¼‰ï¼šè¾“å‡ºç»´åº¦64ï¼Œæ¿€æ´»å‡½æ•°reluã€‚è®¾è®¡æ€è·¯ï¼šç»§ç»­å‹ç¼©ç‰¹å¾ç»´åº¦ï¼Œå°†256ç»´ç‰¹å¾å‹ç¼©ä¸º64ç»´ï¼Œç®€åŒ–åˆ†ç±»å†³ç­–è¿‡ç¨‹ï¼ŒåŒæ—¶ä¿ç•™å…³é”®ç‰¹å¾ï¼›</p></li><li><p>Dropout(0.3)ï¼šç»§ç»­éšæœºä¸¢å¼ƒ30%çš„ç¥ç»å…ƒï¼Œè¿›ä¸€æ­¥é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œå¹³è¡¡æ¨¡å‹æ‹Ÿåˆèƒ½åŠ›ä¸æ³›åŒ–èƒ½åŠ›ï¼›</p></li><li><p>è¾“å‡ºå±‚ï¼ˆDense(5, softmax)ï¼‰ï¼šè¾“å‡ºç»´åº¦5ï¼ˆå¯¹åº”5ä¸ªè¡Œé©¶æ–¹å‘ï¼‰ï¼Œæ¿€æ´»å‡½æ•°softmaxã€‚è®¾è®¡æ€è·¯ï¼šsoftmaxæ¿€æ´»å‡½æ•°å¯å°†è¾“å‡ºè½¬æ¢ä¸º5ä¸ªç±»åˆ«çš„æ¦‚ç‡åˆ†å¸ƒï¼ˆæ¦‚ç‡å’Œä¸º1ï¼‰ï¼Œå¯¹åº”æœ€å¤§æ¦‚ç‡çš„ç±»åˆ«å³ä¸ºæ¨¡å‹é¢„æµ‹çš„è¡Œé©¶æ–¹å‘ï¼Œé€‚é…å¤šåˆ†ç±»ä»»åŠ¡ã€‚</p></li></ul><h4 id="ï¼ˆ3ï¼‰æ¨¡å‹è½»é‡åŒ–è®¾è®¡äº®ç‚¹"><a href="#ï¼ˆ3ï¼‰æ¨¡å‹è½»é‡åŒ–è®¾è®¡äº®ç‚¹" class="headerlink" title="ï¼ˆ3ï¼‰æ¨¡å‹è½»é‡åŒ–è®¾è®¡äº®ç‚¹"></a>ï¼ˆ3ï¼‰æ¨¡å‹è½»é‡åŒ–è®¾è®¡äº®ç‚¹</h4><p>è¯¥æ¨¡å‹æ€»è®¡çº¦24.1ä¸‡å‚æ•°ï¼ˆ944.02 KBï¼‰ï¼Œå±äºè½»é‡åŒ–æ¨¡å‹ï¼Œæ™®é€šCPUå¯åœ¨å‡ åˆ†é’Ÿå†…å®Œæˆ20è½®è®­ç»ƒï¼Œæ ¸å¿ƒè½»é‡åŒ–è®¾è®¡äº®ç‚¹ï¼š</p><ul><li><p>å›¾åƒå°ºå¯¸å°ï¼ˆ32Ã—32ï¼‰ï¼Œé™ä½è¾“å…¥æ•°æ®é‡ï¼›</p></li><li><p>å·ç§¯å±‚kernelå°ºå¯¸å›ºå®šä¸ºï¼ˆ3,3ï¼‰ï¼Œè®¡ç®—é‡å°ï¼›</p></li><li><p>å…¨è¿æ¥å±‚ç»´åº¦é€æ­¥å‹ç¼©ï¼ˆ512â†’256â†’64â†’5ï¼‰ï¼Œå‡å°‘å‚æ•°æ•°é‡ï¼›</p></li><li><p>é€šè¿‡æœ€å¤§æ± åŒ–é™ä½ç‰¹å¾å›¾ç»´åº¦ï¼Œå‡å°‘åç»­è®¡ç®—é‡ã€‚</p></li></ul><h3 id="5-æ¨¡å‹ç¼–è¯‘ä¸è®­ç»ƒä¼˜åŒ–æ€è·¯"><a href="#5-æ¨¡å‹ç¼–è¯‘ä¸è®­ç»ƒä¼˜åŒ–æ€è·¯" class="headerlink" title="5. æ¨¡å‹ç¼–è¯‘ä¸è®­ç»ƒä¼˜åŒ–æ€è·¯"></a>5. æ¨¡å‹ç¼–è¯‘ä¸è®­ç»ƒä¼˜åŒ–æ€è·¯</h3><p>æ¨¡å‹ç¼–è¯‘ä¸è®­ç»ƒæ˜¯å®ç°é«˜å‡†ç¡®ç‡çš„å…³é”®ï¼Œæ ¸å¿ƒæ€è·¯æ˜¯â€œåˆç†é…ç½®ç¼–è¯‘å‚æ•°ã€ä¼˜åŒ–è®­ç»ƒè¿‡ç¨‹ã€é¿å…æ— æ•ˆè®­ç»ƒâ€ï¼Œå…·ä½“æ‹†è§£å¦‚ä¸‹ï¼š</p><h4 id="ï¼ˆ1ï¼‰æ¨¡å‹ç¼–è¯‘"><a href="#ï¼ˆ1ï¼‰æ¨¡å‹ç¼–è¯‘" class="headerlink" title="ï¼ˆ1ï¼‰æ¨¡å‹ç¼–è¯‘"></a>ï¼ˆ1ï¼‰æ¨¡å‹ç¼–è¯‘</h4><p>ç¼–è¯‘æ—¶éœ€é…ç½®ä¼˜åŒ–å™¨ã€æŸå¤±å‡½æ•°ã€è¯„ä¼°æŒ‡æ ‡ï¼Œä¸‰è€…é€‰æ‹©å‡è´´åˆé¡¹ç›®éœ€æ±‚ï¼Œè®¾è®¡æ€è·¯å¦‚ä¸‹ï¼š</p><ul><li><p>ä¼˜åŒ–å™¨ï¼šAdamï¼Œå­¦ä¹ ç‡1e-4ã€‚è®¾è®¡æ€è·¯ï¼šAdamä¼˜åŒ–å™¨ç»“åˆäº†SGDå’ŒRMSpropçš„ä¼˜åŠ¿ï¼Œæ”¶æ•›ç¨³å®šã€å­¦ä¹ ç‡è‡ªé€‚åº”ï¼Œé€‚åˆæ–°æ‰‹ä½¿ç”¨ï¼›å­¦ä¹ ç‡è®¾ç½®ä¸º1e-4ï¼ˆè¾ƒå°ï¼‰ï¼Œé¿å…å­¦ä¹ ç‡è¿‡å¤§å¯¼è‡´è®­ç»ƒéœ‡è¡ã€ä¸æ”¶æ•›ï¼ŒåŒæ—¶ä¿è¯è®­ç»ƒé€Ÿåº¦ï¼›</p></li><li><p>æŸå¤±å‡½æ•°ï¼šcategorical_crossentropyï¼ˆå¤šåˆ†ç±»äº¤å‰ç†µæŸå¤±ï¼‰ã€‚è®¾è®¡æ€è·¯ï¼šé€‚é…å¤šåˆ†ç±»ä»»åŠ¡ä¸one-hotæ ‡ç­¾ï¼Œå¯æœ‰æ•ˆè¡¡é‡æ¨¡å‹é¢„æµ‹æ¦‚ç‡ä¸çœŸå®æ ‡ç­¾çš„å·®è·ï¼ŒæŸå¤±å€¼è¶Šå°ï¼Œæ¨¡å‹é¢„æµ‹è¶Šå‡†ç¡®ï¼›</p></li><li><p>è¯„ä¼°æŒ‡æ ‡ï¼šaccuracyï¼ˆå‡†ç¡®ç‡ï¼‰ã€‚è®¾è®¡æ€è·¯ï¼šç›´è§‚è¯„ä¼°æ¨¡å‹åˆ†ç±»æ•ˆæœï¼Œå‡†ç¡®ç‡&#x3D;é¢„æµ‹æ­£ç¡®çš„æ ·æœ¬æ•°&#x2F;æ€»æ ·æœ¬æ•°ï¼Œä¾¿äºå¿«é€Ÿåˆ¤æ–­æ¨¡å‹è®­ç»ƒæ•ˆæœã€‚</p></li></ul><h4 id="ï¼ˆ2ï¼‰è®­ç»ƒå›è°ƒå‡½æ•°ï¼ˆä¼˜åŒ–æ ¸å¿ƒï¼‰"><a href="#ï¼ˆ2ï¼‰è®­ç»ƒå›è°ƒå‡½æ•°ï¼ˆä¼˜åŒ–æ ¸å¿ƒï¼‰" class="headerlink" title="ï¼ˆ2ï¼‰è®­ç»ƒå›è°ƒå‡½æ•°ï¼ˆä¼˜åŒ–æ ¸å¿ƒï¼‰"></a>ï¼ˆ2ï¼‰è®­ç»ƒå›è°ƒå‡½æ•°ï¼ˆä¼˜åŒ–æ ¸å¿ƒï¼‰</h4><p>æ·»åŠ ä¸¤é¡¹å…³é”®å›è°ƒå‡½æ•°ï¼Œä¼˜åŒ–è®­ç»ƒè¿‡ç¨‹ï¼Œé¿å…è¿‡æ‹Ÿåˆä¸æ— æ•ˆè®­ç»ƒï¼Œè®¾è®¡æ€è·¯å¦‚ä¸‹ï¼š</p><ul><li><p>EarlyStoppingï¼ˆæ—©åœæ³•ï¼‰ï¼šç›‘æ§éªŒè¯é›†æŸå¤±ï¼ˆval_lossï¼‰ï¼Œè€å¿ƒå€¼ï¼ˆpatienceï¼‰&#x3D;10ã€‚è®¾è®¡æ€è·¯ï¼šè®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œè‹¥éªŒè¯é›†æŸå¤±è¿ç»­10è½®ä¸ä¸‹é™ï¼Œè¯´æ˜æ¨¡å‹å·²æ”¶æ•›ï¼Œç»§ç»­è®­ç»ƒä¼šå¯¼è‡´æ— æ•ˆè®¡ç®—ç”šè‡³è¿‡æ‹Ÿåˆï¼Œæ­¤æ—¶è‡ªåŠ¨åœæ­¢è®­ç»ƒï¼Œå¹¶æ¢å¤éªŒè¯é›†æŸå¤±æœ€å°æ—¶çš„æ¨¡å‹æƒé‡ï¼Œç¡®ä¿æ¨¡å‹å¤„äºæœ€ä¼˜çŠ¶æ€ï¼›</p></li><li><p>ModelCheckpointï¼ˆæ¨¡å‹ä¿å­˜ï¼‰ï¼šç›‘æ§éªŒè¯é›†å‡†ç¡®ç‡ï¼ˆval_accuracyï¼‰ï¼Œä¿å­˜æœ€ä¼˜æ¨¡å‹ï¼ˆsave_best_only&#x3D;Trueï¼‰ã€‚è®¾è®¡æ€è·¯ï¼šè‡ªåŠ¨ä¿å­˜éªŒè¯é›†å‡†ç¡®ç‡æœ€é«˜çš„æ¨¡å‹ï¼ˆä¿å­˜ä¸ºbest_car_direction_model.kerasï¼‰ï¼Œæ— éœ€æ‰‹åŠ¨è®°å½•æœ€ä¼˜æ¨¡å‹ï¼Œåç»­å¯ç›´æ¥åŠ è½½ä½¿ç”¨ï¼Œé¿å…é‡æ–°è®­ç»ƒã€‚</p></li></ul><h4 id="ï¼ˆ3ï¼‰è®­ç»ƒå‚æ•°é…ç½®"><a href="#ï¼ˆ3ï¼‰è®­ç»ƒå‚æ•°é…ç½®" class="headerlink" title="ï¼ˆ3ï¼‰è®­ç»ƒå‚æ•°é…ç½®"></a>ï¼ˆ3ï¼‰è®­ç»ƒå‚æ•°é…ç½®</h4><p>è®­ç»ƒæ—¶é…ç½®æ‰¹é‡å¤§å°ï¼ˆbatch_sizeï¼‰ã€è®­ç»ƒè½®æ•°ï¼ˆepochsï¼‰ã€éªŒè¯é›†ï¼Œè®¾è®¡æ€è·¯å¦‚ä¸‹ï¼š</p><ul><li><p>batch_size&#x3D;64ï¼šé€‚é…æ™®é€šCPUå†…å­˜ï¼Œæ¯æ¬¡è®­ç»ƒ64å¼ æ ·æœ¬ï¼Œå¹³è¡¡è®­ç»ƒé€Ÿåº¦ä¸å†…å­˜å ç”¨ï¼Œé¿å…æ‰¹é‡è¿‡å¤§å¯¼è‡´å†…å­˜ä¸è¶³ï¼Œæ‰¹é‡è¿‡å°å¯¼è‡´è®­ç»ƒç¼“æ…¢ï¼›</p></li><li><p>epochs&#x3D;20ï¼šè®¾ç½®è¶³å¤Ÿçš„è®­ç»ƒè½®æ•°ï¼Œç¡®ä¿æ¨¡å‹æœ‰è¶³å¤Ÿçš„æ—¶é—´å­¦ä¹ æ•°æ®è§„å¾‹ï¼ŒåŒæ—¶é…åˆæ—©åœæ³•ï¼Œæ— éœ€è®­ç»ƒæ»¡20è½®ï¼Œé¿å…æ— æ•ˆè®­ç»ƒï¼›</p></li><li><p>validation_data&#x3D;(X_val, y_val)ï¼šè®­ç»ƒè¿‡ç¨‹ä¸­ç”¨éªŒè¯é›†å®æ—¶è¯„ä¼°æ¨¡å‹æ•ˆæœï¼Œæ ¹æ®éªŒè¯é›†æŸå¤±ä¸å‡†ç¡®ç‡è°ƒæ•´æ¨¡å‹æƒé‡ï¼Œé¿å…æ¨¡å‹åªæ‹Ÿåˆè®­ç»ƒé›†ï¼ˆè¿‡æ‹Ÿåˆï¼‰ã€‚</p></li></ul><h3 id="6-æ¨¡å‹è¯„ä¼°ä¸ç»“æœå¯è§†åŒ–æ€è·¯"><a href="#6-æ¨¡å‹è¯„ä¼°ä¸ç»“æœå¯è§†åŒ–æ€è·¯" class="headerlink" title="6. æ¨¡å‹è¯„ä¼°ä¸ç»“æœå¯è§†åŒ–æ€è·¯"></a>6. æ¨¡å‹è¯„ä¼°ä¸ç»“æœå¯è§†åŒ–æ€è·¯</h3><p>æ¨¡å‹è¯„ä¼°ä¸å¯è§†åŒ–çš„æ ¸å¿ƒç›®çš„æ˜¯â€œéªŒè¯æ¨¡å‹æ•ˆæœã€ç¡®è®¤æ•°æ®è´¨é‡ã€åˆ†æè®­ç»ƒè¶‹åŠ¿â€ï¼Œç¡®ä¿é¡¹ç›®è¾¾åˆ°é¢„æœŸç›®æ ‡ï¼Œå…·ä½“æ€è·¯å¦‚ä¸‹ï¼š</p><h4 id="ï¼ˆ1ï¼‰æ¨¡å‹è¯„ä¼°"><a href="#ï¼ˆ1ï¼‰æ¨¡å‹è¯„ä¼°" class="headerlink" title="ï¼ˆ1ï¼‰æ¨¡å‹è¯„ä¼°"></a>ï¼ˆ1ï¼‰æ¨¡å‹è¯„ä¼°</h4><p>ç”¨æµ‹è¯•é›†ï¼ˆæœªå‚ä¸è®­ç»ƒã€æœªå‚ä¸éªŒè¯ï¼‰è¯„ä¼°æ¨¡å‹æ³›åŒ–èƒ½åŠ›ï¼Œè¾“å‡ºæµ‹è¯•é›†æŸå¤±ä¸å‡†ç¡®ç‡ï¼Œæ ¸å¿ƒåˆ¤æ–­æ ‡å‡†ï¼š</p><ul><li><p>æµ‹è¯•é›†æŸå¤±ï¼šæ¥è¿‘0ï¼Œè¯´æ˜æ¨¡å‹é¢„æµ‹ä¸çœŸå®æ ‡ç­¾å·®è·å°ï¼›</p></li><li><p>æµ‹è¯•é›†å‡†ç¡®ç‡ï¼šâ‰¥99%ï¼Œè¯´æ˜æ¨¡å‹å·²å……åˆ†å­¦ä¹ è½¦è¾†ä½ç½®ä¸è¡Œé©¶æ–¹å‘çš„æ˜ å°„å…³ç³»ï¼Œæ³›åŒ–èƒ½åŠ›å¼ºï¼Œæ— æ˜æ˜¾è¿‡æ‹Ÿåˆã€‚</p></li></ul><h4 id="ï¼ˆ2ï¼‰ç»“æœå¯è§†åŒ–ï¼ˆä¸¤é¡¹å…³é”®å¯è§†åŒ–ï¼Œå…¨é¢éªŒè¯ï¼‰"><a href="#ï¼ˆ2ï¼‰ç»“æœå¯è§†åŒ–ï¼ˆä¸¤é¡¹å…³é”®å¯è§†åŒ–ï¼Œå…¨é¢éªŒè¯ï¼‰" class="headerlink" title="ï¼ˆ2ï¼‰ç»“æœå¯è§†åŒ–ï¼ˆä¸¤é¡¹å…³é”®å¯è§†åŒ–ï¼Œå…¨é¢éªŒè¯ï¼‰"></a>ï¼ˆ2ï¼‰ç»“æœå¯è§†åŒ–ï¼ˆä¸¤é¡¹å…³é”®å¯è§†åŒ–ï¼Œå…¨é¢éªŒè¯ï¼‰</h4><ul><li><p>æ ·æœ¬éªŒè¯å›¾ï¼šéšæœºé€‰å–5å¼ æ ·æœ¬å›¾ï¼Œå±•ç¤ºå›¾åƒã€è½¦å¤´æ–¹å‘ã€è¡Œé©¶æ–¹å‘æ ‡ç­¾ã€è½¦è¾†å§¿æ€ï¼Œæ ¸å¿ƒç›®çš„æ˜¯â€œç¡®è®¤æ•°æ®ç”Ÿæˆæ— è¯¯â€â€”â€”æ£€æŸ¥è½¦è¾†å§¿æ€ä¸è½¦å¤´æ–¹å‘æ˜¯å¦åŒ¹é…ã€æ ‡ç­¾æ ‡æ³¨æ˜¯å¦åˆç†ã€è½¦è¾†ä¸è½¦å¤´æ˜¯å¦å®Œæ•´ï¼ˆæ— æˆªæ–­ï¼‰ï¼›</p></li><li><p>è®­ç»ƒæ›²çº¿ï¼šç»˜åˆ¶ä¸¤å¼ æ›²çº¿ï¼ˆæŸå¤±æ›²çº¿ã€å‡†ç¡®ç‡æ›²çº¿ï¼‰ï¼Œæ ¸å¿ƒç›®çš„æ˜¯â€œåˆ†æè®­ç»ƒè¶‹åŠ¿â€ï¼š</p><ul><li><p>æŸå¤±æ›²çº¿ï¼šè®­ç»ƒé›†æŸå¤±ï¼ˆtrain_lossï¼‰ä¸éªŒè¯é›†æŸå¤±ï¼ˆval_lossï¼‰é€æ­¥ä¸‹é™å¹¶è¶‹äºå¹³ç¨³ï¼Œä¸”ä¸¤è€…å·®è·è¾ƒå°ï¼Œè¯´æ˜æ¨¡å‹æ”¶æ•›ã€æ— è¿‡æ‹Ÿåˆï¼›</p></li><li><p>å‡†ç¡®ç‡æ›²çº¿ï¼šè®­ç»ƒé›†å‡†ç¡®ç‡ï¼ˆtrain_accuracyï¼‰ä¸éªŒè¯é›†å‡†ç¡®ç‡ï¼ˆval_accuracyï¼‰é€æ­¥ä¸Šå‡å¹¶è¶‹äºå¹³ç¨³ï¼Œä¸”ä¸¤è€…å·®è·è¾ƒå°ï¼Œè¯´æ˜æ¨¡å‹å­¦ä¹ æ•ˆæœå¥½ã€æ³›åŒ–èƒ½åŠ›å¼ºã€‚</p></li></ul></li></ul><h2 id="å››ã€é¡¹ç›®å®Œæ•´è¿è¡Œç»“æœ"><a href="#å››ã€é¡¹ç›®å®Œæ•´è¿è¡Œç»“æœ" class="headerlink" title="å››ã€é¡¹ç›®å®Œæ•´è¿è¡Œç»“æœ"></a>å››ã€é¡¹ç›®å®Œæ•´è¿è¡Œç»“æœ</h2><p>ä»¥ä¸‹æ˜¯é¡¹ç›®è¿è¡Œçš„å®Œæ•´ç»ˆç«¯è¾“å‡ºï¼ŒåŒ…å«TensorFlowæ—¥å¿—ã€æ¨¡å‹ç»“æ„ã€è®­ç»ƒè¿‡ç¨‹ã€æœ€ç»ˆè¯„ä¼°ç»“æœï¼Œå¯ç›´æ¥å¯¹ç…§è‡ªèº«è¿è¡Œç»“æœéªŒè¯é¡¹ç›®æ­£ç¡®æ€§ï¼š</p><figure class="highlight plaintext"><figcaption><span>Text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line">&quot;D:\my project\cnn-2\.venv\Scripts\python.exe&quot; &quot;D:\my project\cnn-2\cnn.py&quot; </span><br><span class="line">2026-02-05 20:46:32.598293: I tensorflow/core/util/port.cc:153] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.</span><br><span class="line">2026-02-05 20:46:35.299182: I tensorflow/core/util/port.cc:153] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.</span><br><span class="line">D:\my project\cnn-2\.venv\Lib\site-packages\keras\src\layers\convolutional\base_conv.py:113: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.</span><br><span class="line">  super().__init__(activity_regularizer=activity_regularizer, **kwargs)</span><br><span class="line">2026-02-05 20:46:37.019214: I tensorflow/core/platform/cpu_feature_guard.cc:210] This TensorFlow binary is optimized to use available CPU instructions in performance-critical operations.</span><br><span class="line">To enable the following instructions: SSE3 SSE4.1 SSE4.2 AVX AVX2 FMA, in other operations, rebuild TensorFlow with the appropriate compiler flags.</span><br><span class="line">Model: &quot;sequential&quot;</span><br><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚ Layer (type)                    â”‚ Output Shape           â”‚       Param # â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚ conv2d (Conv2D)                 â”‚ (None, 30, 30, 32)     â”‚           320 â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚ batch_normalization             â”‚ (None, 30, 30, 32)     â”‚           128 â”‚</span><br><span class="line">â”‚ (BatchNormalization)            â”‚                        â”‚               â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚ max_pooling2d (MaxPooling2D)    â”‚ (None, 15, 15, 32)     â”‚             0 â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚ conv2d_1 (Conv2D)               â”‚ (None, 13, 13, 64)     â”‚        18,496 â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚ batch_normalization_1           â”‚ (None, 13, 13, 64)     â”‚           256 â”‚</span><br><span class="line">â”‚ (BatchNormalization)            â”‚                        â”‚               â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚ max_pooling2d_1 (MaxPooling2D)  â”‚ (None, 6, 6, 64)       â”‚             0 â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚ conv2d_2 (Conv2D)               â”‚ (None, 4, 4, 128)      â”‚        73,856 â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚ batch_normalization_2           â”‚ (None, 4, 4, 128)      â”‚           512 â”‚</span><br><span class="line">â”‚ (BatchNormalization)            â”‚                        â”‚               â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚ max_pooling2d_2 (MaxPooling2D)  â”‚ (None, 2, 2, 128)      â”‚             0 â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚ flatten (Flatten)               â”‚ (None, 512)            â”‚             0 â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚ dense (Dense)                   â”‚ (None, 256)            â”‚       131,328 â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚ dropout (Dropout)               â”‚ (None, 256)            â”‚             0 â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚ dense_1 (Dense)                 â”‚ (None, 64)             â”‚        16,448 â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚ dropout_1 (Dropout)             â”‚ (None, 64)             â”‚             0 â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚ dense_2 (Dense)                 â”‚ (None, 5)              â”‚           325 â”‚</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line"> Total params: 241,669 (944.02 KB)</span><br><span class="line"> Trainable params: 241,221 (942.27 KB)</span><br><span class="line"> Non-trainable params: 448 (1.75 KB)</span><br><span class="line">Epoch 1/20</span><br><span class="line">55/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 3s 29ms/step - accuracy: 0.7140 - loss: 1.0157 - val_accuracy: 0.0440 - val_loss: 2.5356</span><br><span class="line">Epoch 2/20</span><br><span class="line">55/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 24ms/step - accuracy: 0.8400 - loss: 0.5609 - val_accuracy: 0.0440 - val_loss: 3.5172</span><br><span class="line">Epoch 3/20</span><br><span class="line">55/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 23ms/step - accuracy: 0.8477 - loss: 0.4715 - val_accuracy: 0.0440 - val_loss: 4.2830</span><br><span class="line">Epoch 4/20</span><br><span class="line">55/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 24ms/step - accuracy: 0.8589 - loss: 0.4113 - val_accuracy: 0.0440 - val_loss: 5.1124</span><br><span class="line">Epoch 5/20</span><br><span class="line">55/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 25ms/step - accuracy: 0.8694 - loss: 0.3654 - val_accuracy: 0.0490 - val_loss: 5.2911</span><br><span class="line">Epoch 6/20</span><br><span class="line">55/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 25ms/step - accuracy: 0.8831 - loss: 0.3105 - val_accuracy: 0.0640 - val_loss: 5.3669</span><br><span class="line">Epoch 7/20</span><br><span class="line">55/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 25ms/step - accuracy: 0.8957 - loss: 0.2834 - val_accuracy: 0.0680 - val_loss: 4.8968</span><br><span class="line">Epoch 8/20</span><br><span class="line">55/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 24ms/step - accuracy: 0.9049 - loss: 0.2518 - val_accuracy: 0.0980 - val_loss: 4.3102</span><br><span class="line">Epoch 9/20</span><br><span class="line">55/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 24ms/step - accuracy: 0.9171 - loss: 0.2195 - val_accuracy: 0.2380 - val_loss: 2.9597</span><br><span class="line">Epoch 10/20</span><br><span class="line">55/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 24ms/step - accuracy: 0.9254 - loss: 0.1916 - val_accuracy: 0.4110 - val_loss: 1.7583</span><br><span class="line">Epoch 11/20</span><br><span class="line">55/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 25ms/step - accuracy: 0.9346 - loss: 0.1729 - val_accuracy: 0.5670 - val_loss: 1.0569</span><br><span class="line">Epoch 12/20</span><br><span class="line">55/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 25ms/step - accuracy: 0.9463 - loss: 0.1474 - val_accuracy: 0.7920 - val_loss: 0.5172</span><br><span class="line">Epoch 13/20</span><br><span class="line">55/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 25ms/step - accuracy: 0.9537 - loss: 0.1291 - val_accuracy: 0.9000 - val_loss: 0.2761</span><br><span class="line">Epoch 14/20</span><br><span class="line">55/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 25ms/step - accuracy: 0.9554 - loss: 0.1206 - val_accuracy: 0.9350 - val_loss: 0.2312</span><br><span class="line">Epoch 15/20</span><br><span class="line">55/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 25ms/step - accuracy: 0.9631 - loss: 0.1025 - val_accuracy: 0.9790 - val_loss: 0.0968</span><br><span class="line">Epoch 16/20</span><br><span class="line">55/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 24ms/step - accuracy: 0.9717 - loss: 0.0836 - val_accuracy: 0.9790 - val_loss: 0.0837</span><br><span class="line">Epoch 17/20</span><br><span class="line">55/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 25ms/step - accuracy: 0.9780 - loss: 0.0694 - val_accuracy: 0.9830 - val_loss: 0.0778</span><br><span class="line">Epoch 18/20</span><br><span class="line">55/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 25ms/step - accuracy: 0.9806 - loss: 0.0601 - val_accuracy: 0.9900 - val_loss: 0.0548</span><br><span class="line">Epoch 19/20</span><br><span class="line">55/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 24ms/step - accuracy: 0.9829 - loss: 0.0573 - val_accuracy: 0.9860 - val_loss: 0.0545</span><br><span class="line">Epoch 20/20</span><br><span class="line">55/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 24ms/step - accuracy: 0.9849 - loss: 0.0552 - val_accuracy: 0.9910 - val_loss: 0.0428</span><br><span class="line"></span><br><span class="line">æµ‹è¯•é›†æŸå¤±ï¼š0.0326</span><br><span class="line">æµ‹è¯•é›†å‡†ç¡®ç‡ï¼š0.9920ï¼ˆ99.20%ï¼‰</span><br><span class="line"></span><br><span class="line">è¿›ç¨‹å·²ç»“æŸï¼Œé€€å‡ºä»£ç ä¸º 0</span><br></pre></td></tr></table></figure><h2 id="äº”ã€è¿è¡Œç»“æœåˆ†æä¸é¡¹ç›®æ€»ç»“"><a href="#äº”ã€è¿è¡Œç»“æœåˆ†æä¸é¡¹ç›®æ€»ç»“" class="headerlink" title="äº”ã€è¿è¡Œç»“æœåˆ†æä¸é¡¹ç›®æ€»ç»“"></a>äº”ã€è¿è¡Œç»“æœåˆ†æä¸é¡¹ç›®æ€»ç»“</h2><h3 id="1-è¿è¡Œç»“æœè¯¦ç»†åˆ†æ"><a href="#1-è¿è¡Œç»“æœè¯¦ç»†åˆ†æ" class="headerlink" title="1. è¿è¡Œç»“æœè¯¦ç»†åˆ†æ"></a>1. è¿è¡Œç»“æœè¯¦ç»†åˆ†æ</h3><p>â€‹ç»“åˆä¸Šè¿°è¿è¡Œç»“æœï¼Œä»æ¨¡å‹ç»“æ„ã€è®­ç»ƒè¿‡ç¨‹ã€æœ€ç»ˆæ•ˆæœä¸‰ä¸ªç»´åº¦ï¼Œè¯¦ç»†åˆ†æé¡¹ç›®è¿è¡Œæƒ…å†µï¼ŒéªŒè¯é¡¹ç›®æ˜¯å¦è¾¾åˆ°é¢„æœŸç›®æ ‡ï¼š</p><h4 id="ï¼ˆ1ï¼‰æ¨¡å‹ç»“æ„åˆ†æ"><a href="#ï¼ˆ1ï¼‰æ¨¡å‹ç»“æ„åˆ†æ" class="headerlink" title="ï¼ˆ1ï¼‰æ¨¡å‹ç»“æ„åˆ†æ"></a>ï¼ˆ1ï¼‰æ¨¡å‹ç»“æ„åˆ†æ</h4><p>æ¨¡å‹æ€»è®¡241,669ä¸ªå‚æ•°ï¼ˆ944.02 KBï¼‰ï¼Œå±äºè½»é‡åŒ–æ¨¡å‹ï¼Œç¬¦åˆè®¾è®¡é¢„æœŸï¼š</p><ul><li><p>å·ç§¯æ¨¡å—å‚æ•°å æ¯”æœ€é«˜ï¼ˆ320+128+18496+256+73856+512&#x3D;93568ï¼‰ï¼Œæ ¸å¿ƒç”¨äºç‰¹å¾æå–ï¼Œå‚æ•°æ•°é‡åˆç†ï¼Œæ—¢ä¿è¯ç‰¹å¾æå–èƒ½åŠ›ï¼Œåˆé¿å…å†—ä½™ï¼›</p></li><li><p>å…¨è¿æ¥æ¨¡å—å‚æ•°ï¼ˆ131328+16448+325&#x3D;148101ï¼‰ï¼Œé€æ­¥å‹ç¼©ç‰¹å¾ç»´åº¦ï¼Œå‚æ•°æ•°é‡å¯æ§ï¼Œé¿å…å…¨è¿æ¥å±‚å‚æ•°è¿‡å¤šå¯¼è‡´çš„è¿‡æ‹Ÿåˆä¸è®¡ç®—é‡æ¿€å¢ï¼›</p></li><li><p>éè®­ç»ƒå‚æ•°ï¼ˆ448ï¼‰ä¸ºæ‰¹é‡å½’ä¸€åŒ–å±‚çš„å‚æ•°ï¼Œä¸å‚ä¸è®­ç»ƒï¼Œä»…ç”¨äºåŠ é€Ÿæ”¶æ•›ï¼Œè®¾è®¡åˆç†ã€‚</p></li></ul><h4 id="ï¼ˆ2ï¼‰è®­ç»ƒè¿‡ç¨‹åˆ†æ"><a href="#ï¼ˆ2ï¼‰è®­ç»ƒè¿‡ç¨‹åˆ†æ" class="headerlink" title="ï¼ˆ2ï¼‰è®­ç»ƒè¿‡ç¨‹åˆ†æ"></a>ï¼ˆ2ï¼‰è®­ç»ƒè¿‡ç¨‹åˆ†æ</h4><ul><li><p>å‡†ç¡®ç‡è¶‹åŠ¿ï¼šè®­ç»ƒé›†å‡†ç¡®ç‡ä»ç¬¬1è½®çš„71.40%é€æ­¥æå‡è‡³ç¬¬20è½®çš„98.49%ï¼ŒéªŒè¯é›†å‡†ç¡®ç‡ä»0.0440æå‡è‡³99.10%ï¼Œä¸¤è€…é€æ­¥è¶‹äºä¸€è‡´ï¼Œè¯´æ˜æ¨¡å‹å­¦ä¹ æ•ˆæœå¥½ï¼Œæ³›åŒ–èƒ½åŠ›å¼ºï¼›</p></li><li><p>æŸå¤±è¶‹åŠ¿ï¼šè®­ç»ƒé›†æŸå¤±ä»1.0157é€æ­¥ä¸‹é™è‡³0.0552ï¼ŒéªŒè¯é›†æŸå¤±ä»2.5356ä¸‹é™è‡³0.0428ï¼Œä¸¤è€…å‡é€æ­¥è¶‹äºå¹³ç¨³ï¼Œä¸”å·®è·è¾ƒå°ï¼ˆè®­ç»ƒé›†0.0552ï¼ŒéªŒè¯é›†0.0428ï¼‰ï¼Œè¯´æ˜æ¨¡å‹æ— è¿‡æ‹Ÿåˆï¼Œæ”¶æ•›ç¨³å®šï¼›</p></li><li><p>è®­ç»ƒé€Ÿåº¦ï¼šæ¯è½®è®­ç»ƒæ—¶é—´çº¦1-3ç§’ï¼ˆæ™®é€šCPUï¼‰ï¼Œ20è½®æ€»è®¡çº¦30ç§’ï¼Œç¬¦åˆè½»é‡åŒ–æ¨¡å‹çš„è®¾è®¡é¢„æœŸï¼Œæ–°æ‰‹å¯å¿«é€ŸéªŒè¯è®­ç»ƒæ•ˆæœï¼›</p></li><li><p>å›è°ƒå‡½æ•°æ•ˆæœï¼šéªŒè¯é›†å‡†ç¡®ç‡é€æ­¥æå‡ï¼Œæœªå‡ºç°è¿ç»­10è½®ä¸ä¸‹é™çš„æƒ…å†µï¼Œå› æ­¤æ¨¡å‹è®­ç»ƒæ»¡20è½®ï¼Œæœ€ç»ˆä¿å­˜çš„æœ€ä¼˜æ¨¡å‹å‡†ç¡®ç‡å¯è¾¾99.10%ï¼ˆéªŒè¯é›†ï¼‰ï¼Œå›è°ƒå‡½æ•°èµ·åˆ°äº†æœ‰æ•ˆçš„ä¼˜åŒ–ä½œç”¨ã€‚</p></li></ul><h4 id="ï¼ˆ3ï¼‰æœ€ç»ˆæ•ˆæœåˆ†æ"><a href="#ï¼ˆ3ï¼‰æœ€ç»ˆæ•ˆæœåˆ†æ" class="headerlink" title="ï¼ˆ3ï¼‰æœ€ç»ˆæ•ˆæœåˆ†æ"></a>ï¼ˆ3ï¼‰æœ€ç»ˆæ•ˆæœåˆ†æ</h4><p>â€‹æµ‹è¯•é›†æŸå¤±0.0326ï¼Œå‡†ç¡®ç‡99.20%ï¼Œè¿œè¶…é¢„æœŸç›®æ ‡ï¼ˆâ‰¥99%ï¼‰ï¼Œè¯´æ˜æ¨¡å‹æ•ˆæœä¼˜å¼‚ï¼š</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;åŸºäºè½»é‡åŒ–CNNå®ç°è‡ªåŠ¨é©¾é©¶æ–¹å‘é¢„æµ‹&quot;&gt;&lt;a href=&quot;#åŸºäºè½»é‡åŒ–CNNå®ç°è‡ªåŠ¨é©¾é©¶æ–¹å‘é¢„æµ‹&quot; class=&quot;headerlink&quot; title=&quot;åŸºäºè½»é‡åŒ–CNNå®ç°è‡ªåŠ¨é©¾é©¶æ–¹å‘é¢„æµ‹&quot;&gt;&lt;/a&gt;åŸºäºè½»é‡åŒ–CNNå®ç°è‡ªåŠ¨é©¾é©¶æ–¹å‘é¢„æµ‹&lt;/h1&gt;&lt;p&gt;åœ¨æ·±åº¦å­¦ä¹ è®¡</summary>
      
    
    
    
    <category term="ç¼–ç¨‹" scheme="https://yifei-huang-cos.github.io/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>æç¤ºè¯å·¥ç¨‹åˆæ­¥ï¼ˆä¸€ï¼‰</title>
    <link href="https://yifei-huang-cos.github.io/posts/f57bf148/"/>
    <id>https://yifei-huang-cos.github.io/posts/f57bf148/</id>
    <published>2026-02-01T07:40:30.000Z</published>
    <updated>2026-02-01T08:53:19.187Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æç¤ºè¯å·¥ç¨‹åˆæ­¥ï¼ˆä¸€ï¼‰"><a href="#æç¤ºè¯å·¥ç¨‹åˆæ­¥ï¼ˆä¸€ï¼‰" class="headerlink" title="æç¤ºè¯å·¥ç¨‹åˆæ­¥ï¼ˆä¸€ï¼‰"></a>æç¤ºè¯å·¥ç¨‹åˆæ­¥ï¼ˆä¸€ï¼‰</h1><p>éƒ¨ç½²å¥½å¤§æ¨¡å‹ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å…¶åšä¸€äº›ç®€å•çš„é—®ç­”ï¼Œä½†å¦‚ä½•è®©å›ç­”æ›´æ¥è¿‘æˆ‘ä»¬æƒ³è¦çš„æ–¹å¼ï¼Œè¿™å°±éœ€è¦ç”¨åˆ°æç¤ºè¯ï¼ˆPromptï¼‰ä¸æç¤ºè¯å·¥ç¨‹ï¼ˆPrompt Engineeringï¼‰ã€‚é€šè¿‡åˆç†è®¾è®¡ã€ç»„ç»‡æç¤ºè¯ï¼Œå¯ä»¥æ˜¾è‘—æå‡å¤§æ¨¡å‹è¾“å‡ºçš„å‡†ç¡®æ€§ã€ç»“æ„åŒ–ç¨‹åº¦ä¸ä¸šåŠ¡è´´åˆåº¦ã€‚æœ¬æ–‡åŸºäº LangChain æ¡†æ¶ï¼Œä»åŸºç¡€æ¨¡æ¿åˆ°å°‘æ ·æœ¬å­¦ä¹ ï¼Œé€æ­¥ä»‹ç»æç¤ºè¯å·¥ç¨‹çš„å…¥é—¨å®è·µã€‚</p><h2 id="ä¸€ã€æœ€ç®€å•çš„æç¤ºè¯æ¨¡æ¿ï¼šPromptTemplate"><a href="#ä¸€ã€æœ€ç®€å•çš„æç¤ºè¯æ¨¡æ¿ï¼šPromptTemplate" class="headerlink" title="ä¸€ã€æœ€ç®€å•çš„æç¤ºè¯æ¨¡æ¿ï¼šPromptTemplate"></a>ä¸€ã€æœ€ç®€å•çš„æç¤ºè¯æ¨¡æ¿ï¼šPromptTemplate</h2><h3 id="1-æ ¸å¿ƒæ„ä¹‰"><a href="#1-æ ¸å¿ƒæ„ä¹‰" class="headerlink" title="1. æ ¸å¿ƒæ„ä¹‰"></a>1. æ ¸å¿ƒæ„ä¹‰</h3><ul><li>å®ç°<strong>å›ºå®šå¥å¼ä¸åŠ¨æ€å˜é‡åˆ†ç¦»</strong>ï¼Œé¿å…é‡å¤æ‰‹å†™ç›¸ä¼¼æç¤ºè¯ï¼Œæå‡ä»£ç å¤ç”¨æ€§ä¸å¯ç»´æŠ¤æ€§ã€‚</li><li>ç»Ÿä¸€è¾“å…¥æ ¼å¼ï¼Œé™ä½å› æç¤ºè¯å†™æ³•éšæ„å¯¼è‡´çš„æ¨¡å‹è¾“å‡ºä¸ç¨³å®šé—®é¢˜ã€‚</li><li>é…åˆ LangChain çš„é“¾ï¼ˆChainï¼‰æœºåˆ¶ï¼Œå°†ã€Œæ¨¡æ¿å¡«å…… + æ¨¡å‹è°ƒç”¨ã€å°è£…ä¸ºä¸€æ­¥è°ƒç”¨ï¼Œç®€åŒ–ä¸šåŠ¡ä»£ç ã€‚</li></ul><h3 id="2-ä»£ç å®ç°"><a href="#2-ä»£ç å®ç°" class="headerlink" title="2. ä»£ç å®ç°"></a>2. ä»£ç å®ç°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> langchain_core.prompts <span class="keyword">import</span> PromptTemplate</span><br><span class="line"><span class="keyword">from</span> langchain_demo.my_llm <span class="keyword">import</span> llm</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰å¸¦å˜é‡çš„æ¨¡æ¿</span></span><br><span class="line"></span><br><span class="line">prompt_template = PromptTemplate.from_template(<span class="string">&quot;å¸®æˆ‘ç”Ÿæˆä¸€ä¸ªç®€çŸ­çš„ï¼Œå…³äº&#123;topic&#125;çš„æŠ¥å¹•è¯ã€‚&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å•ç‹¬æ¸²æŸ“æ¨¡æ¿ï¼ˆä¸è°ƒç”¨æ¨¡å‹ï¼Œç”¨äºè°ƒè¯•ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># res = prompt_template.invoke(&#123;&quot;topic&quot;: &quot;ç›¸å£°&quot;&#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(res)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ„å»ºé“¾ï¼šæ¨¡æ¿ â†’ å¤§æ¨¡å‹</span></span><br><span class="line"></span><br><span class="line">chain = prompt_template | llm</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¼ å…¥å˜é‡æ‰§è¡Œå¹¶è·å–ç»“æœ</span></span><br><span class="line"></span><br><span class="line">resp = chain.invoke(&#123;<span class="string">&#x27;topic&#x27;</span>: <span class="string">&quot;ç›¸å£°&quot;</span>&#125;)</span><br><span class="line"><span class="built_in">print</span>(resp)</span><br></pre></td></tr></table></figure><h3 id="3-ä»£ç è¯´æ˜"><a href="#3-ä»£ç è¯´æ˜" class="headerlink" title="3. ä»£ç è¯´æ˜"></a>3. ä»£ç è¯´æ˜</h3><ul><li><code>PromptTemplate.from_template</code>ï¼šé€šè¿‡å­—ç¬¦ä¸²å¿«é€Ÿåˆ›å»ºæ¨¡æ¿ï¼Œ<code>&#123;å˜é‡å&#125;</code> ä¸ºåŠ¨æ€å¡«å……ä½ç½®ã€‚</li><li><code>invoke</code> æ–¹æ³•ç”¨äºä¼ å…¥å‚æ•°å¹¶æ¸²æŸ“å®Œæ•´æç¤ºæ–‡æœ¬ã€‚</li><li>ä½¿ç”¨ç®¡é“ç¬¦ <code>|</code> ä¸²è”æ¨¡æ¿ä¸æ¨¡å‹ï¼Œæ˜¯ LangChain æ¨èçš„ç®€æ´é“¾å¼å†™æ³•ã€‚</li><li>é€‚ç”¨äºé›¶æ ·æœ¬ã€ç»“æ„ç®€å•ã€ä»…éœ€å°‘é‡å˜é‡æ›¿æ¢çš„å¸¸è§„ç”Ÿæˆåœºæ™¯ã€‚</li></ul><hr><h2 id="äºŒã€ICL-æŠ€æœ¯ï¼šä¸Šä¸‹æ–‡å°‘æ ·æœ¬å­¦ä¹ ï¼ˆIn-Context-Learningï¼‰"><a href="#äºŒã€ICL-æŠ€æœ¯ï¼šä¸Šä¸‹æ–‡å°‘æ ·æœ¬å­¦ä¹ ï¼ˆIn-Context-Learningï¼‰" class="headerlink" title="äºŒã€ICL æŠ€æœ¯ï¼šä¸Šä¸‹æ–‡å°‘æ ·æœ¬å­¦ä¹ ï¼ˆIn-Context Learningï¼‰"></a>äºŒã€ICL æŠ€æœ¯ï¼šä¸Šä¸‹æ–‡å°‘æ ·æœ¬å­¦ä¹ ï¼ˆIn-Context Learningï¼‰</h2><h3 id="1-æ¦‚å¿µä¸ä½œç”¨"><a href="#1-æ¦‚å¿µä¸ä½œç”¨" class="headerlink" title="1. æ¦‚å¿µä¸ä½œç”¨"></a>1. æ¦‚å¿µä¸ä½œç”¨</h3><p>ICL å³<strong>ä¸Šä¸‹æ–‡å†…å­¦ä¹ </strong>ï¼Œä¹Ÿå¸¸è¢«ç§°ä½œå°‘æ ·æœ¬å­¦ä¹ ï¼ˆFew-Shot Learningï¼‰ã€‚æ ¸å¿ƒæ€è·¯æ˜¯ï¼š</p><ul><li>åœ¨æç¤ºè¯ä¸­åŠ å…¥è‹¥å¹²é«˜è´¨é‡çš„ã€Œé—®é¢˜ - ç­”æ¡ˆã€ç¤ºä¾‹ã€‚</li><li>è®©æ¨¡å‹ä»ç¤ºä¾‹ä¸­å­¦ä¹ <strong>æ¨ç†é€»è¾‘ã€è¾“å‡ºæ ¼å¼ã€å›ç­”é£æ ¼</strong>ã€‚</li><li>æ— éœ€å¾®è°ƒæ¨¡å‹ï¼Œå³å¯æ˜¾è‘—æå‡å¤æ‚æ¨ç†ã€ç»“æ„åŒ–è¾“å‡ºçš„æ•ˆæœã€‚</li><li>é€‚åˆå¤šè·³æ¨ç†ã€æ ¼å¼ä¸¥æ ¼çº¦æŸã€é¢†åŸŸç‰¹å®šè¯æœ¯è§„èŒƒç­‰é›¶æ ·æœ¬éš¾ä»¥æ»¡è¶³çš„åœºæ™¯ã€‚</li></ul><p>åœ¨ LangChain ä¸­ï¼Œé€šè¿‡ <code>FewShotPromptTemplate</code> å®ç°æ ‡å‡†åŒ–å°‘æ ·æœ¬æç¤ºç®¡ç†ã€‚</p><h3 id="2-ä»£ç å®ç°-1"><a href="#2-ä»£ç å®ç°-1" class="headerlink" title="2. ä»£ç å®ç°"></a>2. ä»£ç å®ç°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> langchain_core.prompts <span class="keyword">import</span> PromptTemplate, FewShotPromptTemplate</span><br><span class="line"><span class="keyword">from</span> langchain_demo.my_llm <span class="keyword">import</span> llm</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ­¥éª¤ä¸€ï¼šæä¾›ç¤ºä¾‹</span></span><br><span class="line"></span><br><span class="line">examples = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;question&quot;</span>: <span class="string">&quot;ç©†ç½•é»˜å¾·Â·é˜¿é‡Œå’Œè‰¾ä¼¦Â·å›¾çµè°æ´»å¾—æ›´ä¹…ï¼Ÿ&quot;</span>,</span><br><span class="line">        <span class="string">&quot;answer&quot;</span>: <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">æ˜¯å¦éœ€è¦åç»­é—®é¢˜ï¼šæ˜¯ã€‚</span></span><br><span class="line"><span class="string">åç»­é—®é¢˜ï¼šç©†ç½•é»˜å¾·Â·é˜¿é‡Œå»ä¸–æ—¶å¤šå¤§ï¼Ÿ</span></span><br><span class="line"><span class="string">ä¸­é—´ç­”æ¡ˆï¼šç©†ç½•é»˜å¾·Â·é˜¿é‡Œå»ä¸–æ—¶74å²ã€‚</span></span><br><span class="line"><span class="string">åç»­é—®é¢˜ï¼šè‰¾ä¼¦Â·å›¾çµå»ä¸–æ—¶å¤šå¤§ï¼Ÿ</span></span><br><span class="line"><span class="string">ä¸­é—´ç­”æ¡ˆï¼šè‰¾ä¼¦Â·å›¾çµå»ä¸–æ—¶41å²ã€‚</span></span><br><span class="line"><span class="string">æ‰€ä»¥æœ€ç»ˆç­”æ¡ˆæ˜¯ï¼šç©†ç½•é»˜å¾·Â·é˜¿é‡Œ</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;question&quot;</span>: <span class="string">&quot;ä¹”æ²»Â·åç››é¡¿çš„å¤–ç¥–çˆ¶æ˜¯è°ï¼Ÿ&quot;</span>,</span><br><span class="line">        <span class="string">&quot;answer&quot;</span>: <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">æ˜¯å¦éœ€è¦åç»­é—®é¢˜ï¼šæ˜¯ã€‚</span></span><br><span class="line"><span class="string">åç»­é—®é¢˜ï¼šä¹”æ²»Â·åç››é¡¿çš„æ¯äº²æ˜¯è°ï¼Ÿ</span></span><br><span class="line"><span class="string">ä¸­é—´ç­”æ¡ˆï¼šä¹”æ²»Â·åç››é¡¿çš„æ¯äº²æ˜¯ç›ä¸½Â·é²å°”Â·åç››é¡¿ã€‚</span></span><br><span class="line"><span class="string">åç»­é—®é¢˜ï¼šç›ä¸½Â·é²å°”Â·åç››é¡¿çš„çˆ¶äº²æ˜¯è°ï¼Ÿ</span></span><br><span class="line"><span class="string">ä¸­é—´ç­”æ¡ˆï¼šç›ä¸½Â·é²å°”Â·åç››é¡¿çš„çˆ¶äº²æ˜¯çº¦ç‘Ÿå¤«Â·é²å°”ã€‚</span></span><br><span class="line"><span class="string">æ‰€ä»¥æœ€ç»ˆç­”æ¡ˆæ˜¯ï¼šçº¦ç‘Ÿå¤«Â·é²å°”</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;question&quot;</span>: <span class="string">&quot;ã€Šå¤§ç™½é²¨ã€‹å’Œã€Š007ï¼šå¤§æˆ˜çš‡å®¶èµŒåœºã€‹çš„å¯¼æ¼”æ˜¯å¦æ¥è‡ªåŒä¸€ä¸ªå›½å®¶ï¼Ÿ&quot;</span>,</span><br><span class="line">        <span class="string">&quot;answer&quot;</span>: <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">æ˜¯å¦éœ€è¦åç»­é—®é¢˜ï¼šæ˜¯ã€‚</span></span><br><span class="line"><span class="string">åç»­é—®é¢˜ï¼šã€Šå¤§ç™½é²¨ã€‹çš„å¯¼æ¼”æ˜¯è°ï¼Ÿ</span></span><br><span class="line"><span class="string">ä¸­é—´ç­”æ¡ˆï¼šã€Šå¤§ç™½é²¨ã€‹çš„å¯¼æ¼”æ˜¯å²è’‚æ–‡Â·æ–¯çš®å°”ä¼¯æ ¼ã€‚</span></span><br><span class="line"><span class="string">åç»­é—®é¢˜ï¼šå²è’‚æ–‡Â·æ–¯çš®å°”ä¼¯æ ¼æ¥è‡ªå“ªé‡Œï¼Ÿ</span></span><br><span class="line"><span class="string">ä¸­é—´ç­”æ¡ˆï¼šç¾å›½ã€‚</span></span><br><span class="line"><span class="string">åç»­é—®é¢˜ï¼šã€Š007ï¼šå¤§æˆ˜çš‡å®¶èµŒåœºã€‹çš„å¯¼æ¼”æ˜¯è°ï¼Ÿ</span></span><br><span class="line"><span class="string">ä¸­é—´ç­”æ¡ˆï¼šã€Š007ï¼šå¤§æˆ˜çš‡å®¶èµŒåœºã€‹çš„å¯¼æ¼”æ˜¯é©¬ä¸Â·åè´å°”ã€‚</span></span><br><span class="line"><span class="string">åç»­é—®é¢˜ï¼šé©¬ä¸Â·åè´å°”æ¥è‡ªå“ªé‡Œï¼Ÿ</span></span><br><span class="line"><span class="string">ä¸­é—´ç­”æ¡ˆï¼šæ–°è¥¿å…°ã€‚</span></span><br><span class="line"><span class="string">æ‰€ä»¥æœ€ç»ˆç­”æ¡ˆæ˜¯ï¼šå¦</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ­¥éª¤äºŒï¼šå®šä¹‰å•ä¸ªç¤ºä¾‹çš„æ¸²æŸ“æ¨¡æ¿</span></span><br><span class="line"></span><br><span class="line">base_prompt_template = PromptTemplate.from_template(<span class="string">&#x27;é—®é¢˜:&#123;question&#125;\n&#123;answer&#125;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ­¥éª¤ä¸‰ï¼šåˆ›å»ºå°‘æ ·æœ¬æ€»æ¨¡æ¿</span></span><br><span class="line"></span><br><span class="line">final_template = FewShotPromptTemplate(</span><br><span class="line">    examples=examples,                 <span class="comment"># ç¤ºä¾‹åˆ—è¡¨</span></span><br><span class="line">    example_prompt=base_prompt_template,  <span class="comment"># å•æ¡ç¤ºä¾‹æ ¼å¼</span></span><br><span class="line">    suffix=<span class="string">&quot;é—®é¢˜:&#123;input&#125;&quot;</span>,             <span class="comment"># çœŸå®é—®é¢˜æ‹¼æ¥åœ¨æœ€å</span></span><br><span class="line">    input_variables=[<span class="string">&#x27;input&#x27;</span>]          <span class="comment"># è¾“å…¥å˜é‡å</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ­¥éª¤å››ï¼šæ„å»ºé“¾å¹¶è°ƒç”¨</span></span><br><span class="line"></span><br><span class="line">chain = final_template | llm</span><br><span class="line"></span><br><span class="line"><span class="comment"># æµ‹è¯•ä¸åŒé—®é¢˜</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># resp = chain.invoke(&#123;&#x27;input&#x27;: &quot;å·´ä¼¦ç‰¹æœ—æ™®çš„çˆ¶äº²æ˜¯è°&quot;&#125;)</span></span><br><span class="line"></span><br><span class="line">resp = chain.invoke(&#123;<span class="string">&#x27;input&#x27;</span>: <span class="string">&quot;ä¸­å›½å¤ä»£å†å²ä¸Šå”æœå’Œå®‹æœå“ªä¸ªæœä»£å»¶ç»­æ—¶é—´æ›´é•¿&quot;</span>&#125;)</span><br><span class="line"><span class="built_in">print</span>(respï¼‰</span><br></pre></td></tr></table></figure><p>)</p><h3 id="3-å…³é”®å‚æ•°ä¸ä½¿ç”¨è¦ç‚¹"><a href="#3-å…³é”®å‚æ•°ä¸ä½¿ç”¨è¦ç‚¹" class="headerlink" title="3. å…³é”®å‚æ•°ä¸ä½¿ç”¨è¦ç‚¹"></a>3. å…³é”®å‚æ•°ä¸ä½¿ç”¨è¦ç‚¹</h3><ul><li><code>examples</code>ï¼šç¤ºä¾‹æ•°ç»„ï¼Œæ¯æ¡ä¸º <code>question</code>&#x2F;<code>answer</code> ç»“æ„ï¼Œå†…å®¹ã€æ ¼å¼ã€é€»è¾‘å¿…é¡»ç»Ÿä¸€ã€‚</li><li><code>example_prompt</code>ï¼šæ§åˆ¶æ¯ä¸€æ¡ç¤ºä¾‹å¦‚ä½•æ¸²æŸ“æˆæ–‡æœ¬ï¼Œä¿è¯æ‰€æœ‰ç¤ºä¾‹æ ¼å¼ä¸€è‡´ã€‚</li><li><code>suffix</code>ï¼šæ‰€æœ‰ç¤ºä¾‹ä¹‹åè¿½åŠ çš„çœŸå®ç”¨æˆ·é—®é¢˜ï¼Œæ¨¡å‹ä¼šå‚ç…§å‰é¢ç¤ºä¾‹çš„èŒƒå¼å›ç­”ã€‚</li><li><code>input_variables</code>ï¼šå£°æ˜ suffix ä¸­ç”¨åˆ°çš„å˜é‡ï¼Œä¸æ¨¡æ¿å ä½ç¬¦å¯¹åº”ã€‚</li><li>ç¤ºä¾‹æ•°é‡å»ºè®® 3ï½5 æ¡ä¸ºå®œï¼Œè¿‡å°‘å­¦ä¹ æ•ˆæœå·®ï¼Œè¿‡å¤šæ˜“è¶…å‡ºä¸Šä¸‹æ–‡çª—å£æˆ–å¼•å…¥å™ªå£°ã€‚</li></ul><hr><p>å¥½çš„ï¼Œè¿™æ˜¯ä¸ºæ‚¨ç»­å†™çš„<strong>ã€Œä¸‰ã€è¿›é˜¶ï¼šèŠå¤©åœºæ™¯ä¸­ä½¿ç”¨ ICLï¼ˆFewShotChatMessagePromptTemplateï¼‰ã€</strong> éƒ¨åˆ†çš„å®Œæ•´å†…å®¹ï¼Œå·²æ ¹æ®æ‚¨æä¾›çš„å®é™…è¿è¡Œç»“æœè¿›è¡Œäº†è¡¥å……å’Œæ¶¦è‰²ï¼š</p><hr><h2 id="ä¸‰ã€è¿›é˜¶ï¼šèŠå¤©åœºæ™¯ä¸­ä½¿ç”¨-ICLï¼ˆFewShotChatMessagePromptTemplateï¼‰"><a href="#ä¸‰ã€è¿›é˜¶ï¼šèŠå¤©åœºæ™¯ä¸­ä½¿ç”¨-ICLï¼ˆFewShotChatMessagePromptTemplateï¼‰" class="headerlink" title="ä¸‰ã€è¿›é˜¶ï¼šèŠå¤©åœºæ™¯ä¸­ä½¿ç”¨ ICLï¼ˆFewShotChatMessagePromptTemplateï¼‰"></a>ä¸‰ã€è¿›é˜¶ï¼šèŠå¤©åœºæ™¯ä¸­ä½¿ç”¨ ICLï¼ˆFewShotChatMessagePromptTemplateï¼‰</h2><p>å‰é¢ä»‹ç»çš„æ˜¯ã€Œæ–‡æœ¬æ ¼å¼ã€çš„æç¤ºè¯ ICLï¼Œè€Œåœ¨å®é™…çš„å¤§æ¨¡å‹åº”ç”¨ä¸­ï¼Œæ›´å¤šæ˜¯<strong>èŠå¤©åœºæ™¯</strong>ï¼ˆå¤šè½®å¯¹è¯ã€åŒºåˆ†ç”¨æˆ·&#x2F;AI è§’è‰²ï¼‰ï¼Œæ­¤æ—¶éœ€è¦ä½¿ç”¨ LangChain ä¸“ä¸ºèŠå¤©åœºæ™¯è®¾è®¡çš„ <code>FewShotChatMessagePromptTemplate</code>ï¼Œå®ƒèƒ½æ›´å¥½åœ°è´´åˆèŠå¤©æ¨¡å‹çš„æ¶ˆæ¯æ ¼å¼ï¼ˆåŒºåˆ† Human&#x2F;Ai&#x2F;System è§’è‰²ï¼‰ï¼Œæå‡å¯¹è¯åœºæ™¯ä¸‹çš„ ICL æ•ˆæœã€‚</p><h3 id="1-æ ¸å¿ƒæ¦‚å¿µè¯´æ˜"><a href="#1-æ ¸å¿ƒæ¦‚å¿µè¯´æ˜" class="headerlink" title="1. æ ¸å¿ƒæ¦‚å¿µè¯´æ˜"></a>1. æ ¸å¿ƒæ¦‚å¿µè¯´æ˜</h3><ul><li><strong>èŠå¤©åœºæ™¯çš„æç¤ºè¯æ ¸å¿ƒæ˜¯ã€Œæ¶ˆæ¯åˆ—è¡¨ã€</strong>ï¼Œæ¯æ¡æ¶ˆæ¯éƒ½æœ‰æ˜ç¡®çš„ã€Œè§’è‰²ã€ï¼ˆhuman&#x2F;ai&#x2F;systemï¼‰ã€‚</li><li><code>FewShotChatMessagePromptTemplate</code>ï¼šä¸“é—¨ç”¨äºåœ¨èŠå¤©æ¶ˆæ¯åˆ—è¡¨ä¸­åµŒå…¥ ICL ç¤ºä¾‹ï¼Œä¿æŒç¤ºä¾‹çš„è§’è‰²æ ¼å¼ä¸çœŸå®å¯¹è¯ä¸€è‡´ã€‚</li><li><code>MessagesPlaceholder</code>ï¼šæ¶ˆæ¯å ä½ç¬¦ï¼Œç”¨äºåŠ¨æ€å¡«å……åç»­çš„çœŸå®å¯¹è¯æ¶ˆæ¯ï¼ˆæ”¯æŒå¤šè½®å¯¹è¯æ‰©å±•ï¼‰ã€‚</li><li><code>ChatPromptTemplate</code>ï¼šèŠå¤©åœºæ™¯çš„æç¤ºè¯æ¨¡æ¿ï¼Œä¸æ™®é€š <code>PromptTemplate</code> çš„åŒºåˆ«æ˜¯åŸºäºã€Œæ¶ˆæ¯è§’è‰²ã€æ„å»ºã€‚</li></ul><h3 id="2-ä»£ç å®ç°-2"><a href="#2-ä»£ç å®ç°-2" class="headerlink" title="2. ä»£ç å®ç°"></a>2. ä»£ç å®ç°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> langchain_core.messages <span class="keyword">import</span> HumanMessage</span><br><span class="line"><span class="keyword">from</span> langchain_core.output_parsers <span class="keyword">import</span> StrOutputParser</span><br><span class="line"><span class="keyword">from</span> langchain_core.prompts <span class="keyword">import</span> MessagesPlaceholder, FewShotChatMessagePromptTemplate</span><br><span class="line"><span class="keyword">from</span> langchain_demo.my_llm <span class="keyword">import</span> llm</span><br><span class="line"><span class="keyword">from</span> langchain_core.prompts <span class="keyword">import</span> ChatPromptTemplate</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ­¥éª¤ä¸€ï¼šå‡†å¤‡èŠå¤©åœºæ™¯çš„ ICL ç¤ºä¾‹ï¼ˆé”®å€¼å¯¹æ ¼å¼ï¼Œå¯¹åº”åç»­å•æ¡æ¶ˆæ¯æ¨¡æ¿çš„å˜é‡ï¼‰</span></span><br><span class="line">examples = [</span><br><span class="line">    &#123;<span class="string">&quot;input&quot;</span>: <span class="string">&quot;2 ï¼Ÿ 3 = 5&quot;</span>,<span class="string">&quot;output&quot;</span>: <span class="string">&quot;5&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;input&quot;</span>: <span class="string">&quot;3 ï¼Ÿ 4 = 7&quot;</span>,<span class="string">&quot;output&quot;</span>: <span class="string">&quot;7&quot;</span>&#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ­¥éª¤äºŒï¼šå®šä¹‰å•ä¸ªç¤ºä¾‹çš„èŠå¤©æ¶ˆæ¯æ¨¡æ¿ï¼ˆåŒºåˆ† Human/Ai è§’è‰²ï¼Œå¯¹åº”ç¤ºä¾‹çš„ input/outputï¼‰</span></span><br><span class="line">base_prompt = ChatPromptTemplate.from_messages(</span><br><span class="line">    [</span><br><span class="line">        <span class="comment"># æ¯æ¡ç¤ºä¾‹ä¸­ï¼Œç”¨æˆ·è¾“å…¥ï¼ˆhuman è§’è‰²ï¼‰å¯¹åº” input å˜é‡</span></span><br><span class="line">        (<span class="string">&#x27;human&#x27;</span>, <span class="string">&#x27;&#123;input&#125;&#x27;</span>),</span><br><span class="line">        <span class="comment"># æ¯æ¡ç¤ºä¾‹ä¸­ï¼ŒAI å›å¤ï¼ˆai è§’è‰²ï¼‰å¯¹åº” output å˜é‡</span></span><br><span class="line">        (<span class="string">&#x27;ai&#x27;</span>, <span class="string">&#x27;&#123;output&#125;&#x27;</span>),</span><br><span class="line">    ]</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ­¥éª¤ä¸‰ï¼šåˆ›å»ºèŠå¤©åœºæ™¯çš„å°‘æ ·æœ¬æç¤ºè¯æ¨¡æ¿ï¼ˆæ•´åˆæ‰€æœ‰ç¤ºä¾‹ï¼‰</span></span><br><span class="line">few_shot_prompt = FewShotChatMessagePromptTemplate(</span><br><span class="line">    examples=examples,          <span class="comment"># ä¼ å…¥èŠå¤©åœºæ™¯çš„ç¤ºä¾‹åˆ—è¡¨</span></span><br><span class="line">    example_prompt=base_prompt, <span class="comment"># ä¼ å…¥å•æ¡ç¤ºä¾‹çš„èŠå¤©æ¶ˆæ¯æ¨¡æ¿</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ­¥éª¤å››ï¼šæ„å»ºå®Œæ•´çš„èŠå¤©æç¤ºè¯æ¨¡æ¿ï¼ˆåŒ…å«ç³»ç»Ÿæ¶ˆæ¯ã€ICL ç¤ºä¾‹ã€çœŸå®æ¶ˆæ¯å ä½ç¬¦ï¼‰</span></span><br><span class="line">final_template = ChatPromptTemplate.from_messages([</span><br><span class="line">    <span class="comment"># ç³»ç»Ÿæ¶ˆæ¯ï¼šå®šä¹‰ AI çš„è§’è‰²å’Œè¡Œä¸ºå‡†åˆ™</span></span><br><span class="line">    (<span class="string">&quot;system&quot;</span>, <span class="string">&quot;ä½ æ˜¯ä¸€ä¸ªAIåŠ©æ‰‹ï¼&quot;</span>),</span><br><span class="line">    <span class="comment"># åµŒå…¥ ICL å°‘æ ·æœ¬ç¤ºä¾‹ï¼ˆä¼šè‡ªåŠ¨æŒ‰ base_prompt çš„æ ¼å¼æ¸²æŸ“æ‰€æœ‰ç¤ºä¾‹ï¼‰</span></span><br><span class="line">    few_shot_prompt,</span><br><span class="line">    <span class="comment"># æ¶ˆæ¯å ä½ç¬¦ï¼šç”¨äºåŠ¨æ€æ¥æ”¶çœŸå®çš„ç”¨æˆ·å¯¹è¯æ¶ˆæ¯ï¼ˆæ”¯æŒå¤šè½®æ¶ˆæ¯ä¼ å…¥ï¼‰</span></span><br><span class="line">    MessagesPlaceholder(<span class="string">&quot;msgs&quot;</span>)</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ­¥éª¤äº”ï¼šæ„å»ºæ‰§è¡Œé“¾</span></span><br><span class="line">chain = final_template | llm</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ­¥éª¤å…­ï¼šä¼ å…¥çœŸå®ç”¨æˆ·æ¶ˆæ¯ï¼Œè°ƒç”¨æ‰§è¡Œé“¾</span></span><br><span class="line">resp = chain.invoke(&#123;<span class="string">&quot;msgs&quot;</span>: [HumanMessage(content=<span class="string">&quot;2ï¼Ÿ9ç»“æœæ˜¯å¤šå°‘&quot;</span>)]&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°ç»“æœ</span></span><br><span class="line"><span class="built_in">print</span>(resp)</span><br></pre></td></tr></table></figure><h3 id="3-ä»£ç å…³é”®è§£æ"><a href="#3-ä»£ç å…³é”®è§£æ" class="headerlink" title="3. ä»£ç å…³é”®è§£æ"></a>3. ä»£ç å…³é”®è§£æ</h3><ol><li><code>ChatPromptTemplate.from_messages()</code>ï¼šæ¥æ”¶æ¶ˆæ¯åˆ—è¡¨æ„å»ºèŠå¤©æ¨¡æ¿ï¼Œæ¯æ¡æ¶ˆæ¯æ˜¯ <code>(è§’è‰²ç±»å‹ï¼Œ æ¶ˆæ¯å†…å®¹)</code> å…ƒç»„ï¼Œæ ¸å¿ƒè§’è‰²åŒ…æ‹¬ <code>system</code>ï¼ˆå®šä¹‰AIè¡Œä¸ºï¼‰ã€<code>human</code>ï¼ˆç”¨æˆ·è¾“å…¥ï¼‰ã€<code>ai</code>ï¼ˆAIå›å¤ï¼‰ã€‚</li><li><code>FewShotChatMessagePromptTemplate</code>ï¼šèŠå¤©åœºæ™¯ä¸“å±ICLå·¥å…·ï¼Œå°†ç¤ºä¾‹åˆ—è¡¨æŒ‰ <code>example_prompt</code> å®šä¹‰çš„ã€ŒHumanâ†’Aiã€æ ¼å¼æ¸²æŸ“ï¼Œå½¢æˆå®Œæ•´ç¤ºä¾‹å¯¹è¯é“¾ã€‚</li><li><code>MessagesPlaceholder(&quot;msgs&quot;)</code>ï¼šåŠ¨æ€æ¶ˆæ¯å®¹å™¨ï¼Œè°ƒç”¨æ—¶å¯ä¼ å…¥å•ä¸ª&#x2F;å¤šä¸ª <code>HumanMessage</code>&#x2F;<code>AIMessage</code>ï¼Œæ”¯æŒå¤šè½®å¯¹è¯æ‰©å±•ï¼Œæ— éœ€é‡æ„æ¨¡æ¿ã€‚</li><li>ç¤ºä¾‹ä¸­çš„ <code>input</code> æ˜¯ç”¨æˆ·æé—®æ ¼å¼ï¼Œ<code>output</code> æ˜¯å¯¹åº”æ ‡å‡†ç­”æ¡ˆï¼Œæ¨¡å‹ä¼šä»ç¤ºä¾‹ä¸­å­¦ä¹ éšè—è§„å¾‹ï¼ˆæ­¤ä¾‹ä¸­æ˜¯ã€Œæ•°å­—ç›¸åŠ ã€ï¼‰ã€‚</li></ol><h3 id="4-å®é™…è¿è¡Œç»“æœ"><a href="#4-å®é™…è¿è¡Œç»“æœ" class="headerlink" title="4. å®é™…è¿è¡Œç»“æœ"></a>4. å®é™…è¿è¡Œç»“æœ</h3><h4 id="è¿è¡Œå‘½ä»¤è¾“å‡º"><a href="#è¿è¡Œå‘½ä»¤è¾“å‡º" class="headerlink" title="è¿è¡Œå‘½ä»¤è¾“å‡º"></a>è¿è¡Œå‘½ä»¤è¾“å‡º</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;D:\my project\new_ai_model_env\.venv\Scripts\python.exe&quot;</span> <span class="string">&quot;D:\my project\LangchainProject\langchain_demo\æç¤ºè¯æ¨¡æ¿-4.py&quot;</span> </span><br><span class="line">D:\my project\new_ai_model_env\.venv\Lib\site<span class="literal">-packages</span>\langchain_core\_api\deprecation.py:<span class="number">26</span>: UserWarning: Core Pydantic V1 functionality isn<span class="string">&#x27;t compatible with Python 3.14 or greater.</span></span><br><span class="line"><span class="string">  from pydantic.v1.fields import FieldInfo as FieldInfoV1</span></span><br><span class="line"><span class="string">content=&#x27;</span>å¯¹äº <span class="number">2</span> ï¼Ÿ <span class="number">9</span>ï¼Œæ ¹æ®å‰é¢çš„ä¾‹å­ï¼Œæˆ‘è§‚å¯Ÿåˆ°<span class="string">&quot;ï¼Ÿ&quot;</span>æ“ä½œä¼¼ä¹æ˜¯å°†ä¸¤ä¸ªæ•°å­—ç›¸åŠ ã€‚</span><br><span class="line"><span class="number">2</span> ï¼Ÿ <span class="number">3</span> = <span class="number">5</span> (å³ <span class="number">2</span> + <span class="number">3</span> = <span class="number">5</span>)</span><br><span class="line"><span class="number">3</span> ï¼Ÿ <span class="number">4</span> = <span class="number">7</span> (å³ <span class="number">3</span> + <span class="number">4</span> = <span class="number">7</span>)</span><br><span class="line"></span><br><span class="line">æŒ‰ç…§è¿™ä¸ªè§„å¾‹ï¼Œ<span class="number">2</span> ï¼Ÿ <span class="number">9</span> çš„ç»“æœåº”è¯¥æ˜¯:</span><br><span class="line"><span class="number">2</span> + <span class="number">9</span> = <span class="number">11</span></span><br><span class="line"></span><br><span class="line">æ‰€ä»¥ï¼Œ<span class="number">2</span> ï¼Ÿ <span class="number">9</span> = <span class="number">11</span><span class="string">&#x27;</span></span><br><span class="line"><span class="string">additional_kwargs=&#123;&#x27;</span>refusal<span class="string">&#x27;: None&#125;</span></span><br><span class="line"><span class="string">response_metadata=&#123;&#x27;</span>token_usage<span class="string">&#x27;: &#123;&#x27;</span>completion_tokens<span class="string">&#x27;: 144, &#x27;</span>prompt_tokens<span class="string">&#x27;: 84, &#x27;</span>total_tokens<span class="string">&#x27;: 228, &#x27;</span>completion_tokens_details<span class="string">&#x27;: &#123;&#x27;</span>accepted_prediction_tokens<span class="string">&#x27;: None, &#x27;</span>audio_tokens<span class="string">&#x27;: 0, &#x27;</span>reasoning_tokens<span class="string">&#x27;: 0, &#x27;</span>rejected_prediction_tokens<span class="string">&#x27;: None, &#x27;</span>text_tokens<span class="string">&#x27;: 0&#125;, &#x27;</span>prompt_tokens_details<span class="string">&#x27;: &#123;&#x27;</span>audio_tokens<span class="string">&#x27;: 0, &#x27;</span>cached_tokens<span class="string">&#x27;: 0, &#x27;</span>text_tokens<span class="string">&#x27;: 0, &#x27;</span>image_tokens<span class="string">&#x27;: 0&#125;, &#x27;</span>input_tokens<span class="string">&#x27;: 0, &#x27;</span>output_tokens<span class="string">&#x27;: 0, &#x27;</span>input_tokens_details<span class="string">&#x27;: None, &#x27;</span>claude_cache_creation_5_m_tokens<span class="string">&#x27;: 0, &#x27;</span>claude_cache_creation_1_h_tokens<span class="string">&#x27;: 0&#125;, &#x27;</span>model_provider<span class="string">&#x27;: &#x27;</span>openai<span class="string">&#x27;, &#x27;</span>model_name<span class="string">&#x27;: &#x27;</span>claude<span class="literal">-3-7-sonnet-20250219</span><span class="string">&#x27;, &#x27;</span>system_fingerprint<span class="string">&#x27;: None, &#x27;</span>id<span class="string">&#x27;: &#x27;</span>msg_bdrk_013v2a4K1AkZZUY4hnLbh2Nk<span class="string">&#x27;, &#x27;</span>finish_reason<span class="string">&#x27;: &#x27;</span>stop<span class="string">&#x27;, &#x27;</span>logprobs<span class="string">&#x27;: None&#125;</span></span><br><span class="line"><span class="string">id=&#x27;</span>lc_run<span class="literal">--019c185a-cca9-7581-a0c3-77edef4787db-0</span><span class="string">&#x27;</span></span><br><span class="line"><span class="string">tool_calls=[]</span></span><br><span class="line"><span class="string">invalid_tool_calls=[]</span></span><br><span class="line"><span class="string">usage_metadata=&#123;&#x27;</span>input_tokens<span class="string">&#x27;: 84, &#x27;</span>output_tokens<span class="string">&#x27;: 144, &#x27;</span>total_tokens<span class="string">&#x27;: 228, &#x27;</span>input_token_details<span class="string">&#x27;: &#123;&#x27;</span>audio<span class="string">&#x27;: 0, &#x27;</span>cache_read<span class="string">&#x27;: 0&#125;, &#x27;</span>output_token_details<span class="string">&#x27;: &#123;&#x27;</span>audio<span class="string">&#x27;: 0, &#x27;</span>reasoning<span class="string">&#x27;: 0&#125;&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">è¿›ç¨‹å·²ç»“æŸï¼Œé€€å‡ºä»£ç ä¸º 0</span></span><br></pre></td></tr></table></figure><h4 id="ç»“æœè§£è¯»"><a href="#ç»“æœè§£è¯»" class="headerlink" title="ç»“æœè§£è¯»"></a>ç»“æœè§£è¯»</h4><ul><li><p><strong>å¿½ç•¥å¼ƒç”¨è­¦å‘Š</strong>ï¼šå¼€å¤´çš„ <code>Pydantic V1</code> å¼ƒç”¨è­¦å‘Šæ˜¯ LangChain æ¡†æ¶çš„ç‰ˆæœ¬å…¼å®¹æ€§æç¤ºï¼Œ<strong>ä¸å½±å“ç¨‹åºåŠŸèƒ½è¿è¡Œ</strong>ï¼Œå¯ä»¥æš‚æ—¶å¿½ç•¥ã€‚</p></li><li><p><strong>ICL å­¦ä¹ æˆåŠŸ</strong>ï¼šæ¨¡å‹æˆåŠŸä»ä¸¤æ¡ç¤ºä¾‹ <code>&#123;2 ï¼Ÿ 3 = 5&#125;</code> å’Œ <code>&#123;3 ï¼Ÿ 4 = 7&#125;</code> ä¸­ï¼Œå­¦ä¹ åˆ°äº†ã€Œ<code>ï¼Ÿ</code> ä»£è¡¨å°†ä¸¤ä¸ªæ•°å­—ç›¸åŠ ã€çš„éšè—è§„å¾‹ï¼Œå¹¶æ­£ç¡®æ¨å¯¼å‡º <code>2ï¼Ÿ9</code> çš„ç»“æœæ˜¯ <code>11</code>ã€‚</p></li><li><p><strong>è¾“å‡ºæ ¼å¼è¯´æ˜</strong>ï¼šæ‰“å°çš„ <code>resp</code> å¯¹è±¡æ˜¯ LangChain èŠå¤©æ¨¡å‹è¿”å›çš„åŸç”Ÿ <code>AIMessage</code> å¯¹è±¡ï¼Œå®ƒåŒ…å«å¤šä¸ªå±æ€§ï¼š</p><ul><li><code>content</code>ï¼šæ ¸å¿ƒå›å¤å†…å®¹ï¼Œå³æ¨¡å‹æ¨ç†å‡ºçš„çº¯æ–‡æœ¬ç­”æ¡ˆã€‚</li><li><code>additional_kwargs</code>ã€<code>response_metadata</code>ã€<code>usage_metadata</code>ï¼šè¿™äº›æ˜¯è¯·æ±‚çš„å…ƒæ•°æ®ï¼ŒåŒ…å«äº†æœ¬æ¬¡è°ƒç”¨çš„ä»¤ç‰Œæ¶ˆè€—è¯¦æƒ…ã€ä½¿ç”¨çš„æ¨¡å‹ä¿¡æ¯ï¼ˆClaude 3.7 Sonnetï¼‰ã€è¯·æ±‚IDç­‰ã€‚</li></ul></li><li><p><strong>ä¼˜åŒ–è¾“å‡ºï¼ˆå¯é€‰ï¼‰</strong>ï¼šå¦‚æœæ‚¨ä»…éœ€è¦æ¨¡å‹å›å¤çš„çº¯æ–‡æœ¬å†…å®¹ï¼ˆå³ <code>content</code>ï¼‰ï¼Œå¯ä»¥åœ¨æ‰§è¡Œé“¾æœ«å°¾æ·»åŠ  <code>StrOutputParser()</code> è§£æå™¨ï¼š</p>  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chain = final_template | llm | StrOutputParser()</span><br></pre></td></tr></table></figure><p>  è¿”å›çš„ç»“æœå˜ä¸º</p>  <figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">å¦‚æœæˆ‘ä»¬è§‚å¯Ÿå‰é¢çš„ä¾‹å­ï¼š</span><br><span class="line"><span class="number">2</span> ï¼Ÿ <span class="number">3</span> = <span class="number">5</span></span><br><span class="line"><span class="number">3</span> ï¼Ÿ <span class="number">4</span> = <span class="number">7</span></span><br><span class="line"></span><br><span class="line">æˆ‘å¯ä»¥æ¨æ–­å‡ºè¿™ä¸ª<span class="string">&quot;ï¼Ÿ&quot;</span>æ“ä½œæ˜¯å°†ä¸¤ä¸ªæ•°å­—ç›¸åŠ ã€‚æ‰€ä»¥ï¼š</span><br><span class="line"></span><br><span class="line"><span class="number">2</span> ï¼Ÿ <span class="number">9</span> = <span class="number">2</span> + <span class="number">9</span> = <span class="number">11</span></span><br><span class="line"></span><br><span class="line">ç­”æ¡ˆæ˜¯<span class="number">11</span>ã€‚</span><br></pre></td></tr></table></figure><p>  é€šä¹‰åƒé—®ç­‰ä¸»æµèŠå¤©æ¨¡å‹çš„åŸç”Ÿäº¤äº’æ ¼å¼ï¼ˆSystem&#x2F;Human&#x2F;Assistant æ¶ˆæ¯æµï¼‰ï¼Œèƒ½æœ‰æ•ˆæå‡æŒ‡ä»¤éµå¾ªå’Œå›å¤çš„å‡†ç¡®æ€§ã€‚</p></li></ul><hr><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;æç¤ºè¯å·¥ç¨‹åˆæ­¥ï¼ˆä¸€ï¼‰&quot;&gt;&lt;a href=&quot;#æç¤ºè¯å·¥ç¨‹åˆæ­¥ï¼ˆä¸€ï¼‰&quot; class=&quot;headerlink&quot; title=&quot;æç¤ºè¯å·¥ç¨‹åˆæ­¥ï¼ˆä¸€ï¼‰&quot;&gt;&lt;/a&gt;æç¤ºè¯å·¥ç¨‹åˆæ­¥ï¼ˆä¸€ï¼‰&lt;/h1&gt;&lt;p&gt;éƒ¨ç½²å¥½å¤§æ¨¡å‹ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å…¶åšä¸€äº›ç®€å•çš„é—®ç­”ï¼Œä½†å¦‚ä½•è®©å›ç­”æ›´æ¥è¿‘æˆ‘ä»¬æƒ³è¦çš„</summary>
      
    
    
    
    <category term="ç¼–ç¨‹" scheme="https://yifei-huang-cos.github.io/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>å¤§æ¨¡å‹çš„ç§æœ‰åŒ–éƒ¨ç½²ï¼ˆä¸€ï¼‰</title>
    <link href="https://yifei-huang-cos.github.io/posts/fa00b5a1/"/>
    <id>https://yifei-huang-cos.github.io/posts/fa00b5a1/</id>
    <published>2026-01-31T11:00:07.000Z</published>
    <updated>2026-01-31T11:33:07.820Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¤§æ¨¡å‹çš„ç§æœ‰åŒ–éƒ¨ç½²ï¼ˆä¸€ï¼‰"><a href="#å¤§æ¨¡å‹çš„ç§æœ‰åŒ–éƒ¨ç½²ï¼ˆä¸€ï¼‰" class="headerlink" title="å¤§æ¨¡å‹çš„ç§æœ‰åŒ–éƒ¨ç½²ï¼ˆä¸€ï¼‰"></a>å¤§æ¨¡å‹çš„ç§æœ‰åŒ–éƒ¨ç½²ï¼ˆä¸€ï¼‰</h1><h2 id="ä¸€ã€éƒ¨ç½²å‰æœŸå‡†å¤‡"><a href="#ä¸€ã€éƒ¨ç½²å‰æœŸå‡†å¤‡" class="headerlink" title="ä¸€ã€éƒ¨ç½²å‰æœŸå‡†å¤‡"></a>ä¸€ã€éƒ¨ç½²å‰æœŸå‡†å¤‡</h2><h3 id="1-1-æœåŠ¡å™¨ç§Ÿèµï¼ˆæ ¸å¿ƒå‰æï¼‰"><a href="#1-1-æœåŠ¡å™¨ç§Ÿèµï¼ˆæ ¸å¿ƒå‰æï¼‰" class="headerlink" title="1.1 æœåŠ¡å™¨ç§Ÿèµï¼ˆæ ¸å¿ƒå‰æï¼‰"></a>1.1 æœåŠ¡å™¨ç§Ÿèµï¼ˆæ ¸å¿ƒå‰æï¼‰</h3><p>ç”±äºä¸ªäººç”µè„‘çš„ç®—åŠ›ã€æ˜¾å­˜ç­‰ç¡¬ä»¶æ¡ä»¶å—é™ï¼Œ<strong>ä¸æ¨èæœ¬åœ°éƒ¨ç½²å¤§æ¨¡å‹</strong>ï¼Œä¼˜å…ˆé€‰æ‹©äº‘æœåŠ¡å™¨æä¾›çš„GPUç§ŸèµæœåŠ¡ï¼Œä¸»æµå¹³å°å¯é€‰æ‹©é˜¿é‡Œäº‘ã€AutoDLç­‰ã€‚</p><h4 id="é€‰æ‹©å»ºè®®ï¼ˆæŒ‰åœºæ™¯åˆ’åˆ†ï¼‰"><a href="#é€‰æ‹©å»ºè®®ï¼ˆæŒ‰åœºæ™¯åˆ’åˆ†ï¼‰" class="headerlink" title="é€‰æ‹©å»ºè®®ï¼ˆæŒ‰åœºæ™¯åˆ’åˆ†ï¼‰"></a>é€‰æ‹©å»ºè®®ï¼ˆæŒ‰åœºæ™¯åˆ’åˆ†ï¼‰</h4><ul><li><strong>æµ‹è¯•&#x2F;å­¦ä¹ ç”¨é€”</strong>ï¼šé¦–æ¨ <strong>AutoDL</strong><ul><li>ä¼˜åŠ¿ï¼šä»·æ ¼ä½å»‰ï¼ŒæŒ‰å°æ—¶è®¡è´¹ï¼Œé¢„è£…å®Œæ•´æ·±åº¦å­¦ä¹ ç¯å¢ƒï¼ˆæ— éœ€æ‰‹åŠ¨é…ç½®Pythonã€Torchç­‰ï¼‰ï¼Œå¼€ç®±å³ç”¨ï¼Œå¯¹æ–°æ‰‹å‹å¥½ã€‚</li></ul></li><li><strong>ç”Ÿäº§&#x2F;é•¿æœŸè¿è¡Œç”¨é€”</strong>ï¼šä¼˜å…ˆé€‰æ‹© <strong>é˜¿é‡Œäº‘</strong>ã€<strong>è…¾è®¯äº‘</strong><ul><li>ä¼˜åŠ¿ï¼šç¨³å®šæ€§æ›´å¼ºï¼ŒæœåŠ¡ä¿éšœæ›´å®Œå–„ï¼Œæ”¯æŒå¼¹æ€§æ‰©å®¹ï¼Œé€‚åˆä¼ä¸šçº§è½åœ°åœºæ™¯ã€‚</li></ul></li></ul><h3 id="1-2-æœåŠ¡å™¨å®ä¾‹åˆ›å»ºä¸ä¿¡æ¯ç•™å­˜"><a href="#1-2-æœåŠ¡å™¨å®ä¾‹åˆ›å»ºä¸ä¿¡æ¯ç•™å­˜" class="headerlink" title="1.2 æœåŠ¡å™¨å®ä¾‹åˆ›å»ºä¸ä¿¡æ¯ç•™å­˜"></a>1.2 æœåŠ¡å™¨å®ä¾‹åˆ›å»ºä¸ä¿¡æ¯ç•™å­˜</h3><ol><li>é…ç½®é€‰æ‹©ï¼šæ¨èæ˜¾å¡å‹å· RTX 3090&#x2F;4090 æˆ– A100ï¼Œ<strong>æ˜¾å­˜â‰¥16GB</strong>ï¼ˆä¿éšœ8Bæ¨¡å‹æ­£å¸¸è¿è¡Œï¼‰ï¼ŒæŒ‰éœ€é€‰æ‹©CPUä¸ç¡¬ç›˜å®¹é‡ï¼ˆå»ºè®®ç¡¬ç›˜â‰¥50GBï¼Œç”¨äºå­˜å‚¨æ¨¡å‹æ–‡ä»¶ï¼‰ã€‚</li><li>å®ä¾‹åˆ›å»ºå®Œæˆåï¼Œ<strong>åŠ¡å¿…å¦¥å–„è®°å½•ä»¥ä¸‹è¿æ¥ä¿¡æ¯</strong>ï¼ˆä¸¢å¤±åéš¾ä»¥æ‰¾å›ï¼‰ï¼š<ul><li><strong>SSH åœ°å€</strong>ï¼ˆæ ¼å¼ç¤ºä¾‹ï¼š<code>123.456.78.90:12345</code>ï¼‰</li><li><strong>ç™»å½•å¯†ç </strong>ï¼ˆæˆ–å¯†é’¥æ–‡ä»¶ï¼Œè‹¥é€‰æ‹©å¯†é’¥ç™»å½•ï¼‰</li></ul></li></ol><h3 id="1-3-PyCharm-Pro-è¿œç¨‹SSHè¿æ¥ï¼ˆé«˜æ•ˆå¼€å‘å¿…å¤‡ï¼‰"><a href="#1-3-PyCharm-Pro-è¿œç¨‹SSHè¿æ¥ï¼ˆé«˜æ•ˆå¼€å‘å¿…å¤‡ï¼‰" class="headerlink" title="1.3 PyCharm Pro è¿œç¨‹SSHè¿æ¥ï¼ˆé«˜æ•ˆå¼€å‘å¿…å¤‡ï¼‰"></a>1.3 PyCharm Pro è¿œç¨‹SSHè¿æ¥ï¼ˆé«˜æ•ˆå¼€å‘å¿…å¤‡ï¼‰</h3><p>ä¸ºäº†ç®€åŒ–åç»­çš„ä»£ç ç¼–å†™ã€æ–‡ä»¶ç®¡ç†ä¸å‘½ä»¤æ‰§è¡Œï¼Œæ¨èä½¿ç”¨PyCharmä¸“ä¸šç‰ˆçš„è¿œç¨‹å¼€å‘åŠŸèƒ½ï¼Œç›´æ¥è¿æ¥äº‘æœåŠ¡å™¨è¿›è¡Œæ“ä½œã€‚</p><h4 id="è¯¦ç»†æ“ä½œæ­¥éª¤"><a href="#è¯¦ç»†æ“ä½œæ­¥éª¤" class="headerlink" title="è¯¦ç»†æ“ä½œæ­¥éª¤"></a>è¯¦ç»†æ“ä½œæ­¥éª¤</h4><ol><li>æ‰“å¼€ PyCharm Professionalï¼Œåˆ›å»ºæˆ–æ‰“å¼€ä½ çš„é¡¹ç›®ã€‚</li><li>è¿›å…¥è·¯å¾„ï¼š<code>File</code> â†’ <code>Settings</code> â†’ <code>Project: [ä½ çš„é¡¹ç›®å]</code> â†’ <code>Python Interpreter</code>ã€‚</li><li>ç‚¹å‡»è§£é‡Šå™¨å³ä¾§çš„ <strong><code>Add Interpreter</code></strong> æŒ‰é’®ï¼Œé€‰æ‹© **<code>On SSH...</code>**ï¼ˆè¿œç¨‹SSHè§£é‡Šå™¨ï¼‰ã€‚</li><li>åœ¨å¼¹å‡ºçš„é…ç½®çª—å£ä¸­ï¼Œå¡«å†™æœåŠ¡å™¨ä¿¡æ¯ï¼š<ul><li><code>Host</code>ï¼šæœåŠ¡å™¨å…¬ç½‘IPåœ°å€ï¼ˆæ— éœ€å¸¦ç«¯å£ï¼‰</li><li><code>Port</code>ï¼šSSHç«¯å£å·ï¼ˆé»˜è®¤22ï¼ŒAutoDLç­‰å¹³å°ä¸ºéšæœºåˆ†é…ç«¯å£ï¼Œéœ€å¯¹åº”è®°å½•çš„ä¿¡æ¯ï¼‰</li><li><code>Username</code>ï¼šé»˜è®¤é€šå¸¸ä¸º <code>root</code></li><li><code>Password</code>ï¼šå¡«å†™è®°å½•çš„æœåŠ¡å™¨ç™»å½•å¯†ç </li></ul></li><li>åç»­æ­¥éª¤ä¸€è·¯ç‚¹å‡» <code>Next</code>ï¼Œé»˜è®¤é€‰æ‹©æœåŠ¡å™¨ä¸Šçš„Pythonè§£é‡Šå™¨å³å¯ï¼Œå®Œæˆé…ç½®ã€‚</li><li>éªŒè¯ï¼šé…ç½®æˆåŠŸåï¼ŒPyCharmçš„ç»ˆç«¯ï¼ˆTerminalï¼‰æ‰§è¡Œå‘½ä»¤ä¼šç›´æ¥åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œæ–‡ä»¶æ“ä½œä¹Ÿä¼šåŒæ­¥åˆ°æœåŠ¡å™¨å¯¹åº”ç›®å½•ã€‚</li></ol><h2 id="äºŒã€æ¨¡å‹ä¸‹è½½ä¸ç¯å¢ƒé…ç½®"><a href="#äºŒã€æ¨¡å‹ä¸‹è½½ä¸ç¯å¢ƒé…ç½®" class="headerlink" title="äºŒã€æ¨¡å‹ä¸‹è½½ä¸ç¯å¢ƒé…ç½®"></a>äºŒã€æ¨¡å‹ä¸‹è½½ä¸ç¯å¢ƒé…ç½®</h2><h3 id="2-1-å¤§æ¨¡å‹ä¸‹è½½ï¼ˆä»¥Qwen3-8B-Instructä¸ºä¾‹ï¼‰"><a href="#2-1-å¤§æ¨¡å‹ä¸‹è½½ï¼ˆä»¥Qwen3-8B-Instructä¸ºä¾‹ï¼‰" class="headerlink" title="2.1 å¤§æ¨¡å‹ä¸‹è½½ï¼ˆä»¥Qwen3-8B-Instructä¸ºä¾‹ï¼‰"></a>2.1 å¤§æ¨¡å‹ä¸‹è½½ï¼ˆä»¥Qwen3-8B-Instructä¸ºä¾‹ï¼‰</h3><p>æˆ‘ä»¬é€‰æ‹©ä»<strong>ModelScopeï¼ˆé­”æ­ç¤¾åŒºï¼‰</strong>ä¸‹è½½å­—èŠ‚è·³åŠ¨å¼€æºçš„Qwen3-8B-Instructæ¨¡å‹ï¼Œè¯¥æ¨¡å‹æ€§èƒ½å‡è¡¡ï¼Œé€‚åˆæ–°æ‰‹å…¥é—¨ç§æœ‰åŒ–éƒ¨ç½²ã€‚</p><h4 id="æ­¥éª¤1ï¼šæ‰¾åˆ°æ¨¡å‹å®˜æ–¹é¡µé¢"><a href="#æ­¥éª¤1ï¼šæ‰¾åˆ°æ¨¡å‹å®˜æ–¹é¡µé¢" class="headerlink" title="æ­¥éª¤1ï¼šæ‰¾åˆ°æ¨¡å‹å®˜æ–¹é¡µé¢"></a>æ­¥éª¤1ï¼šæ‰¾åˆ°æ¨¡å‹å®˜æ–¹é¡µé¢</h4><p><a href="https://www.modelscope.cn/models/qwen/Qwen3-8B-Instruct/summary">https://www.modelscope.cn/models/qwen/Qwen3-8B-Instruct/summary</a></p><h4 id="æ­¥éª¤2ï¼šPython-SDK-ä¸‹è½½ï¼ˆæ¨èï¼Œè‡ªåŠ¨å¤„ç†ä¾èµ–ä¸æ–‡ä»¶æ•´åˆï¼‰"><a href="#æ­¥éª¤2ï¼šPython-SDK-ä¸‹è½½ï¼ˆæ¨èï¼Œè‡ªåŠ¨å¤„ç†ä¾èµ–ä¸æ–‡ä»¶æ•´åˆï¼‰" class="headerlink" title="æ­¥éª¤2ï¼šPython SDK ä¸‹è½½ï¼ˆæ¨èï¼Œè‡ªåŠ¨å¤„ç†ä¾èµ–ä¸æ–‡ä»¶æ•´åˆï¼‰"></a>æ­¥éª¤2ï¼šPython SDK ä¸‹è½½ï¼ˆæ¨èï¼Œè‡ªåŠ¨å¤„ç†ä¾èµ–ä¸æ–‡ä»¶æ•´åˆï¼‰</h4><ol><li>è‹¥æœªå®‰è£…ModelScopeåº“ï¼Œå…ˆåœ¨PyCharmè¿œç¨‹ç»ˆç«¯æ‰§è¡Œå®‰è£…å‘½ä»¤ï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install modelscope</span><br></pre></td></tr></table></figure></li><li>åˆ›å»ºPythonè„šæœ¬ï¼ˆæˆ–ç›´æ¥åœ¨ç»ˆç«¯è¿è¡Œï¼‰ï¼Œæ‰§è¡Œä»¥ä¸‹ä¸‹è½½ä»£ç ï¼š<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> modelscope <span class="keyword">import</span> snapshot_download</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®æ¨¡å‹åç§°ä¸ä¸‹è½½ç›®å½•</span></span><br><span class="line"><span class="comment"># æ³¨æ„ï¼šAutoDLå¹³å°å¤§å®¹é‡æ•°æ®ç›˜é»˜è®¤è·¯å¾„ä¸º /root/autodl-tmpï¼Œä¼˜å…ˆé€‰æ‹©è¯¥ç›®å½•èŠ‚çœç³»ç»Ÿç›˜ç©ºé—´</span></span><br><span class="line">model_name = <span class="string">&#x27;Qwen/Qwen3-8B-Instruct&#x27;</span></span><br><span class="line">save_dir = <span class="string">&#x27;/root/autodl-tmp/models&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å§‹ä¸‹è½½æ¨¡å‹ï¼ˆé¦–æ¬¡ä¸‹è½½çº¦15GBï¼Œè€—æ—¶å–å†³äºç½‘ç»œé€Ÿåº¦ï¼‰</span></span><br><span class="line">model_dir = snapshot_download(model_name, cache_dir=save_dir)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°æ¨¡å‹æœ€ç»ˆå­˜å‚¨è·¯å¾„ï¼ˆåç»­å¯åŠ¨æœåŠ¡éœ€ç”¨åˆ°ï¼Œå»ºè®®å¤åˆ¶ç•™å­˜ï¼‰</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;æ¨¡å‹ä¸‹è½½å®Œæˆï¼Œå­˜å‚¨è·¯å¾„ï¼š<span class="subst">&#123;model_dir&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure></li></ol><h3 id="2-2-å®‰è£…-vLLM-æ¨ç†å¼•æ“ï¼ˆé«˜é€Ÿæ¨ç†æ ¸å¿ƒï¼‰"><a href="#2-2-å®‰è£…-vLLM-æ¨ç†å¼•æ“ï¼ˆé«˜é€Ÿæ¨ç†æ ¸å¿ƒï¼‰" class="headerlink" title="2.2 å®‰è£… vLLM æ¨ç†å¼•æ“ï¼ˆé«˜é€Ÿæ¨ç†æ ¸å¿ƒï¼‰"></a>2.2 å®‰è£… vLLM æ¨ç†å¼•æ“ï¼ˆé«˜é€Ÿæ¨ç†æ ¸å¿ƒï¼‰</h3><p>vLLM æ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„å¤§æ¨¡å‹æ¨ç†ä¸æœåŠ¡åº“ï¼Œç›¸æ¯”åŸç”Ÿæ¨ç†æ¡†æ¶ï¼Œå…·æœ‰<strong>æ˜¾å­˜åˆ©ç”¨ç‡é«˜ã€ç”Ÿæˆé€Ÿåº¦å¿«ã€æ”¯æŒé«˜å¹¶å‘</strong>çš„ä¼˜åŠ¿ï¼Œæ˜¯ç§æœ‰åŒ–éƒ¨ç½²çš„é¦–é€‰æ¨ç†å¼•æ“ã€‚</p><p>åœ¨PyCharmè¿œç¨‹ç»ˆç«¯ä¸­æ‰§è¡Œä»¥ä¸‹å®‰è£…å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install vllm</span><br></pre></td></tr></table></figure><h4 id="éªŒè¯å®‰è£…æˆåŠŸ"><a href="#éªŒè¯å®‰è£…æˆåŠŸ" class="headerlink" title="éªŒè¯å®‰è£…æˆåŠŸ"></a>éªŒè¯å®‰è£…æˆåŠŸ</h4><p>å®‰è£…å®Œæˆåï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip list | grep vllm</span><br></pre></td></tr></table></figure><p>è‹¥ç»ˆç«¯è¿”å› vllm å¯¹åº”çš„ç‰ˆæœ¬å·ï¼Œè¯´æ˜å®‰è£…å®Œæˆã€‚</p><h2 id="ä¸‰ã€å¯åŠ¨-OpenAI-å…¼å®¹-API-æœåŠ¡"><a href="#ä¸‰ã€å¯åŠ¨-OpenAI-å…¼å®¹-API-æœåŠ¡" class="headerlink" title="ä¸‰ã€å¯åŠ¨ OpenAI å…¼å®¹ API æœåŠ¡"></a>ä¸‰ã€å¯åŠ¨ OpenAI å…¼å®¹ API æœåŠ¡</h2><h3 id="3-1-å¯åŠ¨å‘½ä»¤ï¼ˆå¤åˆ¶å³å¯ä½¿ç”¨ï¼Œéœ€ä¿®æ”¹æ¨¡å‹è·¯å¾„ï¼‰"><a href="#3-1-å¯åŠ¨å‘½ä»¤ï¼ˆå¤åˆ¶å³å¯ä½¿ç”¨ï¼Œéœ€ä¿®æ”¹æ¨¡å‹è·¯å¾„ï¼‰" class="headerlink" title="3.1 å¯åŠ¨å‘½ä»¤ï¼ˆå¤åˆ¶å³å¯ä½¿ç”¨ï¼Œéœ€ä¿®æ”¹æ¨¡å‹è·¯å¾„ï¼‰"></a>3.1 å¯åŠ¨å‘½ä»¤ï¼ˆå¤åˆ¶å³å¯ä½¿ç”¨ï¼Œéœ€ä¿®æ”¹æ¨¡å‹è·¯å¾„ï¼‰</h3><p>åœ¨PyCharmè¿œç¨‹ç»ˆç«¯ä¸­ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨OpenAIå…¼å®¹çš„APIæœåŠ¡ï¼ˆå‘½ä»¤è¡Œæ¢è¡Œç”¨ <code>\</code> åˆ†éš”ï¼Œç¡®ä¿å®Œæ•´å¤åˆ¶ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">python -m vllm.entrypoints.openai.api_server \</span><br><span class="line">    --model /root/autodl-tmp/models/Qwen/Qwen3-8B-Instruct \</span><br><span class="line">    --served-model-name qwen3-8b \</span><br><span class="line">    --max-model-len 8k \</span><br><span class="line">    --host 0.0.0.0 \</span><br><span class="line">    --port 6006 \</span><br><span class="line">    --dtype bfloat16 \</span><br><span class="line">    --gpu-memory-utilization 0.8 \</span><br><span class="line">    --enable-auto-tool-choice \</span><br><span class="line">    --tool-call-parser hermes</span><br></pre></td></tr></table></figure><h4 id="æ ¸å¿ƒå‚æ•°è¯´æ˜ï¼ˆå¿…çœ‹ï¼Œæ–¹ä¾¿åç»­è‡ªå®šä¹‰é…ç½®ï¼‰"><a href="#æ ¸å¿ƒå‚æ•°è¯´æ˜ï¼ˆå¿…çœ‹ï¼Œæ–¹ä¾¿åç»­è‡ªå®šä¹‰é…ç½®ï¼‰" class="headerlink" title="æ ¸å¿ƒå‚æ•°è¯´æ˜ï¼ˆå¿…çœ‹ï¼Œæ–¹ä¾¿åç»­è‡ªå®šä¹‰é…ç½®ï¼‰"></a>æ ¸å¿ƒå‚æ•°è¯´æ˜ï¼ˆå¿…çœ‹ï¼Œæ–¹ä¾¿åç»­è‡ªå®šä¹‰é…ç½®ï¼‰</h4><table><thead><tr><th align="left">å‚æ•°</th><th align="left">ä½œç”¨è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><code>--model</code></td><td align="left"><strong>æ¨¡å‹æœ¬åœ°ç»å¯¹è·¯å¾„</strong>ï¼ˆéœ€ä¸ä¸‹è½½å®Œæˆåçš„å®é™…è·¯å¾„ä¸€è‡´ï¼Œå…³é”®ï¼ï¼‰</td></tr><tr><td align="left"><code>--served-model-name</code></td><td align="left">å¯¹å¤–æš´éœ²çš„æ¨¡å‹åç§°ï¼ŒAPIè°ƒç”¨æ—¶éœ€æŒ‡å®šè¯¥åç§°</td></tr><tr><td align="left"><code>--max-model-len 8k</code></td><td align="left">æ¨¡å‹æ”¯æŒçš„æœ€å¤§ä¸Šä¸‹æ–‡é•¿åº¦ï¼ŒQwen3-8B-Instructæ”¯æŒæœ€é«˜8k</td></tr><tr><td align="left"><code>--host 0.0.0.0</code></td><td align="left">å…è®¸å¤–éƒ¨è®¾å¤‡è®¿é—®è¯¥æœåŠ¡ï¼ˆæœ¬åœ°ç”µè„‘ã€å…¶ä»–æœåŠ¡å™¨ï¼‰ï¼Œä¸å¯ä¿®æ”¹ä¸º127.0.0.1</td></tr><tr><td align="left"><code>--port 6006</code></td><td align="left">æœåŠ¡ç«¯å£ï¼Œå¯è‡ªå®šä¹‰ï¼ˆå¦‚8080ã€9090ï¼‰ï¼Œéœ€ç¡®ä¿ç«¯å£æœªè¢«å ç”¨ä¸”å·²æ”¾è¡Œ</td></tr><tr><td align="left"><code>--dtype bfloat16</code></td><td align="left">é‡‡ç”¨bfloat16ç²¾åº¦è¿è¡Œï¼Œå¹³è¡¡æ¨ç†é€Ÿåº¦ä¸æ¨¡å‹æ•ˆæœï¼ŒåŒæ—¶èŠ‚çœå¤§é‡æ˜¾å­˜</td></tr><tr><td align="left"><code>--gpu-memory-utilization 0.8</code></td><td align="left">GPUå†…å­˜åˆ©ç”¨ç‡ä¸Šé™ï¼ˆ80%ï¼‰ï¼Œå¯æ ¹æ®æ˜¾å­˜å¤§å°è°ƒæ•´ï¼ˆå¦‚æ˜¾å­˜ä¸è¶³å¯æ”¹ä¸º0.7ï¼‰</td></tr></tbody></table><h4 id="å¯åŠ¨æˆåŠŸæ ‡è¯†"><a href="#å¯åŠ¨æˆåŠŸæ ‡è¯†" class="headerlink" title="å¯åŠ¨æˆåŠŸæ ‡è¯†"></a>å¯åŠ¨æˆåŠŸæ ‡è¯†</h4><p>è‹¥ç»ˆç«¯è¾“å‡º <code>INFO: Uvicorn running on http://0.0.0.0:6006</code>ï¼Œè¯´æ˜æœåŠ¡å·²æˆåŠŸå¯åŠ¨ï¼Œä¿æŒç»ˆç«¯çª—å£å¼€å¯ï¼ˆå…³é—­ç»ˆç«¯ä¼šç»ˆæ­¢æœåŠ¡ï¼‰ã€‚</p><h3 id="3-2-API-æœåŠ¡æµ‹è¯•ï¼ˆéªŒè¯éƒ¨ç½²æ•ˆæœï¼‰"><a href="#3-2-API-æœåŠ¡æµ‹è¯•ï¼ˆéªŒè¯éƒ¨ç½²æ•ˆæœï¼‰" class="headerlink" title="3.2 API æœåŠ¡æµ‹è¯•ï¼ˆéªŒè¯éƒ¨ç½²æ•ˆæœï¼‰"></a>3.2 API æœåŠ¡æµ‹è¯•ï¼ˆéªŒè¯éƒ¨ç½²æ•ˆæœï¼‰</h3><p>æœåŠ¡å¯åŠ¨åï¼Œé€šè¿‡ä»¥ä¸‹ä¸¤ç§æµ‹è¯•æ–¹å¼éªŒè¯æ˜¯å¦å¯æ­£å¸¸è°ƒç”¨ã€‚</p><h4 id="æµ‹è¯•1ï¼šåŸºç¡€æ¨¡å‹åˆ—è¡¨æŸ¥è¯¢"><a href="#æµ‹è¯•1ï¼šåŸºç¡€æ¨¡å‹åˆ—è¡¨æŸ¥è¯¢" class="headerlink" title="æµ‹è¯•1ï¼šåŸºç¡€æ¨¡å‹åˆ—è¡¨æŸ¥è¯¢"></a>æµ‹è¯•1ï¼šåŸºç¡€æ¨¡å‹åˆ—è¡¨æŸ¥è¯¢</h4><p>åœ¨æœ¬åœ°ç”µè„‘ç»ˆç«¯ï¼ˆæˆ–æœåŠ¡å™¨æ–°ç»ˆç«¯çª—å£ï¼‰æ‰§è¡Œä»¥ä¸‹ <code>curl</code> å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://&lt;ä½ çš„æœåŠ¡å™¨IP&gt;:6006/v1/models</span><br></pre></td></tr></table></figure><p><strong>æ›¿æ¢ <code>&lt;ä½ çš„æœåŠ¡å™¨IP&gt;</code> ä¸ºå®é™…å…¬ç½‘IP</strong>ï¼Œè‹¥è¿”å›åŒ…å« <code>&quot;id&quot;: &quot;qwen3-8b&quot;</code> çš„JSONæ ¼å¼æ•°æ®ï¼Œè¯´æ˜æœåŠ¡è¿è¡Œæ­£å¸¸ã€‚</p><h4 id="æµ‹è¯•2ï¼šå¯¹è¯åŠŸèƒ½æµ‹è¯•ï¼ˆå®é™…è°ƒç”¨æ¨¡å‹ç”Ÿæˆå›å¤ï¼‰"><a href="#æµ‹è¯•2ï¼šå¯¹è¯åŠŸèƒ½æµ‹è¯•ï¼ˆå®é™…è°ƒç”¨æ¨¡å‹ç”Ÿæˆå›å¤ï¼‰" class="headerlink" title="æµ‹è¯•2ï¼šå¯¹è¯åŠŸèƒ½æµ‹è¯•ï¼ˆå®é™…è°ƒç”¨æ¨¡å‹ç”Ÿæˆå›å¤ï¼‰"></a>æµ‹è¯•2ï¼šå¯¹è¯åŠŸèƒ½æµ‹è¯•ï¼ˆå®é™…è°ƒç”¨æ¨¡å‹ç”Ÿæˆå›å¤ï¼‰</h4><p>åœ¨æœ¬åœ°ç”µè„‘ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹ <code>curl</code> å‘½ä»¤ï¼Œå‘é€å¯¹è¯è¯·æ±‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">curl http://&lt;ä½ çš„æœåŠ¡å™¨IP&gt;:6006/v1/chat/completions \</span><br><span class="line">  -H <span class="string">&quot;Content-Type: application/json&quot;</span> \</span><br><span class="line">  -d <span class="string">&#x27;&#123;</span></span><br><span class="line"><span class="string">    &quot;model&quot;: &quot;qwen3-8b&quot;,</span></span><br><span class="line"><span class="string">    &quot;messages&quot;: [</span></span><br><span class="line"><span class="string">      &#123;&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;ä½ å¥½ï¼Œè¯·ç”¨ä¸€å¥è¯ä»‹ç»ä½ è‡ªå·±ã€‚&quot;&#125;</span></span><br><span class="line"><span class="string">    ]</span></span><br><span class="line"><span class="string">  &#125;&#x27;</span></span><br></pre></td></tr></table></figure><p>è‹¥è¿”å›åŒ…å«æ¨¡å‹å›å¤å†…å®¹çš„JSONæ•°æ®ï¼Œè¯´æ˜å¯¹è¯åŠŸèƒ½æ­£å¸¸ï¼Œç§æœ‰åŒ–éƒ¨ç½²APIæœåŠ¡æ­å»ºå®Œæˆã€‚</p><h2 id="å››ã€å¸¸è§é—®é¢˜ä¸é¿å‘æŒ‡å—"><a href="#å››ã€å¸¸è§é—®é¢˜ä¸é¿å‘æŒ‡å—" class="headerlink" title="å››ã€å¸¸è§é—®é¢˜ä¸é¿å‘æŒ‡å—"></a>å››ã€å¸¸è§é—®é¢˜ä¸é¿å‘æŒ‡å—</h2><ol><li><strong>ç«¯å£ä¸é€šï¼Œæ— æ³•è®¿é—®æœåŠ¡</strong><ul><li><strong>æ’æŸ¥æ­¥éª¤</strong>ï¼šâ‘  ç¡®è®¤æœåŠ¡å™¨å®‰å…¨ç»„&#x2F;é˜²ç«å¢™å·²æ”¾è¡Œ <code>6006</code> ç«¯å£ï¼ˆAutoDLåœ¨å®ä¾‹æ§åˆ¶å°ã€Œç«¯å£æ˜ å°„ã€ä¸­é…ç½®ï¼‰ï¼›â‘¡ ç¡®è®¤å¯åŠ¨å‘½ä»¤ä¸­ <code>--host</code> ä¸º <code>0.0.0.0</code>ï¼›â‘¢ ç¡®è®¤æœåŠ¡å™¨IPå¡«å†™æ­£ç¡®ï¼Œæ— ç«¯å£å·è¾“å…¥é”™è¯¯ã€‚</li></ul></li><li><strong>æ˜¾å­˜ä¸è¶³ï¼ˆOOMé”™è¯¯ï¼‰ï¼Œå¯åŠ¨å¤±è´¥</strong><ul><li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šâ‘  é™ä½ <code>--gpu-memory-utilization</code> å‚æ•°ï¼ˆå¦‚æ”¹ä¸º0.7æˆ–0.6ï¼‰ï¼›â‘¡ å°† <code>--dtype bfloat16</code> æ”¹ä¸º <code>--dtype float16</code>ï¼ˆè¿›ä¸€æ­¥èŠ‚çœæ˜¾å­˜ï¼Œå°‘é‡æŸå¤±æ•ˆæœï¼‰ï¼›â‘¢ ç§Ÿç”¨æ˜¾å­˜æ›´å¤§çš„GPUå®ä¾‹ï¼ˆå¦‚A100 40GBï¼‰ã€‚</li></ul></li><li><strong>å…³é—­ç»ˆç«¯åï¼ŒæœåŠ¡åœæ­¢è¿è¡Œ</strong><ul><li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šâ‘  ä½¿ç”¨ <code>nohup</code> å‘½ä»¤åå°è¿è¡Œï¼ˆå‘½ä»¤å‰åŠ  <code>nohup</code>ï¼Œç»“å°¾åŠ  <code>&amp;</code>ï¼Œæ—¥å¿—ä¿å­˜è‡³ <code>nohup.out</code>ï¼‰ï¼›â‘¡ å®‰è£… <code>tmux</code>&#x2F;<code>screen</code> å·¥å…·ï¼Œåˆ›å»ºä¼šè¯ä¿æŒæœåŠ¡è¿è¡Œï¼ˆé€‚åˆé•¿æœŸéƒ¨ç½²ï¼‰ã€‚</li></ul></li><li><strong>æœ¬åœ°ä»£ç è°ƒç”¨ç§æœ‰æ¨¡å‹</strong><ul><li><strong>æ ¸å¿ƒé…ç½®</strong>ï¼šå°†OpenAI SDKçš„ <code>api_base</code> æ”¹ä¸º <code>http://&lt;ä½ çš„æœåŠ¡å™¨IP&gt;:6006/v1</code>ï¼Œ<code>model</code> æ”¹ä¸º <code>qwen3-8b</code>ï¼Œå³å¯åƒè°ƒç”¨OpenAIå®˜æ–¹APIä¸€æ ·ä½¿ç”¨ç§æœ‰æ¨¡å‹ã€‚</li></ul></li></ol><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å¤§æ¨¡å‹çš„ç§æœ‰åŒ–éƒ¨ç½²ï¼ˆä¸€ï¼‰&quot;&gt;&lt;a href=&quot;#å¤§æ¨¡å‹çš„ç§æœ‰åŒ–éƒ¨ç½²ï¼ˆä¸€ï¼‰&quot; class=&quot;headerlink&quot; title=&quot;å¤§æ¨¡å‹çš„ç§æœ‰åŒ–éƒ¨ç½²ï¼ˆä¸€ï¼‰&quot;&gt;&lt;/a&gt;å¤§æ¨¡å‹çš„ç§æœ‰åŒ–éƒ¨ç½²ï¼ˆä¸€ï¼‰&lt;/h1&gt;&lt;h2 id=&quot;ä¸€ã€éƒ¨ç½²å‰æœŸå‡†å¤‡&quot;&gt;&lt;a href=&quot;#ä¸€ã€éƒ¨ç½²å‰</summary>
      
    
    
    
    <category term="ç¼–ç¨‹" scheme="https://yifei-huang-cos.github.io/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>æ€æˆ®å°–å¡”è®¾è®¡æ‹†è§£â€”â€”ä¸–ç•Œè§‚ç¯‡</title>
    <link href="https://yifei-huang-cos.github.io/posts/de29066e/"/>
    <id>https://yifei-huang-cos.github.io/posts/de29066e/</id>
    <published>2026-01-29T08:00:00.000Z</published>
    <updated>2026-01-29T09:16:07.643Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ã€Šæ€æˆ®å°–å¡”ã€‹è®¾è®¡æ‹†è§£â€”â€”ä¸–ç•Œè§‚ç¯‡"><a href="#ã€Šæ€æˆ®å°–å¡”ã€‹è®¾è®¡æ‹†è§£â€”â€”ä¸–ç•Œè§‚ç¯‡" class="headerlink" title="ã€Šæ€æˆ®å°–å¡”ã€‹è®¾è®¡æ‹†è§£â€”â€”ä¸–ç•Œè§‚ç¯‡"></a>ã€Šæ€æˆ®å°–å¡”ã€‹è®¾è®¡æ‹†è§£â€”â€”ä¸–ç•Œè§‚ç¯‡</h1><blockquote><h6 id="ç‰¹åˆ«é¸£è°¢ï¼š"><a href="#ç‰¹åˆ«é¸£è°¢ï¼š" class="headerlink" title="ç‰¹åˆ«é¸£è°¢ï¼š"></a>ç‰¹åˆ«é¸£è°¢ï¼š</h6><p>â€‹è´´å§å¤§ä½¬â€œå¥‡æ€ªçš„å“”å“©â€çš„ä¸–ç•Œè§‚åˆ†æè´´ï¼Œæœ¬æ–‡çš„åˆ†æåŸºäºç¬”è€…è‡ªå·±çš„æ¸¸ç©ä½“éªŒå’Œå¤§ä½¬å¯¹ç»†èŠ‚çš„è§£æã€‚æœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥åœ¨Bç«™è§‚çœ‹è§†é¢‘ç‰ˆï¼š</p><p>â€‹ã€ã€ä¸‡å­—è§£æã€‘ã€Šæ€æˆ®å°–å¡”ã€‹é“ç”²æˆ˜å£«èƒŒæ™¯æ•…äº‹åˆ†æã€‘</p><p> <a href="https://www.bilibili.com/video/BV18cFreWE2S/?share_source=copy_web&vd_source=507b3c58ff11ec91bc194db7b0cf2b55">https://www.bilibili.com/video/BV18cFreWE2S/?share_source=copy_web&amp;vd_source=507b3c58ff11ec91bc194db7b0cf2b55</a></p><p>â€‹ã€è¿˜åœ¨è¿·ä¿¡æ•…éšœæœºå™¨äººï¼Ÿå…¶å®è§‚è€…æ—©å°±ç™»ç¥ï¼ï¼šã€è§‚è€…ã€‘èƒŒæ™¯æ•…äº‹åˆ†æã€‘</p><p><a href="https://www.bilibili.com/video/BV1FcPdexE1N/?share_source=copy_web&vd_source=507b3c58ff11ec91bc194db7b0cf2b55">https://www.bilibili.com/video/BV1FcPdexE1N/?share_source=copy_web&amp;vd_source=507b3c58ff11ec91bc194db7b0cf2b55</a></p><p>â€‹ã€ä»¥å‡¡äººä¹‹å§¿ç‹©çŒä¸æœ½ä¹‹ç‰©ï¼šã€é™é»˜çŒæ‰‹ã€‘èƒŒæ™¯æ•…äº‹åˆ†æã€‘</p><p> <a href="https://www.bilibili.com/video/BV13cP1eyEcG/?share_source=copy_web&vd_source=507b3c58ff11ec91bc194db7b0cf2b55">https://www.bilibili.com/video/BV13cP1eyEcG/?share_source=copy_web&amp;vd_source=507b3c58ff11ec91bc194db7b0cf2b55</a></p><p>â€‹ã€è¶…è¶Šæ‰€æœ‰äººå·¥åˆ¶å“çš„æ— ä¸Šè‡³å°Šï¼šã€æ•…éšœæœºå™¨äººã€‘èƒŒæ™¯æ•…äº‹åˆ†æã€‘</p><p> <a href="https://www.bilibili.com/video/BV1FgN1eaED2/?share_source=copy_web&vd_source=507b3c58ff11ec91bc194db7b0cf2b55">https://www.bilibili.com/video/BV1FgN1eaED2/?share_source=copy_web&amp;vd_source=507b3c58ff11ec91bc194db7b0cf2b55</a></p></blockquote><h2 id="ä¸€ã€æ ¸å¿ƒè®¾è®¡ç›®æ ‡ï¼šç”¨ä¸–ç•Œè§‚æ„å»ºâ€œæ„ä¹‰æ„Ÿâ€"><a href="#ä¸€ã€æ ¸å¿ƒè®¾è®¡ç›®æ ‡ï¼šç”¨ä¸–ç•Œè§‚æ„å»ºâ€œæ„ä¹‰æ„Ÿâ€" class="headerlink" title="ä¸€ã€æ ¸å¿ƒè®¾è®¡ç›®æ ‡ï¼šç”¨ä¸–ç•Œè§‚æ„å»ºâ€œæ„ä¹‰æ„Ÿâ€"></a>ä¸€ã€æ ¸å¿ƒè®¾è®¡ç›®æ ‡ï¼šç”¨ä¸–ç•Œè§‚æ„å»ºâ€œæ„ä¹‰æ„Ÿâ€</h2><p>â€‹ä¸€ä¸ªä¼˜ç§€çš„æ¸¸æˆå¾€å¾€ç²¾å¿ƒæ„å»ºä¸€å¥—å®Œæ•´ä¸”é€»è¾‘è‡ªæ´½çš„ä¸–ç•Œè§‚ï¼Œå®ƒä¸ä»…ä¸ºæ¸¸æˆæä¾›äº†å¯ä¿¡çš„å™äº‹æ ¹åŸºä¸è¡ŒåŠ¨åŠ¨æœºï¼Œæ›´åœ¨æ— å½¢ä¸­å¼•å¯¼ç©å®¶è‡ªç„¶åœ°æ²‰æµ¸äºè™šæ‹Ÿæƒ…å¢ƒï¼Œæ·±åˆ»å¼ºåŒ–è§’è‰²ä»£å…¥æ„Ÿä¸æƒ…æ„Ÿè”ç»“ï¼Œæœ€ç»ˆä½¿æ¸¸æˆä½“éªŒè¶…è¶Šå•çº¯çš„ç©æ³•äº¤äº’ï¼Œæˆä¸ºä¸€æ®µå¯Œæœ‰æ„ä¹‰ã€ä»¤äººä¿¡æœä¸”å›å‘³æ‚ é•¿çš„æ²‰æµ¸å¼å™äº‹æ—…ç¨‹ã€‚</p><h3 id="1-1-ä¸ºä»€ä¹ˆéœ€è¦æœ‰ä¸€ä¸ªä¸–ç•Œè§‚"><a href="#1-1-ä¸ºä»€ä¹ˆéœ€è¦æœ‰ä¸€ä¸ªä¸–ç•Œè§‚" class="headerlink" title="1.1 ä¸ºä»€ä¹ˆéœ€è¦æœ‰ä¸€ä¸ªä¸–ç•Œè§‚"></a>1.1 ä¸ºä»€ä¹ˆéœ€è¦æœ‰ä¸€ä¸ªä¸–ç•Œè§‚</h3><p>â€‹ã€Šæ€æˆ®å°–å¡”ã€‹åœ¨è®¾è®¡ä¹‹åˆå°±é¢ä¸´Roguelikeå“ç±»çš„å›ºæœ‰ç—›ç‚¹ï¼šé‡å¤ä½“éªŒå®¹æ˜“ç–²åŠ³ã€å¤šèŒä¸šå®¹æ˜“åŒè´¨åŒ–ã€æ•°å€¼æˆé•¿ç¼ºä¹æƒ…æ„Ÿæ”¯æ’‘ã€ç©å®¶å†³ç­–ç¼ºä¹æ„ä¹‰æ„Ÿã€‚ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆå¾€å¾€æ˜¯å¢åŠ æ›´å¤šéšæœºå†…å®¹æˆ–è°ƒæ•´æ•°å€¼å¹³è¡¡ï¼Œä½†ã€Šæ€æˆ®å°–å¡”ã€‹é€‰æ‹©äº†æ›´æ ¹æœ¬çš„è§£æ³•â€”â€”<strong>å°†å™äº‹æ·±åº¦åµŒå…¥æ ¸å¿ƒç³»ç»Ÿ</strong>ã€‚</p><pre class="mermaid">flowchart TD       B{æ€æˆ®å°–å¡”è§£å†³æ–¹æ¡ˆ}    B --> D[å™äº‹ç³»ç»ŸåŒ–è®¾è®¡]    D --> E[æ¯æ¬¡çˆ¬å¡”éƒ½æ˜¯è§’è‰²ä¸ªäººå²è¯—]    D --> F[æ¯ä¸ªèŒä¸šéƒ½æ˜¯å®Œæ•´å™äº‹åŸå‹]    D --> G[æ„ç­‘è¿‡ç¨‹å°±æ˜¯è§’è‰²å‘½è¿å¡‘é€ ]    D --> H[æ¯æ¬¡é€‰æ‹©éƒ½æ˜¯è§’è‰²æ€§æ ¼ä½“ç°]</pre><h3 id="1-2-ä¸–ç•Œè§‚å¸¦æ¥äº†ä»€ä¹ˆï¼Ÿ"><a href="#1-2-ä¸–ç•Œè§‚å¸¦æ¥äº†ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1.2 ä¸–ç•Œè§‚å¸¦æ¥äº†ä»€ä¹ˆï¼Ÿ"></a>1.2 ä¸–ç•Œè§‚å¸¦æ¥äº†ä»€ä¹ˆï¼Ÿ</h3><p>åœ¨ã€Šæ€æˆ®å°–å¡”ã€‹ä¸­ï¼Œç©å®¶çš„æ¯ä¸€ä¸ªæ¸¸æˆå†³ç­–éƒ½è¢«èµ‹äºˆäº†åŒé‡æ„ä¹‰ã€‚ä¾‹å¦‚é€‰æ‹©æˆ˜å£«èŒä¸šæ—¶ï¼Œå½“ç©å®¶é€‰æ‹©ä¸€å¼ â€œè…åŒ–â€å¡ç‰Œæ—¶ï¼Œè¿™ä¸ä»…æ˜¯é€‰æ‹©äº†â€œç‰ºç‰²é˜²å¾¡æ¢å–çˆ†å‘â€çš„æ¸¸æˆç­–ç•¥ï¼Œæ›´æ˜¯é€‰æ‹©äº†è®©è§’è‰²â€œå‘æ¶é­”åŠ›é‡å±ˆæœâ€çš„å™äº‹è·¯å¾„ã€‚è¿™ç§è®¾è®¡åˆ›é€ äº†ç‹¬ç‰¹çš„å†³ç­–å¾ªç¯ï¼š</p><p><strong>é€‰æ‹©å¡ç‰Œ&#x2F;é—ç‰© â†’ ç†è§£å™äº‹æ„ä¹‰ â†’ å¢å¼ºæ²‰æµ¸ä½“éªŒ â†’ å½±å“åç»­é€‰æ‹©</strong></p><h2 id="äºŒã€ä¸–ç•Œè§‚ç³»ç»ŸåŒ–è®¾è®¡æ¡†æ¶"><a href="#äºŒã€ä¸–ç•Œè§‚ç³»ç»ŸåŒ–è®¾è®¡æ¡†æ¶" class="headerlink" title="äºŒã€ä¸–ç•Œè§‚ç³»ç»ŸåŒ–è®¾è®¡æ¡†æ¶"></a>äºŒã€ä¸–ç•Œè§‚ç³»ç»ŸåŒ–è®¾è®¡æ¡†æ¶</h2><h3 id="2-1-è§’è‰²è®¾è®¡ï¼šå™äº‹ä½œä¸ºå·®å¼‚åŒ–éª¨æ¶"><a href="#2-1-è§’è‰²è®¾è®¡ï¼šå™äº‹ä½œä¸ºå·®å¼‚åŒ–éª¨æ¶" class="headerlink" title="2.1 è§’è‰²è®¾è®¡ï¼šå™äº‹ä½œä¸ºå·®å¼‚åŒ–éª¨æ¶"></a>2.1 è§’è‰²è®¾è®¡ï¼šå™äº‹ä½œä¸ºå·®å¼‚åŒ–éª¨æ¶</h3><h4 id="2-1-1-æˆ˜å£«ï¼šä»å •è½èµ°å‘è¶…è¶Šçš„å¤ä»‡è€…"><a href="#2-1-1-æˆ˜å£«ï¼šä»å •è½èµ°å‘è¶…è¶Šçš„å¤ä»‡è€…" class="headerlink" title="2.1.1 æˆ˜å£«ï¼šä»å •è½èµ°å‘è¶…è¶Šçš„å¤ä»‡è€…"></a><strong>2.1.1 æˆ˜å£«ï¼šä»å •è½èµ°å‘è¶…è¶Šçš„å¤ä»‡è€…</strong></h4><p>â€‹æˆ˜å£«çš„çš„æ ¸å¿ƒçŸ›ç›¾åœ¨äºåŠ›é‡ä¸ä»£ä»·çš„æ°¸æ’åšå¼ˆï¼Œæ˜¯å‘æ¶é­”ä½å¤´ï¼Œè¿˜æ˜¯è¶…è¶Šè‡ªæˆ‘ï¼Ÿ</p><p><strong>åŠ›é‡è¿›åŒ–å››é˜¶æ®µï¼š</strong></p><ol><li><p><strong>å‡¡äººä¹‹åŠ›é˜¶æ®µ</strong>ï¼š</p><p>ç™½å¡æ­¦è£…ã€å®Œç¾æ‰“å‡»ã€æ—‹é£æ–©ï¼Œæ•ˆæœæ‰å®ä¸”æœ´å®æ— åï¼Œå±•ç°æˆ˜å£«ä¸€å¼€å§‹ä½œä¸ºä¸€ä¸ªæ™®é€šçš„å†›äººï¼Œä»–æ‰€æ‹¥æœ‰çš„æ‰å®çš„æˆ˜æ–—ç´ å…»ï¼›</p></li><li><p><strong>æ¶é­”ä¹‹åŠ›é˜¶æ®µ</strong>ï¼š</p><p>æˆ˜å£«å‘æ¶é­”çŒ®ç¥­çµé­‚ï¼Œè·å–æ›´åŠ å¼ºå¤§çš„åŠ›é‡ã€‚ç¥­å“æ˜¯æˆ˜å£«å¼€å§‹çŒ®ç¥­è‡ªå·±ï¼ˆåœ¨æ¸¸æˆé‡Œå…·ä½“è¡¨ç°ä¸ºæ”¯ä»˜ç”Ÿå‘½å€¼ä¸ºä»£ä»·ï¼Œå›èƒ½ä¸æŠ½ç‰Œï¼‰é»‘æš—ä¹‹æ‹¥è¡¨ç°äº†æˆ˜å£«å¼€å§‹æ‹¥æŠ±é»‘æš—çš„ä¸€é¢ï¼ˆç»™æˆ˜å£«å¼ºå¤§çš„è¿‡ç‰Œèƒ½åŠ›ï¼‰ï¼Œè…åŒ–ä»£è¡¨æˆ˜å£«æŠ›å¼ƒè‡ªå·±çš„è¿‡å¾€ï¼Œå°†çµé­‚çŒ®ä¸æ¶é­”ä»¥è·å¾—å¼ºå¤§çš„åŠ›é‡ï¼ˆæ‰€æœ‰æŠ€èƒ½ç‰Œå˜0è´¹ä¸”æ¶ˆè€—ï¼‰ï¼Œæ¶é­”å½¢æ€æ›´æ˜¯ç›´æ¥å±•ç¤ºæˆ˜å£«æ¶å •æˆé­”çš„å¯èƒ½æ€§ï¼›</p></li><li><p><strong>çµé­‚ä¹‹åŠ›é˜¶æ®µ</strong>ï¼š</p><p>é‡æŒ¯ç²¾ç¥ï¼Œå²¿ç„¶ä¸åŠ¨ï¼Œæ–­é­‚æ–©ç­‰ç‰Œï¼Œè¡¨ç°æˆ˜å£«å¯¹å…‰æ˜ä¸è‡ªæˆ‘çš„å‘ç°ï¼ŒæŠ›å¼ƒä¸æ¶é­”çš„äº¤æ˜“ï¼Œè€Œæ˜¯å»å¯»æ±‚è‡ªæˆ‘æ•‘èµä¸è‡ªæˆ‘è¶…è¶Šçš„å¯èƒ½ï¼›</p></li><li><p><strong>èåˆä¹‹åŠ›é˜¶æ®µ</strong>ï¼š</p><p>é€šå…³å°–å¡”åï¼Œç»“å±€çš„ç´«è‰²ç«ç„°è±¡å¾å¯¹æ¶é­”ä¹‹åŠ›çš„æœ€ç»ˆæŒæ§ï¼Œä¸å†å—æ¶é­”å½±å“ï¼Œå®Œæˆäº†æ–°ç”Ÿä¸è¶…è¶Š</p></li></ol><pre class="mermaid">graph LR    A[å‡¡äººä¹‹åŠ›<br>çº¢è‰²ï¼Œå†›äº‹æ­¦è‰º] --> B[æ¶é­”ä¹‹åŠ›<br>çº¢â†’é»‘ï¼Œå¥‘çº¦å •è½]    B --> C[çµé­‚ä¹‹åŠ›<br>è“è‰²ï¼Œè‡ªæˆ‘è§‰é†’]    C --> D[èåˆä¹‹åŠ›<br>ç´«è‰²ï¼Œæ–°ç”Ÿè¶…è¶Š]        style A fill:#ffcccc    style B fill:#333333,color:#ffffff    style C fill:#ccccff    style D fill:#cc99ff</pre><h4 id="2-1-2-é™é»˜çŒæ‰‹ï¼šä»¥æŠ€è‰ºå¯¹æŠ—è¶…å‡¡çš„æ™ºè€…"><a href="#2-1-2-é™é»˜çŒæ‰‹ï¼šä»¥æŠ€è‰ºå¯¹æŠ—è¶…å‡¡çš„æ™ºè€…" class="headerlink" title="2.1.2 é™é»˜çŒæ‰‹ï¼šä»¥æŠ€è‰ºå¯¹æŠ—è¶…å‡¡çš„æ™ºè€…"></a><strong>2.1.2 é™é»˜çŒæ‰‹ï¼šä»¥æŠ€è‰ºå¯¹æŠ—è¶…å‡¡çš„æ™ºè€…</strong></h4><p>çŒæ‰‹çš„è®¾è®¡æŠ›å‡ºäº†ä¸€ä¸ªæ ¸å¿ƒå‘½é¢˜ï¼š<strong>å‡¡äººèƒ½å¦å‡­å€Ÿæ™ºæ…§ä¸æŠ€è‰ºå¯¹æŠ—è¶…å‡¡å­˜åœ¨ï¼Ÿ</strong> è¿™ä¸ªè§’è‰²çš„æ‰€æœ‰æœºåˆ¶éƒ½æœåŠ¡äºè¿™ä¸€å™äº‹ä¸»é¢˜ã€‚</p><p><strong>æœºåˆ¶ä¸å™äº‹çš„ç²¾å‡†å¯¹åº”ï¼š</strong></p><ul><li><p><strong>ä¸¢å¼ƒæœºåˆ¶</strong>ï¼šâ€œä¸“æ³¨è¦å®³ï¼Œæ‘’å¼ƒæ‚å¿µâ€çš„çŒæ‰‹æ€ç»´ â†’ æ¸¸æˆä¸­çš„è¿‡æ»¤ç‰Œåº“ç­–ç•¥</p><ul><li>æ‚æŠ€ã€æœ¬èƒ½ååº”ç­‰ç‰Œï¼Œä½œä¸ºæŠ½ç‰Œå¡ï¼Œå¡é¢çš„æè¿°ä¸æ’ç”»æ— ä¸€ä¸å±•ç°çŒæ‰‹çš„çµæ•ï¼Œåœ¨æ¸¸æˆé‡Œä½“ç°çš„æ˜¯è¶…è¶Šå…¶ä»–èŒä¸šçš„å¤§è¿‡ç‰Œï¼›è€Œä¸¢å¼ƒè¿™ä¸€æ¦‚å¿µè¡¨ç°çŒäººå¯¹äºæˆ˜æ–—çš„ä¸“æ³¨ï¼Œæ‘’å¼ƒæ‚å¿µï¼Œè€Œåœ¨æ¸¸æˆä¸­åˆ™ä½“ç°åœ¨â€œæœ¬èƒ½ååº”ï¼ˆå¼ƒç½®æ­¤ç‰ŒæŠ½3å¼ ï¼‰â€å’Œâ€œæˆ˜æœ¯å¤§å¸ˆï¼ˆå¼ƒç½®æ­¤ç‰Œå›2è´¹ï¼‰â€è¿™ä¸¤å¼ å¼ƒç‰Œä½“ç³»çš„æ ¸å¿ƒå¡ã€‚</li></ul></li><li><p><strong>å°åˆ€æµ</strong>ï¼šâ€œé«˜é¢‘ä½ä¼¤ï¼ŒæŠ€å·§è‡³ä¸Šâ€çš„æˆ˜æ–—å“²å­¦     â†’ é¢‘ç‡ä¹˜åŒºçš„æ„ç­‘æ€è·¯</p><ul><li><p>å’Œå…¶ä½™èŒä¸šçš„å¼ºå¤§è®¾å®šä¸åŒï¼ŒçŒäººæ˜¯éƒ¨æ—ä¸­çš„ä½¼ä½¼è€…ï¼Œä½†æ¯•ç«Ÿåªæ˜¯å‡¡äººä¹‹èº¯ï¼Œä¸ºäº†å¯¹æŠ—æ•Œäººï¼ŒçŒäººéœ€è¦æè‡´çš„æˆ˜æ–—æŠ€å·§ã€‚åˆ€åˆƒä¹‹èˆï¼ˆè·å¾—å››æŠŠ0è´¹çš„å°åˆ€ï¼‰é…åˆèƒ½åŠ›ç‰Œç²¾å‡†ï¼ˆå°åˆ€ä¼¤å®³å¢åŠ ï¼‰å’Œé—ç‰©è¢–ç®­ï¼ˆ0è´¹æ”»å‡»ç‰Œä¼¤å®³å¢åŠ ï¼‰ï¼Œæ­£æ˜¯å±•ç°äº†çŒäººè¿™ä¸€ç‰¹ç‚¹â€”â€”</p><p>å°½ç®¡æ²¡æœ‰ç‰¹åˆ«çš„åŠ›é‡ï¼ˆå°åˆ€çš„åˆå§‹ä¼¤å®³ä¸é«˜ï¼‰ï¼Œä½†é•¿æœŸçš„è®­ç»ƒè®©çŒäººçš„å‡†åº¦å¢åŠ ï¼ˆè¡¨ç°ä¸ºç²¾å‡†ï¼‰ï¼Œæ­é…æ­¦å™¨è¢–ç®­ï¼Œä¹Ÿèƒ½æ‰“å‡ºçˆ†ç‚¸çš„ä¼¤å®³ã€‚</p></li></ul></li><li><p><strong>æ¯’è¯ç³»ç»Ÿ</strong>ï¼šâ€œæ™ºæ…§å¼¥è¡¥åŠ›é‡ä¸è¶³â€çš„ç”Ÿå­˜ç­–ç•¥     â†’ å±‚æ•°ç§¯ç´¯çš„ä¼¤å®³æ–¹å¼</p><ul><li>æ¯’è´¼åˆ™å±•ç¤ºçŒæ‰‹çš„å¦ä¸€é¢ï¼šç¼œå¯†çš„å¤´è„‘ä¸ç²¾å¯†å¦‚åŒ–å­¦å®éªŒèˆ¬çš„æˆ˜æœ¯æ€ç»´ï¼Œæ“…é•¿ä»¥å·§å–èƒœã€ä»¥æ™ºå…‹åŠ›ã€‚ä¾‹å¦‚â€œæ¶‚æ¯’â€ï¼ˆæ¯æ¬¡æ”»å‡»é™„å¸¦ä¸€ç‚¹æ¯’ï¼‰è¿™å¼ èƒ½åŠ›å¡ï¼Œä½¿æ¯’ç´ èˆ¬åœ¨æ•Œäººä½“å†…ç¼“æ…¢ç´¯ç§¯ã€æŒç»­ç”Ÿæ•ˆã€‚è€Œå¾…åˆ°æ¯’è‡³ä¸´ç•Œæ—¶ï¼Œâ€œå‚¬åŒ–å‰‚â€ï¼ˆæ¯’å±‚æ•°ç¿»è‡³ä¸‰å€ï¼‰å¡ç‰Œçš„åŠ å…¥ï¼Œæ›´è®©æ¯’æ€§å¦‚è¿é”ååº”èˆ¬éª¤ç„¶çˆ†å‘ï¼Œè¿™æ­£æ˜¯çŒæ‰‹åœ¨å®æˆ˜ä¸­ç²¾äºè®¡ç®—ã€è€å¿ƒå¸ƒå±€ï¼Œæœ€ç»ˆä¸€å‡»åˆ¶æ•Œçš„æ€ç»´ä½“ç°â€”â€”å¥¹ä¸é è›®åŠ›ç¢¾å‹ï¼Œè€Œæ˜¯åœ¨æœ€æ°å½“çš„æ—¶æœºå¼•çˆ†æœ€å‰§çƒˆçš„ååº”ã€‚è¿™ç§æˆ˜æ–—é£æ ¼ï¼Œæ—¢æ˜¯å¯¹â€œçŒäººâ€ä¹‹åçš„çœŸæ­£è¯ é‡Šï¼Œä¹Ÿæ˜¯å¯¹â€œæ™ºæ…§èƒœäºåŠ›é‡â€è¿™ä¸€æ ¸å¿ƒå™äº‹çš„å®Œç¾ç»­å†™ã€‚</li></ul></li><li><p><strong>å¹½é­‚å½¢æ€</strong>ï¼šâ€œå‘çŒç‰©å­¦ä¹ è¶…å‡¡â€çš„æˆé•¿è·¯å¾„         â†’ è·å¾—æ— æ•Œé˜²å¾¡çš„èƒ½åŠ›</p><ul><li>è¿™æ˜¯çŒäººæœ€å¯æ€•ä¹‹å¤„ï¼Œå¥¹ä¼šä»å¯¹æ‰‹é‚£é‡Œå­¦åˆ°å¯¹æ–¹æœ€å¼•ä»¥ä¸ºå‚²çš„ä¼˜ç‚¹ã€‚å››å¤§å½¢æ€ä¸­ä¹Ÿå±çŒæ‰‹å­¦ä¼šçš„å¹½é­‚å½¢æ€æœ€ä¸ºå¼ºå¤§å’Œæ³›ç”¨ã€‚</li></ul></li></ul><h4 id="2-1-3-æ•…éšœæœºå™¨äººï¼šæ–‡æ˜é—äº§çš„ç»§æ‰¿è€…"><a href="#2-1-3-æ•…éšœæœºå™¨äººï¼šæ–‡æ˜é—äº§çš„ç»§æ‰¿è€…" class="headerlink" title="2.1.3 æ•…éšœæœºå™¨äººï¼šæ–‡æ˜é—äº§çš„ç»§æ‰¿è€…"></a><strong>2.1.3 æ•…éšœæœºå™¨äººï¼šæ–‡æ˜é—äº§çš„ç»§æ‰¿è€…</strong></h4><p>åœ¨æ€æˆ®å°–å¡”çš„ä¸–ç•Œè§‚é‡Œï¼Œæ•…éšœæœºå™¨äººä»£è¡¨äº†å…ˆå¤ä¹‹æ°‘ç§‘æŠ€ä¸é­”æ³•ç»“åˆçš„å·…å³°æˆå°±ï¼Œå…¶è®¾è®¡å›´ç»•â€œæŒ‡æ•°æˆé•¿â€å’Œâ€œæ–‡æ˜ç»§æ‰¿â€ä¸¤ä¸ªæ ¸å¿ƒä¸»é¢˜å±•å¼€ã€‚ç”±äºç¬”è€…å¯¹æœºå™¨äººçš„ç†è§£ä¸ç”šç²¾é€šï¼Œæ–‡æœ¬ä¹Ÿæœªä»”ç»†ç ”ç©¶ï¼Œå› æ­¤åªåšç®€è¦æ¦‚è¿°ï¼š</p><pre class="mermaid">journey    title æœºå™¨äººçš„ä¸‰é˜¶æ®µæˆé•¿ä½“éªŒ    section å¯åŠ¨æœŸ      å¤ä»£é€ ç‰©è‹é†’: 5      èƒ½åŠ›ç‰Œå»¶è¿Ÿæ”¶ç›Š: 3      â€œéœ€è¦è€å¿ƒå¸ƒå±€â€: 2    section æˆé•¿æœŸ      ç³»ç»Ÿæƒé™è·å–: 5      é›†ä¸­åŠ›ä¹˜æ³•æ•ˆåº”: 4      â€œå¼€å§‹äº§ç”Ÿè´¨å˜â€: 4    section å·…å³°æœŸ      ç»§æ‰¿æ–‡æ˜é—äº§: 5      æ— é™çƒ/é€’å½’å¾ªç¯: 5      â€œæˆ‘æ˜¯å¤©ç¾â€: 5</pre><h4 id="2-1-4-è§‚è€…ï¼šä»å‡¡èº¯åˆ°ç¥åŸŸçš„é€šç¥è€…"><a href="#2-1-4-è§‚è€…ï¼šä»å‡¡èº¯åˆ°ç¥åŸŸçš„é€šç¥è€…" class="headerlink" title="2.1.4 è§‚è€…ï¼šä»å‡¡èº¯åˆ°ç¥åŸŸçš„é€šç¥è€…"></a><strong>2.1.4 è§‚è€…ï¼šä»å‡¡èº¯åˆ°ç¥åŸŸçš„é€šç¥è€…</strong></h4><p>è§‚è€…çš„è®¾è®¡å±•ç°äº†æ¸¸æˆä¸­æœ€å®Œæ•´çš„æˆé•¿é˜¶æ¢¯ï¼Œä»å‡¡äººçš„æˆ˜æ–—æŠ€å·§åˆ°è§¦åŠç¥åŸŸçš„é€šç¥èƒ½åŠ›ï¼Œæ¯ä¸€æ­¥éƒ½æœ‰æ¸…æ™°çš„å™äº‹æ”¯æ’‘ã€‚</p><p><strong>åŠ›é‡æˆé•¿çš„å››ä¸ªé˜¶æ¢¯ï¼š</strong></p><ol><li><p><strong>å‡¡äººä¹‹èº¯</strong>ï¼š</p><p>â€‹ç–¾é£è¿å‡»ã€ç²‰ç¢å…³èŠ‚ã€æ´è§ç­‰ç‰Œï¼Œæ˜¯è§‚è€…ä½œä¸ºä¸€ä½æˆ˜æ–—è€…æ‰€æ‹¥æœ‰çš„åŸºæœ¬ç´ è´¨ï¼Œå®ƒä»¬åœ¨æ¸¸æˆä¸­ä¹Ÿå¤§å¤šè¡¨ç°ä¸ºç™½å¡ï¼›</p></li><li><p><strong>å¿ƒçµä¹‹åŠ›</strong>ï¼š</p><p>â€‹å§¿æ€åˆ‡æ¢ã€æƒ…ç»ªåŒ–ä¸ºåŠ›é‡ã€‚æ„¤æ€’è®©è§‚è€…çš„è¾“å‡ºèƒ½åŠ›ç¿»å€ï¼Œå¹³é™åˆ™ç»™è§‚è€…æä¾›èƒ½é‡ã€‚å…¶å®åè€…æœ‰ç‚¹ç¬¦åˆä¸œæ–¹çš„ç¦…ä¿®å“²å­¦ï¼›</p></li><li><p><strong>è§„åˆ™æ“æ§</strong>ï¼š</p><p>â€‹ä¿ç•™æœºåˆ¶ã€ç°å®æ‰¹å‡†ã€‚è§‚è€…æ˜¯4ä½ä¸­æœ€æ¥è¿‘æ‰€è°“â€œç¥â€çš„å­˜åœ¨ï¼Œå¥¹èƒ½å¤Ÿä¿ç•™åŠ›é‡ï¼ˆåœ¨æ¸¸æˆé‡Œä½“ç°ä¸ºå¡ç‰Œï¼‰ï¼Œç­‰åˆ°åˆé€‚çš„æ—¶æœºå´½ä½¿ç”¨ï¼›å¥¹åœ¨æ¸¸æˆä¸­æœ‰æ“çºµç°å®ï¼ˆç»™æ–°åŠ å…¥çš„å¡å‡çº§ï¼‰å’Œç¡®ç«‹åŸºç¡€ï¼ˆæ‰€æœ‰ä¿ç•™çš„å¡å‡è´¹ï¼‰è¿™ä¸¤å¼ å¡ï¼Œä½“ç°äº†å¥¹è‡ªå·±è¶…è„±äºç°å®çš„åŠ›é‡ã€‚</p></li><li><p><strong>ç¥åŸŸè§¦åŠ</strong>ï¼š</p><p>â€‹çœŸè¨€ç§¯ç´¯ã€ç¥æ ¼å½¢æ€ã€‚ç¥æ ¼ä½“ç³»ä»æ–‡æœ¬è®¾è®¡ä¸Šå€’æ˜¯æœ‰è¶£ï¼Œæ•¬æ‹œã€ç¥ˆç¥·ã€äº”ä½“æŠ•åœ°è¿™å‡ å¼ å¡ç§¯ç´¯ä¸€å®šçœŸè¨€åè¿›å…¥ç¥æ ¼ï¼Œè±¡å¾è§‚è€…çš„è™”è¯šï¼Œåœ¨ä¸€æ­¥æ­¥æœåœ£ä¸­è·å¾—ç¥åŠ›ï¼›è€Œæ¸ç¥è¿™å¼ å¡è®¾è®¡çš„å¾ˆæœ‰è¶£ï¼Œç«‹å³è¿›å…¥ç¥æ ¼ï¼Œä½†ä¸‹å›åˆä¼šæ­»äº¡ï¼Œè¿™å±•ç°è§‚è€…å¯¹åœ¨é«˜å¡”ä¸­é€æ¸å‘ç°çœŸç›¸ï¼Œå¯¹æ‰€è°“â€™â€˜ç¥â€œå¤±å»ä¿¡ä»°ã€‚ç»“å±€é‡Œè§‚è€…çå¼€ç´«é‡‘è‰²çš„çœ¼ï¼Œæš—ç¤ºè§‚è€…å¯èƒ½ä¾ç„¶ç™»ç¥ã€‚</p></li></ol><h3 id="2-2-è¿›ç¨‹è®¾è®¡ï¼šä¸‰å±‚ç»“æ„çš„å™äº‹èŠ‚å¥"><a href="#2-2-è¿›ç¨‹è®¾è®¡ï¼šä¸‰å±‚ç»“æ„çš„å™äº‹èŠ‚å¥" class="headerlink" title="2.2 è¿›ç¨‹è®¾è®¡ï¼šä¸‰å±‚ç»“æ„çš„å™äº‹èŠ‚å¥"></a>2.2 è¿›ç¨‹è®¾è®¡ï¼šä¸‰å±‚ç»“æ„çš„å™äº‹èŠ‚å¥</h3><h4 id="2-2-1-ç²¾å¿ƒç¼–æ’çš„ä¸‰å±‚ç»“æ„"><a href="#2-2-1-ç²¾å¿ƒç¼–æ’çš„ä¸‰å±‚ç»“æ„" class="headerlink" title="2.2.1 ç²¾å¿ƒç¼–æ’çš„ä¸‰å±‚ç»“æ„"></a><strong>2.2.1 ç²¾å¿ƒç¼–æ’çš„ä¸‰å±‚ç»“æ„</strong></h4><p>ã€Šæ€æˆ®å°–å¡”ã€‹çš„é«˜å¡”ä¸‰å±‚ä¸ä»…æ˜¯éš¾åº¦é€’è¿›ï¼Œæ›´æ˜¯<strong>å™äº‹èŠ‚å¥çš„ç²¾å¿ƒç¼–æ’</strong>ã€‚è®©éš¾åº¦é€å±‚é€’è¿›çš„é€»è¾‘æ›´åŠ åˆç†ï¼Œä¹Ÿæ›´æ˜“äºç©å®¶æ¥å—</p><p><strong>ç¬¬ä¸€å±‚ï¼šåºŸå¢Ÿä¸å¥ åŸº</strong></p><ul><li><strong>å™äº‹æ°›å›´</strong>ï¼šåˆæ¢é—è¿¹ï¼Œç›¸å¯¹å®‰å…¨ï¼Œé‡åˆ°çš„åªæœ‰å’”å’”ã€æ¯›æ¯›è™«ï¼Œå°åœ°ç²¾ä¹‹ç±»çš„å°æ€ª</li><li><strong>è®¾è®¡ç›®æ ‡</strong>ï¼šæ•™å­¦ä¸æ„ç­‘å¥ åŸº</li><li><strong>ç²¾è‹±å¼•å¯¼</strong>ï¼šå°çº¢ï¼ˆè¦æ±‚æ”»å‡»æµ“åº¦ï¼‰ã€ä¸‰æŸ±ï¼ˆè¦æ±‚AOEèƒ½åŠ›ï¼‰</li></ul><p><strong>ç¬¬äºŒå±‚ï¼šåŸå¸‚ä¸å‹åŠ›</strong></p><ul><li><strong>å™äº‹æ°›å›´</strong>ï¼šæ·±å…¥æ–‡æ˜è…¹åœ°ï¼Œå±é™©åŠ å‰§ï¼Œä½ å°†ä¼šé‡åˆ°å¤æ–‡æ˜ç•™ä¸‹çš„æœºå™¨é€ ç‰©ï¼Œä»åœ¨å¡”å†…å±…ä½çš„ç›—è´¼ï¼Œå¥´éš¶è´©å­ç­‰å±é™©äººç¾¤</li><li><strong>è®¾è®¡ç›®æ ‡</strong>ï¼šå¤šç»´å‹åŠ›æµ‹è¯•</li><li><strong>å‹åŠ›æ¥æº</strong>ï¼šè¡€é‡å‹åŠ›ã€çŠ¶æ€å‹åŠ›ã€ç‰Œåº“æ±¡æŸ“ã€ç»æµå‹åŠ›</li></ul><p><strong>ç¬¬ä¸‰å±‚ï¼šæ—¶ç©ºä¸æ£€éªŒ</strong></p><ul><li><strong>å™äº‹æ°›å›´</strong>ï¼šè§„åˆ™å´©åï¼Œæ¥è¿‘æ ¸å¿ƒï¼Œä½ ä¼šé‡åˆ°å·¨å¤§çš„å€’ä¸‹çš„å¤´é¢…ï¼Œä¿¡ä»°è›‡è¿™ä¸€å›¾è…¾çš„è›‡å¥³ï¼Œä»¥åŠå„ç§å¥‡å½¢æ€ªçŠ¶çš„æ€ªç‰©</li><li><strong>è®¾è®¡ç›®æ ‡</strong>ï¼šæ„ç­‘å®Œæ•´æ€§æ£€éªŒ</li><li><strong>BOSSè€ƒå®˜</strong>ï¼šæ¯ä¸ªBOSSæ£€éªŒç‰Œç»„çš„ä¸åŒæ–¹é¢</li></ul><h4 id="2-2-2-å¿ƒè„æˆ˜ï¼šç»ˆæå™äº‹é«˜æ½®"><a href="#2-2-2-å¿ƒè„æˆ˜ï¼šç»ˆæå™äº‹é«˜æ½®" class="headerlink" title="2.2.2 å¿ƒè„æˆ˜ï¼šç»ˆæå™äº‹é«˜æ½®"></a><strong>2.2.2 å¿ƒè„æˆ˜ï¼šç»ˆæå™äº‹é«˜æ½®</strong></h4><p>å¿ƒè„ä½œä¸ºæœ€ç»ˆBOSSï¼Œä¸ä»…æ˜¯éš¾åº¦é¡¶å³°ï¼Œæ›´æ˜¯<strong>å™äº‹ä¸»é¢˜çš„é›†å¤§æˆè€…</strong>ã€‚å…¶å››é¡¹æœºåˆ¶å„è‡ªå¯¹åº”ä¸åŒçš„æ£€éªŒç»´åº¦å’Œå™äº‹éšå–»ï¼š</p><pre class="mermaid">graph TD    subgraph A[å¿ƒè„æœºåˆ¶è®¾è®¡]        B[å¾‹åŠ¨æœºåˆ¶] --> C[å¼ºåˆ¶è¦æ±‚é˜²å¾¡æµ“åº¦<br>éšå–»ï¼šåŠ›é‡çš„åå™¬]        D[åšä¸å¯æ‘§] --> E[æœç»é€Ÿæ€å¯èƒ½<br>éšå–»ï¼šçœŸæ­£çš„è€åŠ›è€ƒéªŒ]        F[çŠ¶æ€æ±¡æŸ“] --> G[æ£€éªŒç‰Œåº“çº¯å‡€åº¦<br>éšå–»ï¼šæ··ä¹±ä¸­çš„æ¸…é†’]        H[é«˜æˆé•¿] --> I[è®¾ç½®è½¯å›åˆé™åˆ¶<br>éšå–»ï¼šæ—¶é—´çš„å‹åŠ›]    end        subgraph J[è®¾è®¡ç›®çš„]        K[å…¨é¢éªŒæ”¶ç‰Œç»„<br>æ”»é˜²è¿è½¬æ¸…çŠ¶æ€å…¨é¢è¾¾æ ‡]    end        A --> J</pre><h3 id="2-3-éšæœºç³»ç»Ÿï¼šç¢ç‰‡å™äº‹çš„å¼•å¯¼åŠ›"><a href="#2-3-éšæœºç³»ç»Ÿï¼šç¢ç‰‡å™äº‹çš„å¼•å¯¼åŠ›" class="headerlink" title="2.3 éšæœºç³»ç»Ÿï¼šç¢ç‰‡å™äº‹çš„å¼•å¯¼åŠ›"></a>2.3 éšæœºç³»ç»Ÿï¼šç¢ç‰‡å™äº‹çš„å¼•å¯¼åŠ›</h3><p>æ€æˆ®å°–å¡”çš„å™äº‹ä»æ¥ä¸æ˜¯è¿è´¯çš„ï¼Œå®ƒå¾€å¾€åœ¨é—ç‰©æ–‡æœ¬ï¼Œå¡é¢æ’ç”»å’Œé—®å·äº‹ä»¶ä¸­ï¼Œè®©ç©å®¶ä¸€æ­¥ä¸€æ­¥æ‹¼å‡‘äº‹ä»¶çš„çœŸç›¸</p><h4 id="2-3-1-äº‹ä»¶ç³»ç»Ÿçš„å™äº‹åŒ–é‡æ„"><a href="#2-3-1-äº‹ä»¶ç³»ç»Ÿçš„å™äº‹åŒ–é‡æ„" class="headerlink" title="2.3.1 äº‹ä»¶ç³»ç»Ÿçš„å™äº‹åŒ–é‡æ„"></a><strong>2.3.1 äº‹ä»¶ç³»ç»Ÿçš„å™äº‹åŒ–é‡æ„</strong></h4><p>ä¼ ç»ŸRoguelikeçš„äº‹ä»¶å¾€å¾€æ˜¯â€œæ”¶ç›ŠvsæŸå¤±â€çš„ç®€å•åšå¼ˆã€‚ã€Šæ€æˆ®å°–å¡”ã€‹å°†è¿™ç§åšå¼ˆå‡çº§ä¸º <strong>â€œç¢ç‰‡åŒ–å™äº‹æ¢ç´¢â€ä¸â€œå³æ—¶èµ„æºå®‰å…¨â€çš„å¤åˆå¼æŠ‰æ‹©</strong>ã€‚</p><p>å…¶è®¾è®¡ç²¾é«“åœ¨äºï¼šæ¸¸æˆä»ä¸ç›´æ¥è®²è¿°å®Œæ•´æ•…äº‹ï¼Œè€Œæ˜¯å°†ä¸–ç•Œè§‚çš„çº¿ç´¢ä¸è§’è‰²çš„è¿‡å»ï¼Œæ‹†è§£ä¸º <strong>â€œå¯äº¤äº’çš„å™äº‹ç¢ç‰‡â€</strong>ï¼Œæ•£è½åœ¨ç©å®¶å¿…ç»çš„å†³ç­–ä¹‹ä¸­ã€‚ä»¥â€œæ„ŸçŸ¥çŸ³â€äº‹ä»¶ä¸ºä¾‹ï¼š</p><ul><li><strong>è¡¨å±‚åšå¼ˆ</strong>ï¼šé€‰é¡¹Aï¼ˆæŸå¤±ç”Ÿå‘½ï¼Œè·å¾—ä¸€å¼ éšæœºæ— è‰²ç‰Œï¼‰ vs é€‰é¡¹Bï¼ˆæ— äº‹å‘ç”Ÿï¼Œä¿ç•™è¡€é‡ï¼‰</li><li><strong>å™äº‹å±‚åšå¼ˆ</strong>ï¼šé€‰é¡¹Aï¼ˆè§¦æ‘¸çŸ³å¤´ï¼Œè¢«è¿«ç›´é¢ä¸€æ®µç—›è‹¦æˆ–å…³é”®çš„è¿‡å¾€è®°å¿†ï¼Œå¹¶ä»¥ä¸€å¼ â€œå¡ç‰Œâ€çš„å½¢å¼å°†è¿™ä»½è®°å¿†å›ºåŒ–ä¸ºå·±ç”¨ï¼‰ vs é€‰é¡¹Bï¼ˆæ‹’ç»å›å¿†ï¼Œä¿æŒç°çŠ¶ï¼Œä½†å¯èƒ½æ°¸è¿œé”™è¿‡ç†è§£â€œæˆ‘æ˜¯è°â€ä¸â€œæˆ‘ä¸ºä½•åœ¨æ­¤â€çš„æœºä¼šï¼‰</li></ul><p>è¿™ç§è®¾è®¡å°†ä¸€æ¬¡æ™®é€šçš„èµ„æºäº¤æ¢ï¼Œè½¬åŒ–ä¸ºä¸€æ¬¡ <strong>â€œè§’è‰²èº«ä»½å»ºæ„â€</strong> çš„ä¸»åŠ¨é€‰æ‹©ã€‚ç©å®¶åœ¨è¡¡é‡ç”Ÿå‘½å€¼ä¸ä¸€å¼ æœªçŸ¥å¡ç‰Œçš„ä»·å€¼æ—¶ï¼Œæ½œæ„è¯†é‡Œä¹Ÿåœ¨å›ç­”ï¼šâ€œæˆ‘çš„è§’è‰²æ˜¯å¦æ¸´æœ›é¢å¯¹çœŸç›¸ï¼Ÿä»–&#x2F;å¥¹æ˜¯ä¸€ä¸ªå‹‡äºæ­å¼€ä¼¤ç–¤çš„æ¢å¯»è€…ï¼Œè¿˜æ˜¯ä¸€ä¸ªå›é¿è¿‡å»çš„ç”Ÿå­˜è€…ï¼Ÿâ€</p><h4 id="2-3-2-ç¢ç‰‡åŒ–å™äº‹çš„è½½ä½“ï¼šé—ç‰©ã€å¡ç‰Œä¸äº‹ä»¶çš„æ–‡æœ¬å¯†è¯­"><a href="#2-3-2-ç¢ç‰‡åŒ–å™äº‹çš„è½½ä½“ï¼šé—ç‰©ã€å¡ç‰Œä¸äº‹ä»¶çš„æ–‡æœ¬å¯†è¯­" class="headerlink" title="2.3.2 ç¢ç‰‡åŒ–å™äº‹çš„è½½ä½“ï¼šé—ç‰©ã€å¡ç‰Œä¸äº‹ä»¶çš„æ–‡æœ¬å¯†è¯­"></a><strong>2.3.2 ç¢ç‰‡åŒ–å™äº‹çš„è½½ä½“ï¼šé—ç‰©ã€å¡ç‰Œä¸äº‹ä»¶çš„æ–‡æœ¬å¯†è¯­</strong></h4><ol><li><p><strong>é—ç‰©çš„æè¿°æ–‡æœ¬</strong>ï¼šçŸ­çŸ­ä¸€ä¸¤å¥è¯ï¼Œæ—¢æ˜¯åŠŸèƒ½è¯´æ˜ï¼Œä¹Ÿæ˜¯å¾®å‹æ•…äº‹ã€‚ä¾‹å¦‚â€œç—›æ¥šå°è®°â€ï¼ˆæˆ˜å£«ä¸“å±é—ç‰©ï¼‰çš„æè¿°ï¼šâ€œåŒ—æ–¹éƒ¨æ—çš„æˆ˜å£«ä»¬ç”¨è¿™ä¸ªæ¥å°†ç—›æ¥šè½¬åŒ–ä¸ºåŠ›é‡ã€‚â€è¿™å¥è¯æœªå±•å¼€ä»»ä½•èƒŒæ™¯ï¼Œå´ç›´æ¥ç‚¹æ˜äº†æˆ˜å£«çš„å‡ºèº«ï¼ˆåŒ—æ–¹éƒ¨æ—ï¼‰åŠå…¶æ ¸å¿ƒæˆ˜æ–—å“²å­¦ï¼ˆè½¬åŒ–ç—›æ¥šï¼‰ï¼Œå¹¶ä¸å…¶â€œä¼¤å£â€æœºåˆ¶å½¢æˆäº’æ–‡ã€‚</p></li><li><p><strong>å¡ç‰Œçš„å›¾åƒä¸åç§°</strong>ï¼šå¡é¢ç¾æœ¯ä¸åç§°æ˜¯æœªè¢«è¨€è¯´çš„å™äº‹ã€‚è§‚è€…çš„â€œè¯¸ç¥ä¹‹é»„æ˜â€å¡é¢æç»˜é›·éœ†ä¸æ´ªæ°´è¢­å‡»é«˜å¡”ï¼Œå…¶åç§°ç›´æ¥å€Ÿç”¨åŒ—æ¬§ç¥è¯ä¸­çš„æœ«æ—¥ä¹‹æˆ˜ï¼Œä¸¤è€…ç»“åˆï¼Œå¼ºçƒˆæš—ç¤ºäº†é«˜å¡”ä¸–ç•Œæ›¾é­é€¢ä¸€åœºç¥ç½šçº§çš„ç¾éš¾ã€‚ç©å®¶æ— éœ€é˜…è¯»ä»»ä½•æ–‡æœ¬ï¼Œä¾¿èƒ½æ„Ÿå—åˆ°ç”»é¢ä¸­è•´å«çš„å®å¤§æ‚²å‰§ä¸æ¯ç­æ„è±¡ã€‚</p></li><li><p><strong>äº‹ä»¶ä¸­çš„å¯¹è¯ä¸é€‰é¡¹</strong>ï¼šéšæœºäº‹ä»¶æ˜¯åŠ¨æ€çš„å™äº‹ç¢ç‰‡ã€‚åœ¨â€œå¹½çµè®®ä¼šâ€äº‹ä»¶ä¸­ï¼Œå¹½çµä»¬ä¼šç§°ç©å®¶ä¸ºâ€œå¥¥æ¶…çš„ç©å¶â€ï¼Œå¹¶é‚€è¯·ä½ â€œå°è¯•æˆ‘ä»¬çš„åŠ›é‡â€ã€‚è¿™çŸ­çŸ­å‡ å¥å¯¹è¯ï¼Œè‡³å°‘æŠ›å‡ºäº†ä¸‰ä¸ªå™äº‹é’©å­ï¼šå¥¥æ¶…æ˜¯è°ï¼Ÿæˆ‘ä»¬ä¸å¥¥æ¶…æ˜¯ä½•å…³ç³»ï¼Ÿå¹½çµçš„åŠ›é‡æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿç©å®¶é€šè¿‡é€‰æ‹©æ˜¯å¦æ¥å—åŠ›é‡ï¼Œä¸ä»…è·å¾—äº†æ¸¸æˆæ€§çš„â€œçµä½“â€å¡ç‰Œï¼Œä¹Ÿäº²è‡ªä»‹å…¥äº†è¿™æ®µæ¨¡ç³Šçš„äº¡çµå¾€äº‹ï¼Œå…¶é€‰æ‹©æœ¬èº«å°±æˆäº†å¯¹è§’è‰²ä¸å¹½çµå…³ç³»çš„ä¸€ç§è¯ é‡Šã€‚</p></li></ol><table><thead><tr><th align="left">è½½ä½“</th><th align="left">å™äº‹å†…å®¹ä¸¾ä¾‹</th><th align="left">å™äº‹ç‰¹ç‚¹</th><th align="left">ç©å®¶è¡Œä¸º</th></tr></thead><tbody><tr><td align="left"><strong>é—ç‰©æè¿°</strong></td><td align="left">â€œæ•æ¢¦ç½‘ï¼šåŒ—æ–¹éƒ¨æ—çš„çŒæ‰‹ç”¨å®ƒæ¥æ»¤é™¤å™©æ¢¦ï¼Œåªç•™ä¸‹é¢„å…†ã€‚â€</td><td align="left">å†°å±±ä¸€è§’ï¼Œæš—ç¤ºæ–‡åŒ–ã€ä¹ ä¿—ä¸ä¿¡ä»°ã€‚</td><td align="left">é˜…è¯»ã€è”æƒ³ã€æ‹¼å‡‘æ—ç¾¤èƒŒæ™¯ã€‚</td></tr><tr><td align="left"><strong>å¡ç‰Œå›¾åƒ&#x2F;å</strong></td><td align="left">å¡ç‰Œâ€œæ¶é­”å½¢æ€â€ä¸Šæˆ˜å£«ç‹°ç‹çš„æ ·è²Œä¸æ‰‹ä¸­çš„ç«ç„°ï¼›â€œæ­»äº¡æ”¶å‰²â€ä¸­æ±²å–çš„è“è‰²çµé­‚èƒ½é‡ã€‚</td><td align="left">è§†è§‰å™äº‹ï¼Œå±•ç°è§’è‰²çŠ¶æ€ã€åŠ›é‡æ¥æºæˆ–ä¸–ç•Œç‰‡å½±ã€‚</td><td align="left">è§‚å¯Ÿã€è§£è¯»å›¾åƒèƒŒåçš„æ•…äº‹ä¸å˜åŒ–ã€‚</td></tr><tr><td align="left"><strong>äº‹ä»¶æ–‡æœ¬</strong></td><td align="left">â€œå¥³é¬¼â€äº‹ä»¶ä¸­ï¼Œé‚£ä¸ªä¸æ–­è¯¢é—®ä½ æ˜¯å¦è®¤è¯†å¥¹çš„å“€ä¼¤çµé­‚ã€‚</td><td align="left">æ²‰æµ¸å¼ç‰‡æ®µï¼Œæä¾›æƒ…æ„Ÿå†²å‡»ä¸æœªè§£ä¹‹è°œã€‚</td><td align="left">åšå‡ºé€‰æ‹©ï¼Œå‚ä¸å¹¶å®šä¹‰è¿™æ®µå°å‹å™äº‹ã€‚</td></tr></tbody></table><p>è¿™ç§ <strong>â€œç¢ç‰‡åŒ–-è½½ä½“åŒ–â€</strong> çš„å™äº‹ç­–ç•¥ï¼Œåˆ›é€ äº†ç‹¬ç‰¹çš„ç©å®¶ä½“éªŒï¼šè¿½æ±‚å‰§æƒ…çš„ç©å®¶ä¼šåƒè€ƒå¤å­¦å®¶ä¸€æ ·ï¼Œä»”ç»†å®¡è§†æ¯ä¸€ä»¶é—ç‰©çš„è¯´æ˜ï¼Œç«¯è¯¦æ¯ä¸€å¼ å¡ç‰Œçš„ç”»ä½œï¼Œå“å‘³æ¯ä¸€æ®µäº‹ä»¶çš„å¯¹è¯ï¼Œä»ä¸­å‰¥ç¦»ä¿¡æ¯ï¼Œåœ¨è„‘æµ·ä¸­æ„å»ºå±äºè‡ªå·±çš„ä¸–ç•Œè§‚å›¾æ™¯ã€‚è€Œä¸å…³æ³¨å‰§æƒ…çš„ç©å®¶ï¼Œåˆ™å¯ä»¥å®Œå…¨æ— è§†è¿™äº›æ–‡æœ¬ä¸æš—ç¤ºï¼Œæ¯«ä¸å½±å“ä»–ä»¬äº«å—æ„ç­‘ä¸çˆ¬å¡”çš„æ ¸å¿ƒä¹è¶£ã€‚å™äº‹ç”±æ­¤æˆä¸ºä¸€ç§ <strong>â€œå¯é€‰çš„æ·±åº¦â€</strong> ï¼Œè€Œéå¼ºåˆ¶çš„çŒè¾“ï¼Œè¿™æ­£æ˜¯ã€Šæ€æˆ®å°–å¡”ã€‹åœ¨å™äº‹ç³»ç»ŸåŒ–è®¾è®¡ä¸Šçš„é«˜æ˜ä¹‹å¤„ã€‚</p><h3 id="2-4-æ ¸å¿ƒå¾ªç¯ï¼šä»ç©æ³•åˆ°æ„ä¹‰çš„å‡å"><a href="#2-4-æ ¸å¿ƒå¾ªç¯ï¼šä»ç©æ³•åˆ°æ„ä¹‰çš„å‡å" class="headerlink" title="2.4 æ ¸å¿ƒå¾ªç¯ï¼šä»ç©æ³•åˆ°æ„ä¹‰çš„å‡å"></a>2.4 æ ¸å¿ƒå¾ªç¯ï¼šä»ç©æ³•åˆ°æ„ä¹‰çš„å‡å</h3><p>ã€Šæ€æˆ®å°–å¡”ã€‹çš„æ ¸å¿ƒå¾ªç¯è®¾è®¡å®ç°äº†ä»è¡¨å±‚ç©æ³•åˆ°æ·±å±‚æ„ä¹‰çš„è‡ªç„¶è¿‡æ¸¡ï¼š</p><p><strong>è¡¨å±‚å¾ªç¯ï¼ˆç©å®¶ç›´è§‚æ„Ÿå—ï¼‰</strong>ï¼š<br>æˆ˜æ–— â†’ è·å–å¥–åŠ± â†’ é€‰æ‹©è·¯çº¿ â†’ ç»§ç»­æˆ˜æ–—</p><p><strong>æ·±å±‚å¾ªç¯ï¼ˆå™äº‹èµ‹äºˆæ„ä¹‰ï¼‰</strong>ï¼š<br>å‘æ˜è®°å¿†ï¼ˆè·å–å¡ç‰Œ&#x2F;é—ç‰©ï¼‰ â†’ ç†è§£è¿‡å»ï¼ˆé˜…è¯»èƒŒæ™¯æ–‡æœ¬ï¼‰ â†’ å¡‘é€ è‡ªæˆ‘ï¼ˆç¡®å®šæ„ç­‘æ–¹å‘ï¼‰ â†’ é¢å¯¹çœŸç›¸ï¼ˆæŒ‘æˆ˜å…³é”®é¦–é¢†ï¼‰ â†’ æ”¹å˜ä¸–ç•Œï¼ˆè¾¾æˆè§’è‰²ç»“å±€ï¼‰</p><h2 id="ä¸‰ã€è®¾è®¡å“²å­¦æç‚¼"><a href="#ä¸‰ã€è®¾è®¡å“²å­¦æç‚¼" class="headerlink" title="ä¸‰ã€è®¾è®¡å“²å­¦æç‚¼"></a>ä¸‰ã€è®¾è®¡å“²å­¦æç‚¼</h2><h3 id="3-1-å››å¤§æ ¸å¿ƒç†å¿µ"><a href="#3-1-å››å¤§æ ¸å¿ƒç†å¿µ" class="headerlink" title="3.1 å››å¤§æ ¸å¿ƒç†å¿µ"></a>3.1 å››å¤§æ ¸å¿ƒç†å¿µ</h3><p><strong>ç†å¿µä¸€ï¼šç©æ³•å³å™äº‹</strong><br>ã€Šæ€æˆ®å°–å¡”ã€‹å½»åº•æ‘’å¼ƒäº†ç‹¬ç«‹çš„å‰§æƒ…åŠ¨ç”»å’Œè¿‡åœºCGã€‚è§’è‰²çš„æ¯ä¸€ä¸ªèƒ½åŠ›ã€æ•Œäººçš„æ¯ä¸€ä¸ªè¡Œä¸ºã€ç©å®¶çš„æ¯ä¸€ä¸ªæŠ‰æ‹©ï¼Œè¿™äº›<strong>æœ¬èº«å°±æ˜¯æ•…äº‹çš„è®²è¿°</strong>ã€‚å½“æˆ˜å£«æ‰“å‡ºâ€œé»‘æš—ä¹‹æ‹¥â€æ—¶ï¼Œè¿™ä¸åªæ˜¯åœ¨è·å¾—è¿‡ç‰Œèƒ½åŠ›ï¼Œæ›´æ˜¯åœ¨ç»å†è¢«æ¶é­”ä¾µèš€çš„è¿‡ç¨‹ï¼›å½“çŒæ‰‹ä½¿ç”¨â€œä¸¢å¼ƒâ€æ—¶ï¼Œè¿™ä¸åªæ˜¯åœ¨è¿‡æ»¤ç‰Œåº“ï¼Œæ›´æ˜¯åœ¨æˆ˜æ–—ä¸­æ‘’é™¤æ‚å¿µã€ä¸“æ³¨è¦å®³ã€‚</p><p><strong>ç†å¿µäºŒï¼šç³»ç»Ÿä½œä¸ºéšå–»</strong><br>æ¸¸æˆä¸­çš„æŠ½è±¡æœºåˆ¶éƒ½é€šè¿‡å™äº‹è·å¾—äº†å…·ä½“çš„éšå–»æ„ä¹‰ï¼š</p><ul><li>å¼ƒç‰Œ &#x3D; ä¸“æ³¨ï¼ˆçŒæ‰‹çš„æˆ˜æ–—å“²å­¦ï¼‰</li><li>çƒ§ç‰Œ &#x3D; ç‰ºç‰²ï¼ˆæˆ˜å£«çš„åŠ›é‡ä»£ä»·ï¼‰</li><li>å§¿æ€åˆ‡æ¢ &#x3D; å¿ƒç»ªæµè½¬ï¼ˆè§‚è€…çš„å¿ƒçµæ§åˆ¶ï¼‰</li><li>å……èƒ½çƒ &#x3D; å¤ä»£èƒ½æºï¼ˆæœºå™¨äººçš„æ–‡æ˜é—äº§ï¼‰</li></ul><p><strong>ç†å¿µä¸‰ï¼šç¢ç‰‡å¼•å¯¼æƒ³è±¡</strong><br>æ¸¸æˆä¸æä¾›å®Œæ•´çš„ä¸–ç•Œè§‚ç¼–å¹´å²ï¼Œè€Œæ˜¯æä¾›â€œå…ˆå¤ä¹‹æ°‘â€ã€â€œè’ç–«â€ã€â€œç¥ç½šâ€ç­‰<strong>å…³é”®è¯å’Œæ•£è½çº¿ç´¢</strong>ã€‚è¿™ç§è®¾è®¡æ¿€å‘äº†ç©å®¶çš„æ¨ç†æ¬²å’Œç¤¾åŒºè®¨è®ºï¼Œç©å®¶åœ¨è®ºå›ä¸­æ‹¼å‡‘çº¿ç´¢ã€åˆ†äº«ç†è®ºï¼Œæå¤§å»¶é•¿äº†æ¸¸æˆçš„ç”Ÿå‘½å‘¨æœŸã€‚</p><p><strong>ç†å¿µå››ï¼šä¸€è‡´æ€§åˆ›é€ æ²‰æµ¸</strong><br>ä»èŒä¸šæœºåˆ¶åˆ°å¡ç‰Œç¾æœ¯ï¼Œä»é—ç‰©æ•ˆæœåˆ°æ•Œäººè®¾è®¡ï¼Œä»åœ°å›¾æ°›å›´åˆ°éŸ³ä¹éŸ³æ•ˆï¼Œã€Šæ€æˆ®å°–å¡”ã€‹çš„æ‰€æœ‰å…ƒç´ éƒ½æœåŠ¡äºåŒä¸€å¥—<strong>é»‘æš—ã€ç¥ç§˜ã€ç•¥å¸¦å…‹è‹é²æ°”æ¯çš„å™äº‹è°ƒæ€§</strong>ã€‚è¿™ç§é«˜åº¦çš„ä¸€è‡´æ€§åˆ›é€ äº†å¼ºçƒˆçš„æ²‰æµ¸æ„Ÿã€‚</p><h2 id="å››ã€å¯¹åŒç±»é¡¹ç›®çš„å¯ç¤º"><a href="#å››ã€å¯¹åŒç±»é¡¹ç›®çš„å¯ç¤º" class="headerlink" title="å››ã€å¯¹åŒç±»é¡¹ç›®çš„å¯ç¤º"></a>å››ã€å¯¹åŒç±»é¡¹ç›®çš„å¯ç¤º</h2><h3 id="4-1-å®Œæ•´çš„è®¾è®¡è·¯å¾„"><a href="#4-1-å®Œæ•´çš„è®¾è®¡è·¯å¾„" class="headerlink" title="4.1 å®Œæ•´çš„è®¾è®¡è·¯å¾„"></a>4.1 å®Œæ•´çš„è®¾è®¡è·¯å¾„</h3><p>å¯¹äºå¸Œæœ›å€Ÿé‰´ã€Šæ€æˆ®å°–å¡”ã€‹å™äº‹ç³»ç»ŸåŒ–è®¾è®¡çš„é¡¹ç›®ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹å®Œæ•´è·¯å¾„ï¼š</p><p><strong>é˜¶æ®µä¸€ï¼šç«‹é¡¹é˜¶æ®µçš„ä¸»é¢˜é€‰æ‹©</strong><br>åœ¨ä¸ºæ¸¸æˆæ ¸å¿ƒç©æ³•å¯»æ‰¾å™äº‹ä¸»é¢˜æ—¶ï¼Œè¦é€‰æ‹©<strong>å¯ä»¥æ·±åº¦ç³»ç»ŸåŒ–çš„ä¸»é¢˜</strong>ã€‚ä¾‹å¦‚ï¼š</p><ul><li>å¡ç‰Œæ„ç­‘ç©æ³• â†’ è€ƒå¤ä¸»é¢˜ï¼ˆå¡ç‰Œ&#x3D;æ–‡ç‰©ï¼Œæ„ç­‘&#x3D;ä¿®å¤ï¼‰</li><li>èµ„æºç®¡ç†ç©æ³• â†’ ç”Ÿæ€ä¸»é¢˜ï¼ˆèµ„æº&#x3D;ç‰©ç§ï¼Œç®¡ç†&#x3D;å¹³è¡¡ï¼‰</li><li>è§’è‰²æˆé•¿ç©æ³• â†’ æ•™è‚²ä¸»é¢˜ï¼ˆå‡çº§&#x3D;å­¦ä¹ ï¼ŒæŠ€èƒ½&#x3D;çŸ¥è¯†ï¼‰</li></ul><p><strong>é˜¶æ®µäºŒï¼šè§’è‰²è®¾è®¡çš„å™äº‹æ•´åˆ</strong><br>èŒä¸šçš„å™äº‹èƒŒæ™¯å¿…é¡»æ˜¯å…¶æ ¸å¿ƒæœºåˆ¶çš„<strong>åˆç†è§£é‡Šä¸æƒ…æ„ŸåŒ…è£…</strong>ã€‚æœºåˆ¶åº”è¯¥æ˜¯å™äº‹èƒŒæ™¯çš„è‡ªç„¶å»¶ä¼¸ï¼Œå™äº‹åº”è¯¥æ˜¯æœºåˆ¶çš„æƒ…æ„ŸåŒ–åŒ…è£…ã€‚</p><p><strong>é˜¶æ®µä¸‰ï¼šè¿›ç¨‹è®¾è®¡çš„ä¸»é¢˜åŒ¹é…</strong><br>æ¸¸æˆè¿›ç¨‹çš„æ¯ä¸ªé˜¶æ®µéƒ½åº”æœ‰æ˜ç¡®çš„å™äº‹ä¸»é¢˜ï¼Œå¹¶ä¸”è¿™ä¸ªä¸»é¢˜åº”è¯¥ä½“ç°åœ¨è¯¥é˜¶æ®µçš„æœºåˆ¶æŒ‘æˆ˜ä¸­ã€‚å¦‚æœæŸä¸€ç« çš„ä¸»é¢˜æ˜¯â€œèƒŒå›â€ï¼Œé‚£ä¹ˆæœºåˆ¶å¯ä»¥å›´ç»•â€œèµ„æºé€†è½¬â€ã€â€œç›Ÿå‹å˜æ•Œäººâ€ç­‰è®¾è®¡ã€‚</p><p><strong>é˜¶æ®µå››ï¼šå†…å®¹æŠ•æ”¾çš„ç­–ç•¥æ€§</strong><br>å°†å‰§æƒ…ä¿¡æ¯æ‹†è§£ä¸ºå¯è¢«ç©æ³•ç³»ç»Ÿæ‰¿è½½çš„â€œé“å…·â€â€”â€”å¡ç‰Œæè¿°ã€é—ç‰©æ–‡æœ¬ã€äº‹ä»¶é€‰é¡¹ã€æ•Œäººå°è¯ç­‰ã€‚è®©è¿½æ±‚å‰§æƒ…çš„ç©å®¶å¯ä»¥ä¸»åŠ¨æŒ–æ˜ï¼Œè®©ä¸æ„Ÿå…´è¶£çš„ç©å®¶å¯ä»¥å®Œå…¨å¿½ç•¥ï¼Œå®ç°å™äº‹çš„<strong>å¯é€‰æ‹©æ¶ˆè´¹</strong>ã€‚</p><h2 id="æ€»ç»“ï¼šå™äº‹ä½œä¸ºç³»ç»Ÿè®¾è®¡çš„èŒƒå¼ä»·å€¼"><a href="#æ€»ç»“ï¼šå™äº‹ä½œä¸ºç³»ç»Ÿè®¾è®¡çš„èŒƒå¼ä»·å€¼" class="headerlink" title="æ€»ç»“ï¼šå™äº‹ä½œä¸ºç³»ç»Ÿè®¾è®¡çš„èŒƒå¼ä»·å€¼"></a>æ€»ç»“ï¼šå™äº‹ä½œä¸ºç³»ç»Ÿè®¾è®¡çš„èŒƒå¼ä»·å€¼</h2><p>ã€Šæ€æˆ®å°–å¡”ã€‹çš„ä¸–ç•Œè§‚è®¾è®¡è¯æ˜ï¼Œå™äº‹å¯ä»¥ä¸åªæ˜¯æ¸¸æˆçš„â€œè£…é¥°â€æˆ–â€œèƒŒæ™¯æ¿â€ï¼Œè€Œæ˜¯å¯ä»¥æˆä¸ºæ¸¸æˆçš„<strong>ç»“æ„æ€§æ¡†æ¶</strong>ã€‚è¿™å¥—â€œå™äº‹ç³»ç»ŸåŒ–â€çš„è®¾è®¡æ–¹æ³•ï¼Œåˆ›é€ äº†å‡ ä¸ªå…³é”®ä»·å€¼ï¼š</p><h3 id="1-è§£å†³äº†Roguelikeçš„é‡å¤æ€§é—®é¢˜"><a href="#1-è§£å†³äº†Roguelikeçš„é‡å¤æ€§é—®é¢˜" class="headerlink" title="1. è§£å†³äº†Roguelikeçš„é‡å¤æ€§é—®é¢˜"></a>1. è§£å†³äº†Roguelikeçš„é‡å¤æ€§é—®é¢˜</h3><p>é€šè¿‡è®©æ¯æ¬¡çˆ¬å¡”éƒ½æˆä¸ºç‹¬ç‰¹çš„è§’è‰²å²è¯—ï¼Œç©å®¶æ„Ÿå—åˆ°çš„ä¸æ˜¯â€œåˆä¸€éç›¸åŒçš„æµç¨‹â€ï¼Œè€Œæ˜¯â€œä¸€ä¸ªæ–°è§’è‰²çš„æ–°æ•…äº‹â€ã€‚</p><h3 id="2-æå‡äº†å†³ç­–çš„æƒ…æ„Ÿé‡é‡"><a href="#2-æå‡äº†å†³ç­–çš„æƒ…æ„Ÿé‡é‡" class="headerlink" title="2. æå‡äº†å†³ç­–çš„æƒ…æ„Ÿé‡é‡"></a>2. æå‡äº†å†³ç­–çš„æƒ…æ„Ÿé‡é‡</h3><p>ç©å®¶çš„æ¯ä¸€ä¸ªæ¸¸æˆå†³ç­–éƒ½åŒæ—¶æ˜¯å™äº‹å†³ç­–ï¼Œè¿™è®©ç®€å•çš„èµ„æºæƒè¡¡å˜æˆäº†å…·æœ‰æƒ…æ„Ÿé‡é‡çš„æ€§æ ¼å®šä¹‰ã€‚</p><h3 id="3-åˆ›é€ äº†æ·±åº¦çš„æ²‰æµ¸æ„Ÿ"><a href="#3-åˆ›é€ äº†æ·±åº¦çš„æ²‰æµ¸æ„Ÿ" class="headerlink" title="3. åˆ›é€ äº†æ·±åº¦çš„æ²‰æµ¸æ„Ÿ"></a>3. åˆ›é€ äº†æ·±åº¦çš„æ²‰æµ¸æ„Ÿ</h3><p>å½“æ¸¸æˆçš„æ‰€æœ‰å…ƒç´ â€”â€”æœºåˆ¶ã€ç¾æœ¯ã€éŸ³æ•ˆã€æ–‡æœ¬â€”â€”éƒ½æœåŠ¡äºåŒä¸€å¥—å™äº‹è°ƒæ€§æ—¶ï¼Œç©å®¶ä¼šè‡ªç„¶åœ°è¿›å…¥æ¸¸æˆä¸–ç•Œã€‚</p><h3 id="4-å»¶é•¿äº†æ¸¸æˆç”Ÿå‘½å‘¨æœŸ"><a href="#4-å»¶é•¿äº†æ¸¸æˆç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="4. å»¶é•¿äº†æ¸¸æˆç”Ÿå‘½å‘¨æœŸ"></a>4. å»¶é•¿äº†æ¸¸æˆç”Ÿå‘½å‘¨æœŸ</h3><p>ç¢ç‰‡åŒ–å™äº‹æ¿€å‘äº†ç¤¾åŒºçš„è®¨è®ºå’Œç†è®ºæ„å»ºï¼Œç©å®¶åœ¨æ¸¸æˆä¹‹å¤–ç»§ç»­æ¢ç´¢ä¸–ç•Œè§‚ï¼Œå½¢æˆäº†è‰¯æ€§çš„ç”Ÿæ€å¾ªç¯ã€‚</p><pre class="mermaid">graph TD    A[ä¼ ç»Ÿè®¾è®¡<br>ç©æ³•ä¸å™äº‹åˆ†ç¦»] --> B[ç©å®¶ä½“éªŒå‰²è£‚<br>æ²‰æµ¸æ„Ÿæœ‰é™]        C[æ€æˆ®å°–å¡”è®¾è®¡<br>å™äº‹æˆä¸ºç³»ç»Ÿæ¡†æ¶] --> D{å››å¤§ä»·å€¼}    D --> E[è§£å†³é‡å¤æ€§é—®é¢˜]    D --> F[æå‡å†³ç­–é‡é‡]    D --> G[åˆ›é€ æ·±åº¦æ²‰æµ¸]    D --> H[å»¶é•¿ç”Ÿå‘½å‘¨æœŸ]        style C fill:#ccffcc    style D fill:#ffffcc</pre><p>ã€Šæ€æˆ®å°–å¡”ã€‹çš„æˆåŠŸä¸ä»…ä»…æ˜¯ç©æ³•è®¾è®¡çš„æˆåŠŸï¼Œæ›´æ˜¯<strong>å™äº‹ç³»ç»ŸåŒ–è®¾è®¡èŒƒå¼</strong>çš„æˆåŠŸã€‚å®ƒå±•ç¤ºäº†ä¸€æ¡å°†ä¸–ç•Œè§‚æ·±åº¦èå…¥æ ¸å¿ƒç³»ç»Ÿçš„æ–°è·¯å¾„ï¼Œä¸ºæ•´ä¸ªæ¸¸æˆè®¾è®¡é¢†åŸŸæä¾›äº†å®è´µçš„å¯ç¤ºï¼š<strong>å½“å™äº‹ä¸å†åªæ˜¯è¢«â€œè®²å‡ºæ¥â€ï¼Œè€Œæ˜¯è¢«â€œç©å‡ºæ¥â€æ—¶ï¼Œæ¸¸æˆå°±èƒ½åˆ›é€ å‡ºçœŸæ­£ç‹¬ç‰¹è€Œæ·±åˆ»çš„æƒ…æ„Ÿä½“éªŒã€‚</strong></p><hr><p>åˆ°è¿™é‡Œæˆ‘å¯¹æ€æˆ®å°–å¡”çš„æ‹†è§£å·¥ä½œä¾¿å‘Šä¸€æ®µè½å•¦ï¼Œå¤§å®¶å¦‚æœæœ‰ä»€ä¹ˆæƒ³æ³•å¯ä»¥åœ¨è¯„è®ºåŒºäº¤æµå“¦</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ã€Šæ€æˆ®å°–å¡”ã€‹è®¾è®¡æ‹†è§£â€”â€”ä¸–ç•Œè§‚ç¯‡&quot;&gt;&lt;a href=&quot;#ã€Šæ€æˆ®å°–å¡”ã€‹è®¾è®¡æ‹†è§£â€”â€”ä¸–ç•Œè§‚ç¯‡&quot; class=&quot;headerlink&quot; title=&quot;ã€Šæ€æˆ®å°–å¡”ã€‹è®¾è®¡æ‹†è§£â€”â€”ä¸–ç•Œè§‚ç¯‡&quot;&gt;&lt;/a&gt;ã€Šæ€æˆ®å°–å¡”ã€‹è®¾è®¡æ‹†è§£â€”â€”ä¸–ç•Œè§‚ç¯‡&lt;/h1&gt;&lt;blockquote&gt;
&lt;h6 </summary>
      
    
    
    
    <category term="æ¸¸æˆ" scheme="https://yifei-huang-cos.github.io/categories/%E6%B8%B8%E6%88%8F/"/>
    
    
  </entry>
  
  <entry>
    <title>æ€æˆ®å°–å¡”è®¾è®¡æ‹†è§£â€”â€”å†…å®¹ç¯‡</title>
    <link href="https://yifei-huang-cos.github.io/posts/98ac3117/"/>
    <id>https://yifei-huang-cos.github.io/posts/98ac3117/</id>
    <published>2026-01-28T09:00:00.000Z</published>
    <updated>2026-01-29T09:17:20.505Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ã€Šæ€æˆ®å°–å¡”ã€‹è®¾è®¡å†…å®¹æ·±åº¦æ‹†è§£"><a href="#ã€Šæ€æˆ®å°–å¡”ã€‹è®¾è®¡å†…å®¹æ·±åº¦æ‹†è§£" class="headerlink" title="ã€Šæ€æˆ®å°–å¡”ã€‹è®¾è®¡å†…å®¹æ·±åº¦æ‹†è§£"></a>ã€Šæ€æˆ®å°–å¡”ã€‹è®¾è®¡å†…å®¹æ·±åº¦æ‹†è§£</h1><h6 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h6><p>ã€Šæ€æˆ®å°–å¡”ã€‹ä»¥å…¶ç²¾å¦™çš„è§„åˆ™èåˆï¼Œå®šä¹‰äº†Roguelikeå¡ç‰Œã€‚å…¶æˆåŠŸè¿œéç®€å•çš„ç©æ³•å åŠ ã€‚æœ¬æ–‡å°†ä»¥ â€œå†…å®¹æ‹†è§£ â†’ å¹³è¡¡æ€§åˆ†æ â†’ è®¾è®¡å“²å­¦æç‚¼â€ çš„ä¸‰æ­¥æ¡†æ¶ï¼Œç”±è¡¨åŠé‡Œåœ°å‰–æå…¶è®¾è®¡ç²¾é«“ï¼Œæ­ç¤ºè¿™æ¬¾æ¸¸æˆå¦‚ä½•å°†ç®€å•çš„è§„åˆ™ç¼–ç»‡æˆè¿‘ä¹æ— é™çš„å¯èƒ½ï¼Œå¹¶æä¾›æŒä¹…çš„ç­–ç•¥ä¹è¶£ã€‚</p><h2 id="ç¬¬ä¸€æ­¥ï¼šå†…å®¹æ‹†è§£â€”â€”æ¸¸æˆçš„å»ºç­‘é€»è¾‘"><a href="#ç¬¬ä¸€æ­¥ï¼šå†…å®¹æ‹†è§£â€”â€”æ¸¸æˆçš„å»ºç­‘é€»è¾‘" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šå†…å®¹æ‹†è§£â€”â€”æ¸¸æˆçš„å»ºç­‘é€»è¾‘"></a>ç¬¬ä¸€æ­¥ï¼šå†…å®¹æ‹†è§£â€”â€”æ¸¸æˆçš„å»ºç­‘é€»è¾‘</h2><p>ä»»ä½•æ·±åº¦åˆ†æéƒ½å§‹äºå¯¹æ„æˆè¦ç´ çš„ç³»ç»Ÿæ€§ç†è§£ã€‚</p><h3 id="1-æ ¸å¿ƒé©±åŠ¨å¾ªç¯"><a href="#1-æ ¸å¿ƒé©±åŠ¨å¾ªç¯" class="headerlink" title="1. æ ¸å¿ƒé©±åŠ¨å¾ªç¯"></a>1. æ ¸å¿ƒé©±åŠ¨å¾ªç¯</h3><p>æ¯ä¸€å±€æ¸¸æˆéƒ½ç”±ä¸€ä¸ªç®€æ´æœ‰åŠ›çš„å¼•æ“é©±åŠ¨ï¼Œå…¶æ ¸å¿ƒå¾ªç¯å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå®ƒæ„æˆäº†å•å±€æ¸¸æˆæœ€åŸºæœ¬çš„è¡Œä¸ºéª¨æ¶ï¼š</p><pre class="mermaid">flowchart TD    A[æˆ˜æ–—<br>æ¶ˆè€—ç”Ÿå‘½ï¼Œæ£€éªŒç‰Œç»„] --> B[è·å–å¥–åŠ±<br>ä¸‰é€‰ä¸€å¡ç‰Œ/é‡‘å¸/é—ç‰©]    B --> C{åœ°å›¾è·¯å¾„å†³ç­–<br>é£é™©è¯„ä¼°ä¸èµ„æºè§„åˆ’}    C -->|é€‰æ‹©è·¯çº¿| A</pre><p>è¿™ä¸ªå¾ªç¯æŒç»­è¿›è¡Œï¼Œç©å®¶çš„æ¯ä¸€æ¬¡é€‰æ‹©éƒ½åœ¨åŠ¨æ€å¡‘é€ ç€ç‹¬ä¸€æ— äºŒçš„ç‰Œç»„ä¸èµ„æºçŠ¶å†µã€‚</p><p>ç”Ÿå‘½å€¼åœ¨æ­¤å¾ªç¯ä¸­æ‰®æ¼”ç€åŒé‡è§’è‰²ï¼šå®ƒæ—¢æ˜¯éœ€è¦ä¿éšœçš„ç”Ÿå­˜éœ€æ±‚ï¼Œä¹Ÿæ˜¯å¯ä»¥è°¨æ…èŠ±è´¹ä»¥æ¢å–æ›´é«˜å¥–åŠ±çš„è´§å¸ã€‚</p><p>ï¼ˆç‰¹å®šäº‹ä»¶å¯ä»¥ç”¨è¡€é‡æ¢å–æ”¶ç›Šâ€”â€”é—ç‰©æˆ–è€…å¡ç‰Œï¼‰</p><h3 id="2-æ ¸å¿ƒæ„å»ºç»´åº¦"><a href="#2-æ ¸å¿ƒæ„å»ºç»´åº¦" class="headerlink" title="2. æ ¸å¿ƒæ„å»ºç»´åº¦"></a>2. æ ¸å¿ƒæ„å»ºç»´åº¦</h3><p>ç©å®¶åŠ›é‡çš„æˆé•¿å›´ç»•ä¸‰ä¸ªå¯ç´¯ç§¯çš„ç³»ç»Ÿå±•å¼€ï¼š</p><ul><li><p><strong>å¡ç‰Œ</strong>ï¼šä¸»åŠ¨çš„æ“ä½œå•å…ƒï¼Œåˆ†ä¸º</p><ul><li>æ”»å‡»ç‰Œï¼šç›´æ¥ä¼¤å®³ï¼›</li><li>æŠ€èƒ½ç‰Œï¼šæ ¼æŒ¡ã€æ–½åŠ çŠ¶æ€ç­‰ï¼›</li><li>èƒ½åŠ›ç‰Œï¼šæ•´åœºæŒç»­çš„è¢«åŠ¨æ•ˆæœï¼›</li></ul></li><li><p><strong>é—ç‰©</strong>ï¼šæä¾›ä»æ•°å€¼åŠ æˆåˆ°æœºåˆ¶é¢ è¦†çš„å„ç±»æ•ˆæœï¼Œæ˜¯æ„ç­‘äº§ç”Ÿè´¨å˜çš„å…³é”®ã€‚</p><ul><li>æ•°å€¼åŠ æˆï¼šé‡‘åˆšæµåŠ 1åŠ›é‡ï¼Œå…‰æ»‘çš„çŸ³å¤´åŠ 1æ•æ·ã€‚è¿™ç±»é—ç‰©æä¾›ç®€å•ç²—æš´çš„åŠ æ•°å€¼ï¼›</li><li>æœºåˆ¶æ”¹å˜ï¼šå†°æ·‡æ·‹è®©å›åˆç»“æŸåèƒ½é‡ä¸æ¸…ç©ºï¼Œé‡‘å­—å¡”è®©å›åˆç»“æŸæ—¶çš„æ‰‹ç‰Œä¸ä¸¢å¼ƒã€‚è¿™ç±»é—ç‰©æ”¹å˜æ„ç­‘æ€è·¯å’Œå‡ºç‰Œé€»è¾‘ï¼›</li><li>å±€å¤–æˆé•¿ï¼šå¤é’±å¸ç›´æ¥ç»™300å—ï¼ŒçƒŸæ–—è®©ç«å †é¢å¤–å¤šäº†åˆ ç‰Œäº‹ä»¶ã€‚è¿™äº›é—ç‰©è®©ç©å®¶åœ¨æˆ˜æ–—ä¹‹å¤–æ”¹å˜æ„ç­‘æå‡æˆ˜åŠ›ï¼›</li></ul></li><li><p><strong>è¯æ°´</strong>ï¼šä¸€æ¬¡æ€§çš„æˆ˜æœ¯å‚¨å¤‡ï¼Œç”¨äºåº”æ€¥æˆ–å¼¥è¡¥æ„ç­‘çŸ­æ¿ã€‚</p><ul><li>æä¾›æŠ½ç‰Œï¼Œå›è¡€ï¼Œæ ¼æŒ¡ï¼Œæ¢ç‰Œç­‰æ•ˆæœï¼›</li><li>å°æ€ªæ¦‚ç‡æ‰è½ï¼Œå•†åº—ç¨³å®šè´­ä¹°ï¼Œäº‹ä»¶å¯èƒ½è·å–ï¼›</li><li>é€šè¿‡å‡å°‘è¯æ°´æ ä½é™åˆ¶é«˜è¿›é˜¶ç©å®¶ï¼›</li></ul></li></ul><h3 id="3-æ ¸å¿ƒåšå¼ˆèµ„æº"><a href="#3-æ ¸å¿ƒåšå¼ˆèµ„æº" class="headerlink" title="3. æ ¸å¿ƒåšå¼ˆèµ„æº"></a>3. æ ¸å¿ƒåšå¼ˆèµ„æº</h3><p>é™¤äº†ç‰Œç»„ï¼Œç©å®¶è¿˜éœ€æŒç»­ç®¡ç†ä¸¤ç§æŠ½è±¡èµ„æºï¼š</p><ul><li><strong>ç”Ÿå‘½å€¼</strong>ï¼šå¦‚ä¸Šæ‰€è¿°ï¼Œæ˜¯é©±åŠ¨æ ¸å¿ƒå¾ªç¯çš„å…³é”®èµ„æºï¼Œå¯¹è¡€é‡çš„åˆ¤æ–­æ˜¯å¦è¶³ä»¥æ‰“ç²¾è‹±æ€ªæ¢å–é—ç‰©ï¼›</li><li><strong>é‡‘å¸</strong>ï¼šé›†ä¸­äºå•†åº—ç³»ç»Ÿçš„ç»æµèµ„æºã€‚ç”¨äºè´­ä¹°å…³é”®å¡ç‰Œã€é—ç‰©ï¼Œä»¥åŠèŒæ–°å¯èƒ½å¿½è§†çš„åˆ å¡ï¼›</li></ul><h3 id="4-åºå¤§çš„å†…å®¹æ± "><a href="#4-åºå¤§çš„å†…å®¹æ± " class="headerlink" title="4. åºå¤§çš„å†…å®¹æ± "></a>4. åºå¤§çš„å†…å®¹æ± </h3><p>æ¸¸æˆæä¾›äº†ä¸°å¯Œçš„äº¤äº’å¯èƒ½æ€§ï¼Œç¡®ä¿æ¯æ¬¡å†’é™©çš„ç‹¬ç‰¹æ€§ï¼Œæ¯ä¸ªèŒä¸šæ‹¥æœ‰å®Œå…¨ç‹¬ç«‹çš„å¡æ± ä¸æ ¸å¿ƒæœºåˆ¶ï¼Œç©æ³•è¿¥å¼‚ã€‚</p><ul><li><h4 id="å››å¤§èŒä¸šï¼š"><a href="#å››å¤§èŒä¸šï¼š" class="headerlink" title="å››å¤§èŒä¸šï¼š"></a>å››å¤§èŒä¸šï¼š</h4><ul><li><h6 id="æˆ˜å£«ï¼šæˆ‘è®¤ä¸ºï¼Œæˆ˜å£«çš„æœ€æ ¸å¿ƒæœºåˆ¶æ˜¯æ¶ˆè€—ï¼š"><a href="#æˆ˜å£«ï¼šæˆ‘è®¤ä¸ºï¼Œæˆ˜å£«çš„æœ€æ ¸å¿ƒæœºåˆ¶æ˜¯æ¶ˆè€—ï¼š" class="headerlink" title="æˆ˜å£«ï¼šæˆ‘è®¤ä¸ºï¼Œæˆ˜å£«çš„æœ€æ ¸å¿ƒæœºåˆ¶æ˜¯æ¶ˆè€—ï¼š"></a>æˆ˜å£«ï¼šæˆ‘è®¤ä¸ºï¼Œæˆ˜å£«çš„æœ€æ ¸å¿ƒæœºåˆ¶æ˜¯æ¶ˆè€—ï¼š</h6><ul><li>é€šè¿‡ç‚¹çƒ§ï¼ˆåšæ¯…+ï¼Œç‡ƒçƒ§å¥‘çº¦ï¼‰å’Œå¤§çƒ§ï¼ˆé‡æŒ¯ç²¾ç¥ï¼Œæ¶é­”ä¹‹ç„°ï¼‰å®Œæˆå¯¹å±€å†…å¡ç»„çš„ç²¾ç®€ï¼Œè¿›ä¸€æ­¥æ‰“å‡ºå°å¾ªç¯æˆ–æ— é™å¾ªç¯ã€‚</li><li>å¸¸è§camboæœ‰å‰‘è€¸æ— é™ï¼ˆæœ‰æ—¥æ™·çœŸæ— é™ï¼Œå¸¦æ”¾è¡€ä¼ªæ— é™ï¼‰ï¼Œäº®å‰‘å¦™è®¡ï¼Œæ’‘æŒ¯è‚šçš®ï¼Œè¿›åŒ–æ— è°‹å¥‘çº¦â€¦</li><li>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ˜å£«è¿˜æœ‰ä»¥å£å’å·©å›ºä¸ºæ ¸å¿ƒçš„é˜²æˆ˜ä½“ç³»å’Œä»¥åŠ›é‡ç»„ä»¶ä¸ºæ ¸å¿ƒçš„åŠ›é‡æˆ˜ä½“ç³»ï¼ˆåé—¨çš„æœ‰å¼ºä¾èµ–å•å¡å’Œç«å †çš„ç¼çƒ­æˆ˜ä½“ç³»ï¼‰</li></ul></li><li><h6 id="çŒäººï¼šçŒäººæ ¸å¿ƒæ˜¯è¿è½¬ï¼Œé€šè¿‡æ‘¸å¼ƒå®Œæˆè¿‡ç‰Œå›è´¹å’Œé›¶è´¹è¾“å‡ºï¼š"><a href="#çŒäººï¼šçŒäººæ ¸å¿ƒæ˜¯è¿è½¬ï¼Œé€šè¿‡æ‘¸å¼ƒå®Œæˆè¿‡ç‰Œå›è´¹å’Œé›¶è´¹è¾“å‡ºï¼š" class="headerlink" title="çŒäººï¼šçŒäººæ ¸å¿ƒæ˜¯è¿è½¬ï¼Œé€šè¿‡æ‘¸å¼ƒå®Œæˆè¿‡ç‰Œå›è´¹å’Œé›¶è´¹è¾“å‡ºï¼š"></a>çŒäººï¼šçŒäººæ ¸å¿ƒæ˜¯è¿è½¬ï¼Œé€šè¿‡æ‘¸å¼ƒå®Œæˆè¿‡ç‰Œå›è´¹å’Œé›¶è´¹è¾“å‡ºï¼š</h6><ul><li>å¼ƒç‰Œä½“ç³»å¯¹çŒäººæ¥è¯´æ˜¯æœ€æˆç†Ÿçš„ä½“ç³»ï¼Œç»„ä»¶ä¹Ÿæœ€å¸¸è§ï¼Œä¾‹å¦‚æœ€å¼ºç™½å¡è¿‡ç‰Œæ‚æŠ€1è´¹æŠ½4å¼ƒ1ï¼Œå› ä¸ºå¯¹çŒäººæ¥è¯´ï¼Œå¼ƒç‰Œå¾€å¾€å¸¦æ¥çš„æ˜¯æ­£é¢æ”¶ç›Šï¼ˆæœ¬èƒ½ååº”è¢«å¼ƒåæŠ½ç‰Œï¼Œæˆ˜æœ¯å¤§å¸ˆè¢«å¼ƒåå›è´¹ï¼‰å¼ºå¤§çš„è¿è½¬èƒ½åŠ›ä½¿å¾—çŒäººå‡ ä¹é€‚é…æ‰€æœ‰0è´¹è¾“å‡ºï¼Œå°¤å…¶æ˜¯é‡‘å¡åä¸½æ”¶åœºï¼Œ0è´¹AOEé«˜ä¼¤å®³ï¼Œå³ä½¿æ‰“å‡ºéœ€è¦ä¸¥è‹›çš„æ¡ä»¶ï¼Œä¹Ÿå€¼å¾—çŒäººä¸ºæ­¤ç‰¹åŒ–æ„ç­‘</li><li>çŒäººç¬¬äºŒåˆ†æ”¯æ˜¯æ¯’çŒï¼Œç”±äºé«˜è¿›é˜¶æ…¢å¯åŠ¨åƒæˆ˜æŸã€æ€•äººå·¥ç­‰ç¼ºç‚¹ï¼Œåœ¨æ²¡æœ‰å…³é”®å¡å‚¬åŒ–å‰‚çš„æƒ…å†µä¸‹ï¼Œå¾€å¾€ä½œä¸ºè¿‡æ¸¡çš„é€‰æ‹©</li><li>å°åˆ€çŒï¼šèŒæ–°æœ€çˆ±ç©çš„æµæ´¾ä¹‹ä¸€ï¼Œä½†æ˜¯æœ€å¥½ç¥ˆç¥·ä¸è¦é‡åˆ°å°åˆ€çŒæœ€ä¸¥å‰çš„çˆ¶äº²å“¦ï¼ˆä¼šé‡åˆ°æ—¶é—´åå™¬è€…ï¼ï¼‰</li></ul></li><li><h6 id="æ•…éšœæœºå™¨äººï¼ˆçƒ-x2F-é‡ç¼–ç¨‹ï¼‰ï¼š"><a href="#æ•…éšœæœºå™¨äººï¼ˆçƒ-x2F-é‡ç¼–ç¨‹ï¼‰ï¼š" class="headerlink" title="æ•…éšœæœºå™¨äººï¼ˆçƒ&#x2F;é‡ç¼–ç¨‹ï¼‰ï¼š"></a>æ•…éšœæœºå™¨äººï¼ˆçƒ&#x2F;é‡ç¼–ç¨‹ï¼‰ï¼š</h6><p>â€‹ç”±äºæœ¬äººçš„æœºå™¨äººæ°´å¹³å¹¶ä¸é«˜ï¼Œé‚é‚€è¯·å‹äººå¯¹å…¶è¯„ä»·ï¼Œç”±äºå†…å®¹è¾ƒé•¿ï¼Œæ”¾è‡³é™„å½•1ã€‚</p></li><li><h6 id="è§‚è€…ï¼šè§‚è€…æ ¸å¿ƒæ˜¯å§¿æ€è½¬æ¢ï¼š"><a href="#è§‚è€…ï¼šè§‚è€…æ ¸å¿ƒæ˜¯å§¿æ€è½¬æ¢ï¼š" class="headerlink" title="è§‚è€…ï¼šè§‚è€…æ ¸å¿ƒæ˜¯å§¿æ€è½¬æ¢ï¼š"></a>è§‚è€…ï¼šè§‚è€…æ ¸å¿ƒæ˜¯å§¿æ€è½¬æ¢ï¼š</h6><ul><li>æ„¤æ€’ï¼šåŒå€ä¼¤å®³ï¼Œä½†å—ä¼¤ä¹ŸåŒå€ï¼Œè§‚è€…çš„æœ€æ ¸å¿ƒæœºåˆ¶æ²¡æœ‰ä¹‹ä¸€ã€‚æ‰€æœ‰è§‚è€…çš„è¾“å‡ºå¡è®¾è®¡æ—¶å€™éƒ½è¦è€ƒè™‘åˆ°åŒå€ä¼¤å®³è¿™ä¸€æ¡ä»¶ã€‚å“ªæ€•æ˜¯åˆå§‹çš„æ‰“å‡»+1è´¹æ‰“9ï¼Œåˆ°è§‚è€…æ‰‹ä¸Šå°±æ˜¯ä¸€è´¹18ï¼Œäº§ç”Ÿè´¨å˜ã€‚åœ¨å‰ä¸¤å±‚é‡Œï¼Œæ„¤æ€’åŠ ä¸¤ä¸ªæ‰“å‡»è¶³ä»¥ç§’æ€è®¸å¤šå°æ€ªäº†ã€‚æ„¤æ€’çš„æœºåˆ¶è®©è§‚è€…æœ‰äº†é€Ÿæ€çš„èƒ½åŠ›ã€‚</li><li>å¹³é™ï¼šé€€å‡ºå¹³é™å§¿æ€æ—¶å€™å›ä¸¤è´¹ã€‚å¦‚æœè¯´å•çœ‹æ„¤æ€’æœºåˆ¶ï¼Œè¿˜å¯ä»¥è¯´æ˜¯é£é™©ä¸æœºé‡å¹¶å­˜â€”â€”é«˜ä¼¤å®³çš„åŒæ—¶é˜²å¾¡å‹åŠ›ä¹Ÿç¿»å€ï¼Œæ— æ³•æ–©æ€çš„æ€ªç‰©å°±è¦è€ƒè™‘é˜²å®ˆã€‚ä½†æ˜¯å¦‚æœåŠ ä¸Šå¹³é™åˆ™å®Œå…¨ä¸åŒï¼Œè§‚è€…å®Œå…¨å¯ä»¥è¿›å…¥æš´æ€’è¾“å‡ºæ‰“å®Œååœ¨è¿›å…¥å¹³é™ï¼Œä¸ä»…ä¸ç”¨æ‰¿å—åŒå€é˜²å¾¡å‹åŠ›ï¼Œè¿˜èƒ½ä¸ºä¸‹ä¸€è½®çš„è¾“å‡ºç§¯æ”’è´¹ç”¨ã€‚1è´¹å¹³é™å¡çš„å­˜åœ¨å¯¼è‡´è§‚è€…å®Œå…¨å¯ä»¥åœ¨çº¢è“ä¹‹é—´åˆ‡æ¢çš„è´¹ç”¨ä¸ä¼šæŸå¤±ï¼Œåªè¦æŠ½ç‰Œé‡è¶³å¤Ÿï¼Œè§‚è€…å°±èƒ½æŠŠæ‰€æœ‰çš„ç‰Œæ‰“å‡ºå»ã€‚æˆ‘ç›¸ä¿¡å¾ˆå¤šå°ä¼™ä¼´æ‰“å‡ºçš„ç¬¬ä¸€ä¸ªæ— é™å°±æ˜¯çŒ›è™ä¸‹å±±åŠ æš´æ€’ä¸æƒ§å¦–é‚ªï¼ˆé¸¡ç…²ï¼šæˆ‘è¦å­¦çŒ›è™ä¸‹å±±ï¼ï¼‰ç„¶åé‡Šæ€€çš„ç¬‘</li><li>ç¥æ ¼ï¼šå­˜åœ¨æ„Ÿå¾ˆä½çš„ä½“ç³»ï¼Œè¢«çº¢è“é®æ©äº†é”‹èŠ’ï¼Œå…¶æœ¬èº«åº•å­ä¸é”™ï¼Œæœ‰è¿‡ç‰Œæœ‰ä¿ç•™æœ‰0è´¹å¡ï¼Œä½†æ˜¯ç»„ä»¶è¿‡äºç»‘å®šï¼Œæ‹¿ä¸€å¼ æ„å‘³ç€å°±è¦æ‹¿ä¸€ä¸ªä½“ç³»ï¼Œè§‚è€…åˆæ˜¯ä¸€ä¸ªå¯¹å¡ç»„å¤§å°å¾ˆæ•æ„Ÿçš„èŒä¸šï¼Œå¯¼è‡´å®æˆ˜å¾ˆå¤šäººä¸æ„¿æ„æ‹¿ç¬¬ä¸€å¼ ç¥æ ¼å¡ï¼ˆå®Œå…¨æ˜¯ç´¯èµ˜ï¼‰ï¼Œè¿›è€Œä¸ç¢°æ•´ä¸ªç¥æ ¼ä½“ç³»ã€‚å°±åƒæˆ‘åœ¨æ•°å€¼ç¯‡åˆ†æçš„é‚£æ ·ï¼Œè§‚è€…çš„å¡ç‰Œæ•°å€¼ç»“æ„å°±æ˜¯å­˜åœ¨æ˜æ˜¾çš„é—®é¢˜ï¼Œæ— ç”¨å¡å æ¯”æ¯”å…¶ä½™ä¸‰ä¸ªèŒä¸šåŠ èµ·æ¥éƒ½å¤šï¼Œè¿™æ˜¯è®¾è®¡é‡Œæ¯”è¾ƒå¯æƒœçš„ç‚¹ã€‚</li><li>é¢„è§ï¼šæœ€æ„ä¹‰ä¸æ˜çš„ä½“ç³»ï¼Œè®¾è®¡çš„åƒä¸€ä¸ªåŠæˆå“ï¼Œä¸äºˆè¯„ä»·</li></ul></li></ul></li><li><h4 id="æ¸è¿›å¼æŒ‘æˆ˜ï¼š"><a href="#æ¸è¿›å¼æŒ‘æˆ˜ï¼š" class="headerlink" title="æ¸è¿›å¼æŒ‘æˆ˜ï¼š"></a>æ¸è¿›å¼æŒ‘æˆ˜ï¼š</h4><p>â€‹ä¸‰å±‚é€çº§æ”€å‡çš„å†’é™©ï¼Œæ¯å±‚ç»“å°¾è®¾æœ‰æœºåˆ¶ç‹¬ç‰¹çš„å¼ºåŠ›é¦–é¢†ï¼Œå¯¹ç‰Œç»„çš„å®Œæˆåº¦æå‡ºç¡¬æ€§è€ƒéªŒã€‚</p><ul><li><p><strong>ä¸€å±‚</strong>ï¼šå‘è‚²ä¸ºä¸»ï¼Œé«˜éš¾æŒ‘æˆ˜è¾ƒå°‘ï¼Œæå‰å‡†å¤‡å¯¹ç­–å¡å³å¯ã€‚å¦‚ç²¾è‹±å°çº¢è¦æ±‚å¡ç»„çš„æ”»å‡»ç‰Œæµ“åº¦ï¼Œç²¾è‹±ä¸‰æŸ±è¦æ±‚å¡ç»„ä¸­æœ‰å¯¹ç¾¤ç‰¹æ”»æˆ–è€…å¿«é€Ÿçš„ç‚¹æ€èƒ½åŠ›ã€‚æ€»ä½“æ¥è¯´å±é™©ç¨‹åº¦ä¸å¤§ï¼Œä»¥å¼•å¯¼ç©å®¶åˆç†é€‰å¡ä¸ºä¸»ã€‚</p></li><li><p><strong>äºŒå±‚</strong>ï¼šå±é™©åº¦é«˜ï¼Œè€ƒéªŒå¡ç»„æŠ—å‹èƒ½åŠ›ã€‚é«˜è¿›é˜¶çš„äºŒå±‚æ˜¯ç©å®¶å¤±è´¥æœ€å¤šçš„å±‚æ•°ã€‚ä¸€æ–¹é¢æ˜¯äºŒå±‚å°æ€ªçš„é«˜æ”»å‡»æ¬²æœ›å¸¦æ¥çš„è¡€çº¿å‹åŠ›ï¼Œä¸”å¸¸ä¼šç»™ç©å®¶åŠ debuffï¼›å¦ä¸€æ–¹é¢ç©å®¶å¡ç»„å¤§å¤šæ•°åœ¨äºŒå±‚å°šæœªæˆå‹ï¼Œå¦‚æœä¸€å±‚bossé—ç‰©æ‰è½çš„ä¸å¥½çš„è¯åœ¨äºŒå±‚åˆšè¿›é—¨é‡åˆ°åŒå°å·æˆ–è€…3é¸Ÿéƒ½ä¼šæ¯”è¾ƒåƒåŠ›ã€‚ä¸”äºŒå±‚ç²¾è‹±æ€ªä¸‰å¥´éš¶å’Œå°æ‰‹æ”»å‡»æ¬²æœ›å¾ˆé«˜æ¯å›åˆéƒ½æœ‰é«˜é¢æ”»å‡»ï¼Œä¼šå¾€å¡ç»„é‡Œå¡ä¼¤å£ï¼Œè¾ƒä¸ºå…‹åˆ¶åƒå¯åŠ¨å’Œè¿è½¬çš„å¡ç»„ã€‚åœ¨äºŒå±‚ï¼Œç©å®¶å¾—ç²¾ç»†æŠŠæ§è¡€é‡å’Œå‘è‚²çš„å¹³è¡¡ï¼Œæ—¢ä¸èƒ½æ¨ªæ­»é“ä¸­ï¼Œä¹Ÿä¸å¯ç«å †å…¨ç¡äºäº†å‘è‚²ã€‚</p></li><li><p><strong>ä¸‰å±‚</strong>ï¼šå¡ç»„æˆå‹çš„æ£€éªŒï¼Œå¼•å¯¼ç©å®¶è¡¥å¼ºæˆ–æ‰¾åˆ°çŸ­æ¿ã€‚æœ‰è¶£çš„æ˜¯ï¼Œè™½ç„¶ä¸‰å±‚å°æ€ªçš„å¼ºåº¦é«˜äºäºŒå±‚ï¼Œä½†ç©å®¶å‹åŠ›ç¼ºæ™®éä½äºäºŒå±‚ï¼Œä¸‰å±‚çš„å®é™…å‹åŠ›æ˜¯å¡”é¡¶çš„åŒé‡bossï¼ˆè¿›é˜¶20æ‰æœ‰ï¼‰ã€‚èƒ½è¿‡äºŒå±‚ï¼Œè¯´æ˜ç©å®¶å¡ç»„å·²ç»åˆæ­¥æˆå‹ï¼Œåœ¨ä¸‰å±‚çš„çš„ä¸»è¦ç›®çš„å˜æˆäº†å¯»æ‰¾å…³é”®keyç‰Œè¡¥å¼ºï¼Œæˆ–è€…æ•²ç‰Œåˆ ç‰Œå‘è‚²ã€‚è€Œä¸‰å±‚bossæ‰æ˜¯ä¸‰å±‚çš„çµé­‚ï¼š</p><ul><li>1.è§‰é†’è€…ï¼šç‰¹æ®Šæœºåˆ¶ï¼š2æ¡å‘½ï¼Œç©å®¶æ¯å¼€ä¸€ä¸ªèƒ½åŠ›ç‰Œè§‰é†’è€…åŠ ä¸¤ç‚¹åŠ›é‡ã€‚å…‹åˆ¶èƒ½åŠ›å¤šçš„èŒä¸šã€‚ï¼ˆåœ¨å¯åŠ¨äº†ï¼ï¼‰</li><li>2.æ—¶é—´åå™¬è€…ï¼ˆè€å¤´ï¼‰ï¼šç‰¹æ®Šæœºåˆ¶ï¼šç©å®¶æ¯å‡º12ç‰Œå¼ºåˆ¶ç»“æŸå›åˆã€‚ç‰¹åˆ«å…‹åˆ¶ä»¥æ¥è¿è½¬çš„ä½“ç³»å’Œä½è´¨é‡æ— é™</li><li>3.å…«ä½“å’Œç”œç”œåœˆï¼šç‰¹æ®Šæœºåˆ¶ï¼šé«˜æˆé•¿ï¼Œå¡çœ©æ™•ï¼Œè¿˜æœ‰ä¸‰å±‚äººå·¥ä¸å¥½ä¸Šdebuffã€‚</li></ul></li><li><p><strong>æœ€ç»ˆboss</strong>ï¼šå¿ƒè„ã€‚æœ€éš¾çš„bossã€‚ç‰¹æ®Šæœºåˆ¶å¦‚ä¸‹ï¼š</p><ul><li>1.å¾‹åŠ¨ï¼šæ¯å‡º1å¼ ç‰Œå—åˆ°ä¼¤å®³ï¼Œä¼¤å®³é‡éšå›åˆæ•°é€æ¸é€’å¢ã€‚è¿™ä¸ªæœºåˆ¶å¼ºåˆ¶è¦æ±‚å¡ç»„å¿…é¡»æœ‰èµ·é˜²èƒ½åŠ›ï¼Œä¸èƒ½æ‰“æ²¡æœ‰é˜²å¾¡çš„æ— é™ï¼šä¾‹å¦‚åŒå‰‘æŸ„æ—¥æ™·ï¼Œå¿…é¡»æ­é…èµ·é˜²å¡æˆ–è€…é—ç‰©ã€‚</li><li>2.åšä¸å¯æ‘§ï¼šæ¯å—åˆ°200ç‚¹ä¼¤å®³åï¼Œå°†å…ç–«ä¸€åˆ‡ä¼¤å®³ã€‚æœç»äº†ä¸€åˆ‡é€Ÿæ€çš„å¯èƒ½ï¼Œå†å¼ºå¤§çš„æ”»æ€å¡ç»„ï¼Œä¹Ÿå¾—è‡³å°‘å››å›åˆï¼Œå˜ç›¸æé«˜äº†å¯¹å¡ç»„ä¸­é˜²å¾¡æµ“åº¦çš„éœ€æ±‚ã€‚</li><li>3.ç¬¬ä¸€å›åˆå¡çŠ¶æ€ç‰Œå’ŒæŒ‚debuffã€‚ä½œä¸ºé›†å¤§æˆè€…ï¼Œå¿ƒè„ç¬¬ä¸€å›åˆä¸ä¼šæ”»å‡»ï¼Œè€Œæ˜¯è½¬ä¸ºå‘ä½ çš„æŠ½ç‰Œå †é‡ŒåŠ å…¥äº”å¼ çŠ¶æ€ç‰Œï¼Œå¹¶ä¸”ç»™ä½ æŒ‚æ˜“ä¼¤ï¼ˆå—åˆ°ä¼¤å®³å¢åŠ ï¼‰ï¼Œè™šå¼±ï¼ˆé€ æˆä¼¤å®³å‡å°‘ï¼‰ï¼Œè„†å¼±ï¼ˆè·å¾—æ ¼æŒ¡å‡å°‘ï¼‰ç­‰debuffã€‚è¿™å¯¹å¡ç»„çš„è¯·çŠ¶æ€ç‰Œèƒ½åŠ›æå‡ºé«˜è¦æ±‚ï¼Œå¹¶ä¸”ä¹Ÿå¹²æ‰°å¾ˆå¤šè„†å¼±çš„æ— é™å’Œå¾ªç¯æ‰‹æ®µã€‚</li><li>4.é«˜æˆé•¿ï¼šå¿ƒè„æ¯ä¸‰å›åˆè¿›è¡Œä¸€æ¬¡å¼ºåŒ–ï¼Œæé«˜åŠ›é‡å¹¶é‡ç½®è‡ªèº«è´Ÿé¢çŠ¶æ€ã€‚åŸºæœ¬å…«åˆ°ä¹å›åˆä¹‹åï¼Œå¿ƒè„çš„æ”»å‡»ä¹å¾ˆéš¾ç”¨ä¸€èˆ¬èµ·é˜²æ‰‹æ®µé˜²å¾¡ä½äº†ã€‚è¿™ä¸ªæœºåˆ¶è¦æ±‚ç©å®¶çš„å¡ç»„æœ‰åœ¨ä¸Šè¿°è´Ÿé¢æ¡ä»¶å½±å“ä¸‹ä¾æ—§èƒ½å¿«é€Ÿè§£å†³æˆ˜æ–—çš„èƒ½åŠ›ã€‚</li></ul></li></ul></li><li><h4 id="éšæœºäº‹ä»¶ï¼š"><a href="#éšæœºäº‹ä»¶ï¼š" class="headerlink" title="éšæœºäº‹ä»¶ï¼š"></a>éšæœºäº‹ä»¶ï¼š</h4><ul><li>æä¾›é«˜é£é™©é«˜å›æŠ¥çš„ç‰¹æ®ŠæŠ‰æ‹©ï¼ŒæŒç»­å¢åŠ æ¸¸æˆè¿›ç¨‹çš„å˜æ•°ã€‚éƒ¨åˆ†äº‹ä»¶å…·æœ‰ä¸€é”¤å®šéŸ³çš„æ•ˆæœï¼Œä¾‹å¦‚äºŒå±‚çš„çµä½“äº‹ä»¶å¯ä»¥è§£å†³ç»å¤§å¤šæ•°å¡ç»„çš„å¯åŠ¨å‹åŠ›ï¼Œä¸‰å±‚çš„æ•²å…¨éƒ¨ç‰Œäº‹ä»¶æ˜¯ç¼ºæ•²ä½çŒäººçš„æ•‘å‘½ç¨»è‰ï¼ˆå³ä½¿ä»£ä»·æ˜¯æ— æ³•å›å¤è¡€é‡ï¼‰ã€‚ç”±äºè¯¸å¤šéšæœºäº‹ä»¶çš„è®¾è®¡ï¼Œç»™æ€æˆ®å°–å¡”çš„è·¯çº¿é€‰æ‹©å¸¦æ¥æ›´åŠ ä¸°å¯Œçš„å¯èƒ½æ€§ï¼Œä¹Ÿæä¾›äº†æœªçŸ¥çš„ä¹è¶£å’Œåšå¼ˆæ€§ã€‚</li></ul></li></ul><h2 id="ç¬¬äºŒæ­¥ï¼šå¹³è¡¡æ€§åˆ†æâ€”â€”ç²¾å¯†çš„è°ƒæ§è‰ºæœ¯"><a href="#ç¬¬äºŒæ­¥ï¼šå¹³è¡¡æ€§åˆ†æâ€”â€”ç²¾å¯†çš„è°ƒæ§è‰ºæœ¯" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šå¹³è¡¡æ€§åˆ†æâ€”â€”ç²¾å¯†çš„è°ƒæ§è‰ºæœ¯"></a>ç¬¬äºŒæ­¥ï¼šå¹³è¡¡æ€§åˆ†æâ€”â€”ç²¾å¯†çš„è°ƒæ§è‰ºæœ¯</h2><p>çœŸæ­£è®©è¿™äº›æ¨¡å—ç„•å‘ç”Ÿæœºçš„ï¼Œæ˜¯ä½¿å…¶ç›¸äº’å’¬åˆã€å……æ»¡æƒè¡¡çš„ç²¾å¦™å¹³è¡¡è®¾è®¡ã€‚ä¸‹å›¾æ¦‚æ‹¬äº†æ¸¸æˆåœ¨å‡ ä¸ªå…³é”®ç»´åº¦ä¸Šå¦‚ä½•è®¾ç½®å¹³è¡¡ç‚¹ï¼š</p><pre class="mermaid">flowchart LR    subgraph A [é£é™©ä¸å›æŠ¥çš„é‡åŒ–]        direction LR        A1[ç”Ÿå‘½å€¼] -- ä½œä¸ºå†³ç­–è´§å¸ --> A2[è®¡ç®—ç²¾è‹±æˆ˜æ”¶ç›Š<br>è¯„ä¼°äº‹ä»¶ä»£ä»·]    end    subgraph B [èµ„æºä¸æ±¡æŸ“çš„åšå¼ˆ]        direction LR        B1[æ·»åŠ æ–°å¡ç‰Œ] -- å¯èƒ½ --> B2[ç¨€é‡Šç‰Œåº“æµ“åº¦]        B2 -- æå‡ --> B3[åˆ é™¤åŸºç¡€ç‰Œçš„æˆ˜ç•¥ä»·å€¼]    end    subgraph C [é—ç‰©çš„å‚¬åŒ–æ•ˆåº”]        direction LR        C1[ç‰¹å®šé—ç‰©] -- ä¸å¡ç‰ŒååŒ --> C2[å¼•å‘è´¨å˜<br>å¦‚ï¼šè›‡çœ¼+é«˜è´¹æ”»å‡»]        C2 -- å¼•å¯¼ --> C3[æ•´å±€æ¸¸æˆæ„ç­‘æ–¹å‘]    end    A --> D[ç»ˆæç›®æ ‡ï¼š<br>åœ¨åŠ¨æ€çº¦æŸä¸­è§„åˆ’æœ€ä¼˜è§£]    B --> D    C --> D</pre><h3 id="1-é£é™©ä¸å›æŠ¥çš„é‡åŒ–ä½“ç³»"><a href="#1-é£é™©ä¸å›æŠ¥çš„é‡åŒ–ä½“ç³»" class="headerlink" title="1. é£é™©ä¸å›æŠ¥çš„é‡åŒ–ä½“ç³»"></a>1. é£é™©ä¸å›æŠ¥çš„é‡åŒ–ä½“ç³»</h3><p>æ¸¸æˆå°†ç»å¤§å¤šæ•°å†³ç­–è½¬åŒ–ä¸ºå¯è¯„ä¼°çš„é£é™©ä¸å›æŠ¥ã€‚</p><ul><li><strong>ç”Ÿå‘½å€¼çš„éšå½¢æ ‡ä»·</strong>ï¼šä¸€åœºæ™®é€šæˆ˜æ–—çš„é¢„æœŸæŸè€—ã€ä¸€ä¸ªäº‹ä»¶é€‰é¡¹çš„æ½œåœ¨ä»£ä»·ã€æŒ‘æˆ˜ç²¾è‹±æ‰€éœ€çš„â€œå…¥åœºè´¹â€ï¼Œéƒ½ç»è¿‡äº†ç²¾ç¡®è®¡ç®—ã€‚ç²¾è‹±æˆ˜æ–—è™½ç„¶å±é™©ï¼Œä½†å…¶æ‰è½çš„æ ¸å¿ƒé—ç‰©ä»·å€¼è¢«è®¾å®šä¸ºâ€œé€šå¸¸å€¼å¾—ä¸”ç»å¸¸å¿…è¦â€ï¼Œå°¤å…¶æ˜¯åœ¨é«˜å±‚è¿›é˜¶ä¸­ï¼Œå›é¿ç²¾è‹±å¾€å¾€æ„å‘³ç€åæœŸå¼ºåº¦ä¸è¶³ã€‚</li><li><strong>è·¯çº¿é€‰æ‹©çš„æ•°å­¦åšå¼ˆ</strong>ï¼šåœ°å›¾è®¾è®¡ä¿è¯äº†é«˜æ”¶ç›ŠèŠ‚ç‚¹ï¼ˆç²¾è‹±ã€å•†åº—ï¼‰å¾€å¾€ä¼´éšæ›´é«˜çš„æˆ˜æ–—å¯†åº¦æˆ–è·¯å¾„æˆæœ¬ã€‚ç©å®¶éœ€è¦æ ¹æ®å®æ—¶çŠ¶æ€ï¼ˆè¡€é‡ã€é‡‘å¸ã€ç‰Œç»„å…³é”®éœ€æ±‚ï¼‰è¿›è¡ŒåŠ¨æ€è§„åˆ’ï¼Œè®¡ç®—æœ€ä¼˜çš„æ•°å­¦æœŸæœ›ã€‚</li></ul><h3 id="2-å¡ç‰Œå¼ºåº¦ä¸â€œå¡ç»„æ±¡æŸ“â€çš„å¯¹æŠ—"><a href="#2-å¡ç‰Œå¼ºåº¦ä¸â€œå¡ç»„æ±¡æŸ“â€çš„å¯¹æŠ—" class="headerlink" title="2. å¡ç‰Œå¼ºåº¦ä¸â€œå¡ç»„æ±¡æŸ“â€çš„å¯¹æŠ—"></a>2. å¡ç‰Œå¼ºåº¦ä¸â€œå¡ç»„æ±¡æŸ“â€çš„å¯¹æŠ—</h3><p>å•å¡å¼ºåº¦å¿…é¡»ç½®äºç‰Œç»„æ•´ä½“å¾ªç¯æ•ˆç‡çš„å…¨å±€ä¸­è€ƒé‡ã€‚</p><ul><li><strong>ç¨€é‡Šæƒ©ç½š</strong>ï¼šç›²ç›®æ·»åŠ ä½è´¨é‡æˆ–ä¸åˆæµçš„å¡ç‰Œï¼Œä¼šæ˜¾è‘—é™ä½æŠ½åˆ°æ ¸å¿ƒç»„ä»¶çš„æ¦‚ç‡ã€‚è¿™è¿«ä½¿ç©å®¶åœ¨â€œæ‹¿ç‰Œè§£å†³å½“ä¸‹é—®é¢˜â€ä¸â€œä¿æŒç‰Œç»„ç²¾ç®€ä¸“æ³¨â€ä¹‹é—´æŒç»­æƒè¡¡ã€‚</li><li><strong>åˆ é™¤æœºåˆ¶çš„æˆ˜ç•¥ä»·å€¼</strong>ï¼šå› æ­¤ï¼Œå•†åº—ä¸­çš„â€œåˆ ç‰Œâ€æœåŠ¡æˆä¸ºæ ¸å¿ƒæˆ˜ç•¥ç¯èŠ‚ã€‚ç§»é™¤åˆå§‹çš„æ‰“å‡»é˜²å¾¡ä»¥æå‡å¡ç»„ä¸­å…³é”®ç‰Œçš„æµ“åº¦ï¼Œæ˜¯æ„ç­‘ä»ç²—ç³™èµ°å‘ç²¾ç‚¼çš„å…³é”®ä¸€æ­¥ï¼Œè¿™èµ‹äºˆäº†ç»æµèµ„æºï¼ˆé‡‘å¸ï¼‰æ·±è¿œçš„æˆ˜ç•¥æ„ä¹‰ã€‚</li></ul><h3 id="3-èŒä¸šæ ¸å¿ƒæœºåˆ¶çš„æ•°å€¼è¾¹ç•Œ"><a href="#3-èŒä¸šæ ¸å¿ƒæœºåˆ¶çš„æ•°å€¼è¾¹ç•Œ" class="headerlink" title="3. èŒä¸šæ ¸å¿ƒæœºåˆ¶çš„æ•°å€¼è¾¹ç•Œ"></a>3. èŒä¸šæ ¸å¿ƒæœºåˆ¶çš„æ•°å€¼è¾¹ç•Œ</h3><p>â€‹å…·ä½“åˆ†æè§ä¸Šæ–‡æ€æˆ®å°–å¡”çš„æ•°å€¼åˆ†æç¯‡ï¼Œè¿™é‡Œä»…ä½œç®€å•ä»‹ç»ã€‚</p><ul><li>æˆ˜å£«çš„æ ¼æŒ¡ä¸åŠ›é‡ï¼šæ ¼æŒ¡å€¼æ¯å›åˆæ¸…ç©ºï¼Œä½¿å¾—å£å’è¿™ç±»ä¿ç•™æ ¼æŒ¡çš„å¡ç‰Œä»·å€¼å‡¸æ˜¾ã€‚åŠ›é‡æˆé•¿è™½çº¿æ€§ï¼Œä½†ä¸å¤šæ®µæ”»å‡»é…åˆèƒ½äº§ç”ŸæŒ‡æ•°çº§ä¼¤å®³ï¼Œå…¶æ½œåŠ›è¢«ä¸¥æ ¼é™åˆ¶åœ¨é«˜è´¹ç”¨æˆ–ç¨€æœ‰å¡ä¸­ã€‚</li><li>çŒæ‰‹çš„å¼ƒç‰Œè¿è½¬ï¼šå…¶æ ¸å¿ƒåœ¨äºé€šè¿‡å¤§é‡æŠ½ç‰Œã€å¼ƒç‰Œè§¦å‘æ•ˆæœï¼ˆå¦‚â€œæœ¬èƒ½ååº”â€ã€â€œæ‚æŠ€â€ï¼‰å’Œ0è´¹å¡ç‰Œæ¥å®ç°æ¯å›åˆçš„é«˜é¢æ“ä½œé‡ã€‚å¹³è¡¡çš„å…³é”®åœ¨äºï¼Œå‡å°‘å¡ç»„å†…éå…³é”®ç‰Œçš„æµ“åº¦ï¼ˆåˆå§‹çš„æ‰“å‡»é˜²å¾¡ï¼Œä»…ç”¨äºè¿‡æ¸¡çš„æ”»å‡»å¡ï¼‰ï¼Œå’Œéœ€è¦é…åˆçš„èµ„æºå¡ï¼ˆæˆ˜æœ¯å¤§å¸ˆï¼Œå¼ƒç½®æ­¤ç‰Œè·å¾—èƒ½é‡ï¼‰ã€‚</li><li>æ•…éšœæœºå™¨äººçš„é›†ä¸­ï¼šä½œä¸ºæå‡æ‰€æœ‰å……èƒ½çƒæ•ˆç‡çš„å…¨å±€ä¹˜æ•°ï¼Œè·å–é›†ä¸­åŠ›çš„æ‰‹æ®µï¼ˆå¦‚â€œç¢ç‰‡æ•´ç†â€ã€â€œåå·®è®¤çŸ¥â€ï¼‰</li><li>è§‚è€…çš„å§¿æ€åˆ‡æ¢ï¼šâ€œæ„¤æ€’â€å§¿æ€ä¸‹é€ æˆä¸æ‰¿å—ä¼¤å®³å‡ç¿»å€ï¼Œè¿™ä¸€ç®€æ´è®¾è®¡åˆ›é€ äº†æé«˜çš„æ“ä½œé£é™©ä¸çˆ†å‘æ½œåŠ›ï¼Œè¿«ä½¿ç©å®¶ç²¾ç¡®è§„åˆ’å§¿æ€åˆ‡æ¢çš„èŠ‚å¥ï¼Œå®ç°é«˜æ•ˆçš„æ”»é˜²å¾ªç¯ã€‚</li></ul><h3 id="4-é—ç‰©çš„å‚¬åŒ–å‰‚æ•ˆåº”"><a href="#4-é—ç‰©çš„å‚¬åŒ–å‰‚æ•ˆåº”" class="headerlink" title="4. é—ç‰©çš„å‚¬åŒ–å‰‚æ•ˆåº”"></a>4. é—ç‰©çš„å‚¬åŒ–å‰‚æ•ˆåº”</h3><p>é—ç‰©è®¾è®¡çš„é«˜æ˜ä¹‹å¤„åœ¨äºï¼Œå®ƒä»¬å¸¸å¸¸æ˜¯èƒ½ä¿ƒä½¿å¡ç»„äº§ç”ŸåŒ–å­¦åçš„å‚¬åŒ–å‰‚ã€‚</p><ul><li>ååŒå¼•çˆ†ç‚¹ï¼šå¦‚æ­»çµä¹‹ä¹¦ï¼ˆæ¯å›åˆç¬¬ä¸€å¼ äºŒè´¹åŠä»¥ä¸Šæ”»å‡»ç‰Œæ‰“å‡ºä¸¤æ¬¡ï¼‰ä¸é«˜è´¹æ”»å‡»ç‰Œçš„é…åˆï¼Œèƒ½å°†å•æ¬¡çˆ†å‘ä¼¤å®³å€å¢ã€‚è¿™ç±»é—ç‰©ä¸ç‰¹å®šå¡ç‰Œç»“åˆåï¼Œä¾¿èƒ½å¼•å‘æ„ç­‘çš„è´¨å˜ã€‚</li><li>æ„ç­‘å¯¼å‘æ€§ï¼šæ—©æœŸè·å¾—ä¸€ä¸ªæ ¸å¿ƒé—ç‰©ï¼ˆå¦‚â€œå¼‚è›‡ä¹‹çœ¼â€ï¼šæ¯å›åˆå¤šæŠ½äºŒï¼Œä½ å¡ç‰Œçš„èƒ½åŠ›æ¶ˆè€—å°†ä¼šéšæœºæ”¹å˜ï¼‰ï¼Œå¾€å¾€ä¼šç›´æ¥å®šä¹‰æ•´å±€æ¸¸æˆçš„æ„ç­‘æ–¹å‘ï¼ˆå¤šæŠ“é«˜è´¹ç‰Œï¼Œå°‘æŠ“0è´¹ï¼‰ã€‚è¿™ç§å› åŠ¿åˆ©å¯¼çš„åŠ¨æ€è§„åˆ’ï¼Œæ­£æ˜¯æ¸¸æˆç­–ç•¥æ·±åº¦çš„æ ¸å¿ƒä½“ç°ã€‚</li></ul><h2 id="ç¬¬ä¸‰æ­¥ï¼šè®¾è®¡å“²å­¦æç‚¼â€”â€”æˆåŠŸçš„åº•å±‚é€»è¾‘"><a href="#ç¬¬ä¸‰æ­¥ï¼šè®¾è®¡å“²å­¦æç‚¼â€”â€”æˆåŠŸçš„åº•å±‚é€»è¾‘" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šè®¾è®¡å“²å­¦æç‚¼â€”â€”æˆåŠŸçš„åº•å±‚é€»è¾‘"></a><strong>ç¬¬ä¸‰æ­¥ï¼šè®¾è®¡å“²å­¦æç‚¼â€”â€”æˆåŠŸçš„åº•å±‚é€»è¾‘</strong></h2><p>åœ¨å…·ä½“çš„å¹³è¡¡æ€§ä¹‹ä¸Šï¼Œæ˜¯æ”¯æ’‘æ•´ä¸ªæ¸¸æˆä½“éªŒçš„ã€æ›´ä¸ºæ™®é€‚çš„è®¾è®¡ç†å¿µã€‚è¿™äº›ç†å¿µä¹‹é—´çš„æ”¯æ’‘å…³ç³»ï¼Œæ„æˆäº†æ¸¸æˆç¨³å›ºçš„è®¾è®¡ä¸‰è§’ï¼š</p><pre class="mermaid">graph TD    subgraph è¡¨å±‚ä½“éªŒ        D[åŠ¨æ€æ„å»ºçš„ä¹è¶£<br>â€œç°åœ¨æˆ‘èƒ½èµ°å“ªæ¡è·¯ï¼Ÿâ€]    end    subgraph åº•å±‚æ”¯æŸ±        A[â€œé™åˆ¶â€åˆ›é€ æ·±åº¦<br>èƒ½é‡/æ‰‹ç‰Œ/ç”Ÿå‘½å€¼] --> D        B[ä¿¡æ¯é€æ˜ä¸‹çš„é£é™©è®¡ç®—<br>å°†è¿æ°”è½¬åŒ–ä¸ºç­–ç•¥] --> D        C[å¯æ§çš„éšæœºæ€§<br>ç”¨é€‰æ‹©å¼•å¯¼éšæœºç»“æœ] --> D    end    D --> E[æ ¸å¿ƒä½“éªŒï¼š<br>åœ¨çº¦æŸä¸­æ„Ÿå—æŒæ§æ„Ÿä¸æˆé•¿çš„æƒåŠ›]</pre><h3 id="1-é™åˆ¶æ˜¯æ·±åº¦ç­–ç•¥çš„æºæ³‰"><a href="#1-é™åˆ¶æ˜¯æ·±åº¦ç­–ç•¥çš„æºæ³‰" class="headerlink" title="1. é™åˆ¶æ˜¯æ·±åº¦ç­–ç•¥çš„æºæ³‰"></a>1. é™åˆ¶æ˜¯æ·±åº¦ç­–ç•¥çš„æºæ³‰</h3><p>æ¸¸æˆä¸­æœ€å¼•äººå…¥èƒœçš„å†³ç­–ï¼Œå‡ ä¹éƒ½æºäºä¸å„ç§é™åˆ¶çš„å¯¹æŠ—ã€‚</p><ul><li><p>èƒ½é‡é™åˆ¶ï¼ˆæ¯å›åˆ3ç‚¹ï¼‰ï¼šè¦æ±‚æƒè¡¡æ¯å¼ å¡ç‰Œçš„è´¹ç”¨ä¸æ•ˆæœã€‚</p></li><li><p>æ‰‹ç‰Œä¸æŠ½ç‰Œé™åˆ¶ï¼šéœ€è¦ç®¡ç†ç‰Œåºå¹¶æ„å»ºè¿‡ç‰Œå¼•æ“ã€‚</p></li><li><p>è¯æ°´æ§½ä½é™åˆ¶ï¼šè®©æ¯ä¸ªè¯æ°´é€‰æ‹©éƒ½æ„ä¹‰é‡å¤§ã€‚</p></li><li><p>ç”Ÿå‘½å€¼é™åˆ¶ï¼šå°†ç”Ÿå­˜å‹åŠ›è½¬åŒ–ä¸ºè´¯ç©¿å…¨å±€çš„å†³ç­–ç»´åº¦ã€‚</p><p>æ­£æ˜¯è¿™äº›é™åˆ¶çš„å­˜åœ¨ï¼Œä½¿å¾—é‚£äº›èƒ½å¤Ÿçªç ´é™åˆ¶çš„æ•ˆæœï¼ˆè·å¾—é¢å¤–èƒ½é‡ã€é¢å¤–æŠ½ç‰Œã€å¤åˆ¶å¡ç‰Œã€æ— è§†æ¶ˆè€—ç­‰ï¼‰æˆä¸ºç©å®¶æ„å»ºçš„ç»ˆæè¿½æ±‚ï¼Œåˆ›é€ äº†å¼ºçƒˆçš„æˆé•¿æ„Ÿä¸æ„ç­‘æˆå°±æ„Ÿã€‚</p></li></ul><h3 id="2-ä¿¡æ¯é€æ˜ä¸‹çš„é£é™©è®¡ç®—"><a href="#2-ä¿¡æ¯é€æ˜ä¸‹çš„é£é™©è®¡ç®—" class="headerlink" title="2. ä¿¡æ¯é€æ˜ä¸‹çš„é£é™©è®¡ç®—"></a>2. ä¿¡æ¯é€æ˜ä¸‹çš„é£é™©è®¡ç®—</h3><p>æ¸¸æˆæ‘’å¼ƒäº†æˆ˜æ–—ä¸­çš„éšè—éª°å­ï¼Œå¹¶æ¸…æ™°é¢„å‘Šæ•Œäººçš„ä¸‹å›åˆè¡ŒåŠ¨ã€‚è¿™å·§å¦™åœ°å°†è¿æ°”é—®é¢˜è½¬åŒ–ä¸ºäº†é£é™©è®¡ç®—é—®é¢˜ã€‚<br>ç©å®¶æ€è€ƒçš„ä¸å†æ˜¯ä¼šä¸ä¼šå‡ºæš´å‡»ï¼Ÿï¼Œè€Œæ˜¯ä»¥æˆ‘å½“å‰çš„è¡€é‡å’Œç‰Œåº“ï¼Œæ¥ä¸‹è¿™æ‹›åå­˜æ´»å¹¶ååˆ¶çš„æ¦‚ç‡æœ‰å¤šå¤§ï¼Ÿå†³ç­–åŸºäºå·²çŸ¥ä¿¡æ¯ä¸æ¦‚ç‡ä¼°ç®—ï¼ŒæˆåŠŸå¸¦æ¥çš„æˆå°±æ„Ÿæºäºç²¾å¦™çš„è§„åˆ’ä¸è®¡ç®—ï¼Œè€Œéå•çº¯çš„éšæœºæ©èµã€‚</p><h3 id="3-åŠ¨æ€é€‚åº”ï¼Œè€Œéé™æ€æ­é…"><a href="#3-åŠ¨æ€é€‚åº”ï¼Œè€Œéé™æ€æ­é…" class="headerlink" title="3. åŠ¨æ€é€‚åº”ï¼Œè€Œéé™æ€æ­é…"></a>3. åŠ¨æ€é€‚åº”ï¼Œè€Œéé™æ€æ­é…</h3><p>ä¸é¢„å…ˆç»„å¥½å›ºå®šå¥—ç‰Œçš„ä¼ ç»Ÿå¡ç‰Œæ¸¸æˆä¸åŒï¼Œã€Šæ€æˆ®å°–å¡”ã€‹çš„æ ¸å¿ƒä¹è¶£åœ¨äº<strong>æ ¹æ®å·²è·å¾—çš„èµ„æºï¼Œå³æ—¶è§„åˆ’æœ€ä¼˜çš„èƒœåˆ©è·¯å¾„</strong>ã€‚æ¯ä¸€å±€ï¼Œç©å®¶éƒ½åœ¨å›ç­”ä¸€ä¸ªåŠ¨æ€é—®é¢˜ï¼šâ€œåŸºäºæˆ‘å½“å‰çš„å¡ç‰Œå’Œé—ç‰©ï¼Œæˆ‘æœ€æœ‰å¯èƒ½é€šå¾€èƒœåˆ©çš„æ„ç­‘æ–¹å‘æ˜¯ä»€ä¹ˆï¼Ÿâ€<br>è¿™å°±è¦æ±‚è®¾è®¡å¿…é¡»æä¾›å¤§é‡ä¸­ç­‰å¼ºåº¦ã€å…·å¤‡å¤šç§ååŒæ½œåŠ›çš„å¡ç‰Œä¸é—ç‰©ï¼Œç¡®ä¿æ— è®ºéšæœºè·å¾—ä½•ç§å¥–åŠ±ï¼Œç©å®¶æ€»èƒ½æ‰¾åˆ°ä¸€ä¸ªæœ‰å‘å±•æ½œåŠ›çš„æ–¹å‘ï¼Œè€Œéä¾èµ–å°‘æ•°å‡ ä¸ªå›ºå®šçš„é€šå…³å…¬å¼ã€‚</p><h3 id="4-å¯æ§çš„éšæœºä¸æ­£å‘çš„é›ªçƒæ•ˆåº”"><a href="#4-å¯æ§çš„éšæœºä¸æ­£å‘çš„é›ªçƒæ•ˆåº”" class="headerlink" title="4. å¯æ§çš„éšæœºä¸æ­£å‘çš„é›ªçƒæ•ˆåº”"></a>4. å¯æ§çš„éšæœºä¸æ­£å‘çš„é›ªçƒæ•ˆåº”</h3><p>æ¸¸æˆçš„éšæœºæ€§è¢«é«˜åº¦ç»“æ„åŒ–çš„â€œç©å®¶é€‰æ‹©â€æ‰€åŒ…è£¹ä¸å¼•å¯¼ã€‚</p><ul><li><p>ä¸‰é€‰ä¸€å¥–åŠ±ï¼šå…è®¸ç©å®¶åœ¨éšæœºé€‰é¡¹ä¸­æŒ‘é€‰æœ€ç¬¦åˆå½“å‰ç­–ç•¥çš„æ‹¼å›¾ã€‚</p></li><li><p>åœ°å›¾è·¯çº¿é€‰æ‹©ï¼šå…è®¸ç©å®¶æ ¹æ®è‡ªå·±çš„çŠ¶æ€ä¸»åŠ¨è¶‹åˆ©é¿å®³ã€‚</p></li><li><p>å•†åº—è´­ä¹°ï¼šå…è®¸ç©å®¶ç”¨é€šç”¨èµ„æºï¼ˆé‡‘å¸ï¼‰ç²¾ç¡®å¡«è¡¥çŸ­æ¿ã€‚</p><p>è¿™ç§è®¾è®¡è®©ç©å®¶æ„Ÿè§‰è‡ªå·±æ˜¯åœ¨ä¸æ–­å°†éšæœºæ€§å¼•å¯¼å‘åˆ©äºè‡ªå·±çš„æ–¹å‘ã€‚ä¸€æ—¦å…³é”®ååŒå½¢æˆï¼Œæ„ç­‘å¼€å§‹æ­£å‘å¾ªç¯ï¼ˆäº§ç”Ÿé›ªçƒæ•ˆåº”ï¼‰ï¼Œç©å®¶èƒ½æ¸…æ™°æ„Ÿå—åˆ°è‡ªå·±å¯¹å±€é¢çš„æ§åˆ¶åŠ›ä»å¼±åˆ°å¼ºçš„å¢é•¿è¿‡ç¨‹ã€‚è¿™ç§ä¸æ–­å¢å¼ºçš„æŒæ§æ„Ÿï¼Œæ˜¯æ¸¸æˆæä¾›æŒä¹…æ­£åé¦ˆå’Œæˆç˜¾æ€§çš„å…³é”®ã€‚</p></li></ul><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a><strong>ç»“è¯­</strong></h2><p>é€šè¿‡å¯¹ã€Šæ€æˆ®å°–å¡”ã€‹â€œå†…å®¹-å¹³è¡¡-è®¾è®¡â€ä¸‰å±‚ç»“æ„çš„å‰–æï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå…¶ä¼Ÿå¤§ä¹‹å¤„åœ¨äºæ„å»ºäº†ä¸€ä¸ªè§„åˆ™ç®€æ´ä½†äº¤äº’æ·±å¥¥çš„å†³ç­–æ¨¡æ‹Ÿå™¨ã€‚<br>å®ƒä»¥é™åˆ¶åˆ›é€ å¼ åŠ›ï¼Œä»¥é€æ˜ä¿éšœå…¬å¹³ï¼Œä»¥åŠ¨æ€æ„å»ºé¼“åŠ±æ™ºæ…§é€‚åº”ï¼Œå†ä»¥å¯æ§çš„éšæœºæ€§æä¾›æ— ç©·çš„æ¢ç´¢ç©ºé—´ã€‚å®ƒå°†æ‰€æœ‰æ¸¸æˆå…ƒç´ ç¼–ç»‡è¿›ä¸€å¼ ç²¾å¯†çš„ç½‘ä¸­ï¼Œè®©æ¯ä¸€æ¬¡æŠ½ç‰Œã€æ¯ä¸€æ¬¡è·¯çº¿é€‰æ‹©éƒ½å……æ»¡æ„ä¹‰ã€‚<br>æœ€ç»ˆï¼Œå®ƒæä¾›äº†ä¸€ç§çº¯ç²¹è€Œè¿·äººçš„ç­–ç•¥ä¹è¶£ï¼šåœ¨è§„åˆ™ä¸éšæœºçš„åŒé‡çº¦æŸä¸‹ï¼Œè¿ç”¨æ™ºæ…§ï¼Œä»æ— åˆ°æœ‰åœ°æ„å»ºå‡ºä¸€ä¸ªèƒ½å¤Ÿå…‹æœä¸‡éš¾ã€ç‹¬ç‰¹è€Œå¼ºå¤§çš„ç³»ç»Ÿã€‚è¿™æˆ–è®¸å°±æ˜¯ã€Šæ€æˆ®å°–å¡”ã€‹èƒ½å¤Ÿè¶…è¶Šç±»å‹ï¼Œæˆä¸ºè®¾è®¡å…¸èŒƒçš„æ ¹æœ¬åŸå› ã€‚</p><hr><h2 id="é™„å½•1"><a href="#é™„å½•1" class="headerlink" title="é™„å½•1"></a>é™„å½•1</h2><h6 id="ç‰¹åˆ«é¸£è°¢ï¼š"><a href="#ç‰¹åˆ«é¸£è°¢ï¼š" class="headerlink" title="ç‰¹åˆ«é¸£è°¢ï¼š"></a>ç‰¹åˆ«é¸£è°¢ï¼š</h6><p><strong>Songhan Caiå…ˆç”Ÿå¯¹æ•…éšœæœºå™¨äººç†è®ºæå‡ºçš„å¤§åŠ›æ”¯æŒã€‚ä»–æ˜¯å‡ºè‰²é¸¡ç…²é«˜æ‰‹ï¼ˆï¼‰ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä»–å¯¹æ•…éšœæœºå™¨äººçš„ç†è§£</strong>ï¼š</p><blockquote><p>â€‹æ•…éšœæœºå™¨äººæ˜¯æ€æˆ®å°–å¡”ä¸­çš„æœ€å¼ºçš„è§’è‰²<strong>ï¼ˆæ‹¬å·å‡ä¸ºé»„é€¸é£æ’è¯ï¼šå¹¶éï¼‰</strong>ï¼Œå®ƒæ‹¥æœ‰å…¶ä»–èŒä¸šéš¾ä»¥æœ›å…¶é¡¹èƒŒçš„æ•°å€¼å’Œä»¤æ‰€æœ‰æ€ªç‰©é—»é£ä¸§èƒ†çš„æœºåˆ¶ï¼ˆ<strong>æ•°å€¼åœ¨å“ªï¼Ÿ</strong>ï¼‰ã€‚</p><p>â€‹æœºå™¨äººçš„å¤§éƒ¨åˆ†ä½“ç³»å›´ç»•å……èƒ½çƒæ¥å±•å¼€ï¼Œå››ç§å……èƒ½çƒå„å¸å…¶èŒï¼Œåœ¨å„ä¸ªç«¯å£ä¸ºæœºå™¨äººæ„å»ºäº†å…¨é¢å¹¶ä¸”å¼ºå¤§ï¼ˆ<strong>ï¼Ÿ</strong>ï¼‰çš„ä½“ç³»æ”¯æ¶ã€‚</p><p>â€‹1.ç”µçƒæ˜¯æœºå™¨äººæœ€å®¹æ˜“è·å–çš„çƒï¼Œä»–æ¯å›åˆèƒ½æä¾›åŸºç¡€ç¨³å®šçš„ä¼¤å®³ï¼Œäº§çƒæˆæœ¬ä½ä½¿å¾—èƒ½æ›´å¥½åœ¨å¾ªç¯ä¸­æŠŠå…¶ä»–çƒæ¨å‡ºå»ï¼Œåœ¨ç”µåŠ¨åŠ›å­¦çš„åŠ æŒä¸‹è¿˜èƒ½è½¬å˜ä¸ºé«˜è´µçš„aoeï¼Œæ›´ä¸ºå¯è´µçš„æ˜¯ç”µçƒéšæœºé€‰æ‹©ç›®æ ‡æ”»å‡»ï¼Œè¿™è®©æœºå™¨äººè¿™ä¸ªèŒä¸šå¤©ç”Ÿæ¯”å…¶ä»–äººå¤šäº†å¾ˆå¤šå¾ˆå¤šéšæœºæ•°ï¼Œèƒ½åœ¨æ— æ•°æ¬¡slä¸­æ‰¾åˆ°å”¯ä¸€è·èƒœçš„ä¸–ç•Œçº¿ã€‚</p><p>â€‹2.é»‘çƒæœ‰ç€æ›´é«˜çš„çˆ†å‘ä¼¤å®³ï¼Œå…¶è“„åŠ›æœºåˆ¶èƒ½å¾ˆå¥½å’Œå¾ªç¯é€’å½’ï¼ŒåŒæ”¾è¿™ç§ç‰Œé…åˆï¼Œåˆ©ç”¨å¥½ç„å‡†ç”Ÿå‘½å€¼æœ€ä½ç›®æ ‡çš„æœºåˆ¶ï¼Œæ‰¾åˆ°åˆé€‚çš„æ—¶æœºé€‰æ‹©æ¨å‡ºå»è¿˜æ˜¯æ”’çƒã€‚</p><p>â€‹3.ç­‰ç¦»å­ç™½çƒçš„è·å–æˆæœ¬æ›´é«˜ï¼Œä½†æ˜¯å…¶æ”¶ç›Šååˆ†ä¹‹ææ€–ï¼Œå¤§å¤šæ•°bossé—ç‰©æ¯å›åˆåŠ ä¸€è´¹éƒ½è¦è®©ä½ ä»˜å‡ºé«˜æ˜‚çš„ä»£ä»·ï¼Œè€Œè¿™ä»…ä»…éœ€è¦æˆ‘ä»¬é¸¡ç…²æŒ‚ä¸€ä¸ªç™½çƒï¼ŒåŒæ—¶ç™½çƒçš„æ¿€å‘èƒ½è®©æœºå™¨äººé©¬ä¸Šè·å¾—ä¸¤è´¹ï¼Œç®€ç›´æ˜¯æ— ä¸ä¼¦æ¯”çš„çˆ†å‘èƒ½åŠ›ã€‚</p><p>â€‹4.è€Œæœ€å¼ºæœ€å¼ºæœ€å¼ºçš„åˆ™æ˜¯å†°çƒï¼Œå…¶æä¾›çš„æŠ¤ç”²çœ‹ä¼¼å¾ˆå°‘ï¼Œä½†æ˜¯åœ¨é›†ä¸­ï¼Œå¾ªç¯å’Œæ›´å¤šçƒä½çš„å¤šé‡æ æ†ä¹‹ä¸‹ï¼Œå†°çƒä¼šä¸ºæœºå™¨äººç­‘èµ·å›ºè‹¥é‡‘æ±¤çš„é˜²å¾¡ç«¯ï¼Œè€Œä¸”æ˜¯æ¯å›åˆè‡ªåŠ¨çš„ã€‚æœ‰äº†é›†ä¸­å†°ç”šè‡³æ”»å‡»ç«¯èƒ½ä»…ä»…å‡­ä¸€ä¸ªæ²™æ¼å°±èƒ½è…ä¹³æ—¶é—´åå™¬è€…ï¼Œä½ åªéœ€è¦æ¯å›åˆæŒ‰eï¼Œç„¶åæ‹¿èµ·æ‰‹æœºåˆ·ååˆ†é’Ÿè§†é¢‘ã€‚</p><p>â€‹ç°åœ¨é€šè¿‡çƒå’Œé›†ä¸­æ¥åˆ†ææœºå™¨äººçš„æ”»å‡»å’Œé˜²å¾¡ç«¯ï¼Œç”µçƒé»‘çƒæä¾›ä¼¤å®³ï¼Œå†°çƒæä¾›é˜²å¾¡ï¼Œé‚£ä¹ˆæ€ä¹ˆè®©ä»–ä»¬çš„æ•°å€¼è¾¾åˆ°åˆæ ¼æ°´å¹³ä»¥åº”å¯¹æ€ªç‰©å‘¢ã€‚ç¬¬ä¸€ä¸ªæƒ³åˆ°çš„å°±æ˜¯ç”Ÿæˆæ›´å¤šçš„çƒï¼ŒæŠŠåŸæ¥çš„çƒæ¨å‡ºå»ä»¥è·å¾—æ›´å¤šæ•°å€¼ï¼Œè¿™ç‚¹é€šè¿‡æ‰“å‡ºç”µå‡»ï¼Œå†·å¤´ï¼Œæ¼†é»‘ç­‰ä¼˜è´¨äº§çƒç‰Œå°±å¯ä»¥åšåˆ°ã€‚ç¬¬äºŒæ˜¯é€šè¿‡å¢åŠ çƒä½ï¼Œæˆ–è€…é€šè¿‡å¾ªç¯æ¥æå‡æˆ‘ä»¬æ¯å›åˆçƒçš„æŒ‚æœºæ”¶ç›Šã€‚æœ€é‡è¦çš„ç¬¬ä¸‰ç‚¹ï¼Œåˆ™æ˜¯æå‡æˆ‘ä»¬çš„é›†ä¸­ï¼Œé›†ä¸­èƒ½å¤ŸåŒæ—¶æå‡çƒçš„è¢«åŠ¨æ”¶ç›Šå’Œæ¨çƒçš„æ”¶ç›Šï¼Œä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„ä¹˜åŒºå¢å¹…æœºå™¨äººçš„æˆ˜æ–—åŠ›ï¼Œèƒ½æä¾›é›†ä¸­çš„ç‰Œå’Œé—ç‰©éƒ½æ˜¯å—æœºå™¨äººæ‰€å–œçˆ±ï¼ˆ<strong>å°½å­</strong>ï¼‰ã€‚æ— è®ºåœ¨å±€å¤–æŠ“å¡è¿˜æ˜¯å±€å†…æ“ä½œï¼Œç‰¢è®°è¿™ä¸‰ç‚¹çš„å‡è¡¡å¯¹æœºå™¨äººæ¥è¯´éƒ½æ˜¯åŸºæœ¬ä¸”å¿…è¦çš„ã€‚</p><p>â€‹æ¥ä¸‹æ¥è¯´ä¸€ä¸‹ç‰©ç†æ”»é˜²ï¼Œçƒçš„æ•°å€¼ä¸å—åŠ›é‡ï¼Œæ•æ·ï¼Œæ˜“ä¼¤ï¼Œè™šå¼±ç­‰ç­‰å¤šé‡å¸¸è§çŠ¶æ€å½±å“ï¼Œå¯¼è‡´å…¶æ€è·¯æœ‰æ‰€ä¸åŒï¼Œå’ŒæŸäº›é—ç‰©çš„é…åˆä¹Ÿè¾ƒå·®ã€‚ä½†è¿™ä¸æ„å‘³é¸¡ç…²ä¸éœ€è¦ä¼ ç»Ÿæ”»é˜²ç‰Œï¼Œåœ¨å¡ç»„æ²¡æœ‰æˆå‹å‰ï¼Œæˆ‘ä»¬éœ€è¦é€‚å½“æŠ“å–ä¸€äº›ç‰©ç†æ”»é˜²è¿‡æ¸¡ç‰Œï¼Œå¦‚çœ¼éƒ¨ï¼Œå…‰æŸå°„çº¿ï¼Œè‡ªåŠ¨æŠ¤ç›¾ï¼Œè¿™æ˜¯èŒä¸šç‰¹æ€§å’Œæ€ªç‰©ç¯å¢ƒåŒé‡å†³å®šçš„ï¼ˆä¸¥çˆ¶å°çº¢ï¼‰ï¼Œæœ‰äº›ç‰ŒåŒæ—¶å…¼é¡¾ç‰©ç†å’Œäº§çƒï¼Œå¦‚çƒé—ªï¼Œå†°å·ï¼Œæ„äº‘ï¼Œè¿™è®©ä»–ä»¬å‰ä¸­åæœŸéƒ½æœ‰ä¸ä¿—çš„å‘æŒ¥ã€‚</p><p>â€‹è€Œç‰©ç†æœºåˆ™æ˜¯æœºå™¨äººä¸€ç§å®Œå…¨ä¸åŒçš„æ€è·¯ï¼Œä»¥é‡ç¼–ç¨‹ä¸ºç»å¯¹æ ¸å¿ƒï¼Œç”¨æ‰é›†ä¸­è¿™ä¸ªå¯¹äºæœºå™¨äººæ¥è¯´èƒ½åºŸæ‰ä¸€åŠç‰Œçš„ä»£ä»·æ¢å–é…åˆæ¯”èµ·å…¶ä»–èŒä¸šå°‘çš„å¤šçš„åŠ›æ•ï¼Œæ˜¯æ¯”ç¼çƒ­æˆ˜å’Œç‚¹ç©´è§‚æ›´åƒåœ¾çš„å­˜åœ¨ï¼Œæ‰€ä»¥ç»å¤§æ—¶å€™æœºå™¨äººè¿˜æ˜¯ä»¥ç‰©ç†ä¸ºè¾…åŠ©ï¼Œå……èƒ½çƒä¸ºæ ¸å¿ƒã€‚<strong>ï¼ˆåœ¨è¿™é‡Œæˆ‘æ’ä¸€å˜´ï¼Œå…¶ä»–èŒä¸šçš„æ£±é•œç©æ³•ä¸­ï¼Œé‡ç¼–ç¨‹æ˜¯ä¸€å¼ éå¸¸å¼ºåŠ›çš„å¡ç‰Œï¼Œå¯æƒœè·Ÿäº†æœºå™¨äººï¼‰</strong></p><p>â€‹æ¥åˆ°è¿è½¬ç«¯ï¼Œæœºå™¨äººåœ¨è¿è½¬æ–¹é¢çš„ä¼˜åŠ£åŠ¿éƒ½ååˆ†æ˜æ˜¾ï¼Œä»–ä¸åƒæˆ˜å£«èƒ½çƒ§å¹²æ‰€æœ‰ç‰Œæ‰“å°å¾ªç¯ï¼Œä¸èƒ½å­¦çŒäººå¨´ç†Ÿé€šè¿‡çŒ´æˆå¼ƒç‰Œæ‰“å‡ºå¤æ‚æ“ä½œï¼Œæ›´ä¸æ˜¯æŸä¸ªå‡­å€Ÿç€å´©åçš„æ•°å€¼å°±æ— æ³•æ— å¤©æ´ç™–æŠ“ç‰Œå—¯å‡‘å”æ°çº¢è“æ— é™çš„æœ€å¼±è§’è‰²ï¼ˆ<strong>åˆ«é€—ä½ è§‚å§ç¬‘äº†</strong>ï¼‰èƒ½ç¢°ç“·çš„ã€‚å¤§éƒ¨åˆ†é¸¡ç…²éƒ½æ˜¯å‡å¡æ€è·¯ï¼Œå¥½ç‰Œå¤šæŠ“ï¼Œé€šè¿‡æ‰“å‡ºèƒ½åŠ›ç‰Œé€æ­¥å»ºç«‹ä¼˜åŠ¿ï¼Œä½†æ˜¯æ‰“èƒ½åŠ›ç‰Œä¹Ÿéœ€è¦æŠ½ç‰Œä½å’Œè´¹ç”¨ä¸”æ”¶ç›Šå»¶è¿Ÿï¼Œæ•…è€Œå¯åŠ¨ç¨ç¨æ…¢é‚£ä¹ˆä¸€ç‚¹ç‚¹ä¹Ÿå°±æ˜¯é¸¡ç…²ç¨æœ‰ç‘•ç–µçš„å°ç¼ºç‚¹äº†ï¼ˆ<strong>åå·®è®¤çŸ¥äº†ï¼Œåå·®è®¤çŸ¥ï¼Œåå·®è®¤ï¼Œåå·®ï¼Œåâ€¦<strong>ï¼‰ã€‚è€Œä¼˜ç‚¹æ˜¯ï¼Œåœ¨è´¹ç”¨æ–¹é¢é¸¡ç…²æ‰‹æ¡ç€æœ€å¤šçš„ä¼˜è´¨åŠ è´¹ï¼Œå¦‚å››èŒä¸šå”¯ä¸€ç™½å¡è´¹ç”¨ç‰Œå†…æ ¸ï¼Œç®€å•ç²—æš´çš„åŒå€èƒ½é‡ï¼Œä¸€è¾¹çƒ§ç‰Œä¸€è¾¹èµšè´¹çš„å›æ”¶ã€‚è¿‡ç‰Œæ–¹é¢ï¼Œæ— è®ºæ˜¯æ²¡æ•°å€¼çš„å¿«æ£€è¿˜æ˜¯æœ‰æ•°å€¼çš„ç¼–å†²ï¼Œéƒ½åœ¨ä¸€ä¸ªå¯ç”¨çš„ä¸­åº¸æ°´å¹³ï¼Œèƒ½å¤Ÿå®šå‘æ£€ç´¢å’Œå¤ç”¨çš„å…¨æ¯æœå¯»ä¸‡ç‰©ä¹Ÿéƒ½æ˜¯ååˆ†é€‚é…å‡å¡ä½“ç³»çš„ã€‚ä½†ç¼ºå°‘ä¸€é”¤å®šéŸ³çš„è¿‡ç‰Œæ ¸å¿ƒå¦‚é»‘æ‹¥çŒ›è™ä¸€ç›´æ˜¯é¸¡ç…²çš„ä¸€ä¸ªç—›ç‚¹ï¼Œå®šä½ç›¸ä¼¼çš„æ•£çƒ­ç‰‡å¹¶ä¸æ˜¯é‚£ä¹ˆå¥½ç”¨ï¼ˆ</strong>æˆ‘è¦å­¦çŒ›è™ä¸‹å±±ï¼</strong>ï¼‰ã€‚</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ã€Šæ€æˆ®å°–å¡”ã€‹è®¾è®¡å†…å®¹æ·±åº¦æ‹†è§£&quot;&gt;&lt;a href=&quot;#ã€Šæ€æˆ®å°–å¡”ã€‹è®¾è®¡å†…å®¹æ·±åº¦æ‹†è§£&quot; class=&quot;headerlink&quot; title=&quot;ã€Šæ€æˆ®å°–å¡”ã€‹è®¾è®¡å†…å®¹æ·±åº¦æ‹†è§£&quot;&gt;&lt;/a&gt;ã€Šæ€æˆ®å°–å¡”ã€‹è®¾è®¡å†…å®¹æ·±åº¦æ‹†è§£&lt;/h1&gt;&lt;h6 id=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;a href=&quot;#å†™</summary>
      
    
    
    
    <category term="æ¸¸æˆ" scheme="https://yifei-huang-cos.github.io/categories/%E6%B8%B8%E6%88%8F/"/>
    
    
  </entry>
  
  <entry>
    <title>æ€æˆ®å°–å¡”è®¾è®¡æ‹†è§£â€”â€”æ•°å€¼ç¯‡</title>
    <link href="https://yifei-huang-cos.github.io/posts/eff9c8a5/"/>
    <id>https://yifei-huang-cos.github.io/posts/eff9c8a5/</id>
    <published>2026-01-28T02:00:00.000Z</published>
    <updated>2026-01-29T09:17:45.618Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ã€Šæ€æˆ®å°–å¡”ã€‹æ•°å€¼è®¾è®¡æ·±åº¦æ‹†è§£"><a href="#ã€Šæ€æˆ®å°–å¡”ã€‹æ•°å€¼è®¾è®¡æ·±åº¦æ‹†è§£" class="headerlink" title="ã€Šæ€æˆ®å°–å¡”ã€‹æ•°å€¼è®¾è®¡æ·±åº¦æ‹†è§£"></a>ã€Šæ€æˆ®å°–å¡”ã€‹æ•°å€¼è®¾è®¡æ·±åº¦æ‹†è§£</h1><p>â€‹åœ¨å¡ç‰Œä¸Roguelikeèåˆçš„æ¸¸æˆå“ç±»ä¸­ï¼Œã€Šæ€æˆ®å°–å¡”ã€‹çš„æˆåŠŸç¦»ä¸å¼€å…¶ç²¾å¦™ä¸”æ°åˆ°å¥½å¤„çš„æ•°å€¼è®¾è®¡ã€‚ä½œä¸ºä¸€æ¬¾ç­–ç•¥ç±»ï¼Œä»¥å†³ç­–ä¸ºæ ¸å¿ƒä¹è¶£çš„æ¸¸æˆï¼Œå®ƒä¸ä¾é åä¸½çš„ç‰¹æ•ˆæˆ–å¤æ‚çš„å‰§æƒ…ï¼Œè€Œæ˜¯é€šè¿‡èƒ½é‡ã€å¡ç‰Œã€é—ç‰©ã€éš¾åº¦ç­‰å¤šç»´åº¦çš„æ•°å€¼å¹³è¡¡ï¼Œæ„å»ºäº†â€œæˆ˜æ–—-å¥–åŠ±-æå‡â€çš„æ•°å€¼å¾ªç¯ä¸â€œè´¹ç”¨-æ”¶ç›Šâ€åŒ¹é…çš„ä»·å€¼æ›²çº¿ï¼Œæœ€ç»ˆå½¢æˆæ—¢å……æ»¡éšæœºæ€§åˆå…·å¤‡å¯æ§ç­–ç•¥ç©ºé—´çš„ä½“éªŒé—­ç¯ã€‚</p><p>â€‹æˆ‘ç´¯è®¡500ä½™å°æ—¶çš„æ”€ç™»å†ç¨‹ä¸­ï¼Œæ·±åˆ»æ„Ÿå—åˆ°æ¯ä¸€å¤„æ•°å€¼ç»†èŠ‚éƒ½æš—è—ç­–åˆ’å·§æ€ï¼Œä¸‹æ–‡å°†ç»“åˆå‚è€ƒæ–‡ç« çš„æƒå¨æ•°å€¼ä½“ç³»ï¼Œä»æ ¸å¿ƒèµ„æºä»·å€¼ã€å¡ç‰Œæ•°å€¼æ¶æ„ã€é—ç‰©è”åŠ¨é€»è¾‘ã€éš¾åº¦å¹³è¡¡è®¾è®¡å››ä¸ªæ ¸å¿ƒç»´åº¦ï¼Œæ‹†è§£å…¶æ•°å€¼è®¾è®¡çš„ç²¾é«“ã€‚</p><hr><h2 id="âš¡-ä¸€ã€æ ¸å¿ƒèµ„æºæ•°å€¼ï¼ˆèƒ½é‡ï¼‰ï¼šä½œä¸ºæŠ‰æ‹©åŸºçŸ³"><a href="#âš¡-ä¸€ã€æ ¸å¿ƒèµ„æºæ•°å€¼ï¼ˆèƒ½é‡ï¼‰ï¼šä½œä¸ºæŠ‰æ‹©åŸºçŸ³" class="headerlink" title="âš¡ ä¸€ã€æ ¸å¿ƒèµ„æºæ•°å€¼ï¼ˆèƒ½é‡ï¼‰ï¼šä½œä¸ºæŠ‰æ‹©åŸºçŸ³"></a>âš¡ ä¸€ã€æ ¸å¿ƒèµ„æºæ•°å€¼ï¼ˆèƒ½é‡ï¼‰ï¼šä½œä¸ºæŠ‰æ‹©åŸºçŸ³</h2><p>â€‹ã€Šæ€æˆ®å°–å¡”ã€‹çš„æˆ˜æ–—æ•°å€¼ä½“ç³»ä¸­ï¼Œæ¯å›åˆçš„èƒ½é‡æ˜¯è´¯ç©¿å§‹ç»ˆçš„æ ¸å¿ƒçº¦æŸå˜é‡ï¼Œå…¶æ•°å€¼è®¾å®šç›´æ¥å†³å®šäº†ç­–ç•¥å†³ç­–çš„æ·±åº¦ï¼Œä¸”å­˜åœ¨æ˜ç¡®çš„ä»·å€¼é‡åŒ–æ ‡å‡†ã€‚æ¸¸æˆåˆå§‹é»˜è®¤å•å›åˆèƒ½é‡ä¸Šé™ä¸º3ç‚¹ï¼ˆéƒ¨åˆ†èŒé—ç‰©å¯æå‡ï¼‰ï¼Œèƒ½é‡å­˜åœ¨å›ºå®šä»·å€¼æ›²çº¿ï¼š0ç‚¹èƒ½é‡åŸºç¡€ä»·å€¼ä¸º3ï¼Œä¹‹åæ¯å¢åŠ 1ç‚¹èƒ½é‡é¢å¤–æä¾›2ç‚¹ä»·å€¼ï¼Œè¿™ä¸€é‡åŒ–æ ‡å‡†æ„æˆäº†å¡ç‰Œè®¾è®¡çš„æ ¸å¿ƒåŸºå‡†ï¼Œè€Œéç®€å•çš„â€œ3ç‚¹çº¦æŸâ€ã€‚è¿™ä¸€æ•°å€¼ä½“ç³»å®åˆ™æ„å»ºäº†â€œæ”»å‡»-é˜²å¾¡-èƒ½é‡-è¿è½¬â€çš„å››ç»´ç­–ç•¥å¹³è¡¡ï¼Œè¿«ä½¿ç©å®¶åœ¨æ¯å›åˆè¿›è¡Œç²¾å‡†çš„èµ„æºåˆ†é…ä¸æœºä¼šæˆæœ¬æƒè¡¡ã€‚</p><h4 id="ğŸ”¹-1-1-ä»è®¾è®¡æ„å›¾æ¥çœ‹"><a href="#ğŸ”¹-1-1-ä»è®¾è®¡æ„å›¾æ¥çœ‹" class="headerlink" title="ğŸ”¹ 1.1 ä»è®¾è®¡æ„å›¾æ¥çœ‹"></a>ğŸ”¹ 1.1 ä»è®¾è®¡æ„å›¾æ¥çœ‹</h4><p>â€‹åˆå§‹3ç‚¹èƒ½é‡çš„æ•°å€¼è®¾å®šæ˜¯ä»·å€¼æ›²çº¿ä¸ç­–ç•¥æ·±åº¦çš„æœ€ä¼˜è§£ï¼šè‹¥èƒ½é‡è¿‡å¤šï¼Œç©å®¶å¯åŒæ—¶è§¦å‘å¤šä¸ªé«˜ä»·å€¼è¿æºæ•ˆæœï¼Œç­–ç•¥æŠ‰æ‹©çš„ä»·å€¼ä¼šå¤§å¹…é™ä½ï¼›è‹¥èƒ½é‡è¿‡å°‘ï¼Œåˆ™æ— æ³•æ”¯æ’‘åŸºç¡€è¿æºçš„è§¦å‘ï¼Œç ´åå¡ç»„è¿è½¬æµç•…åº¦ã€‚3ç‚¹èƒ½é‡æ°å¥½è®©ç©å®¶æ¯å›åˆéœ€åœ¨åŸºç¡€è¾“å…¥+å•ä¸€ä¹˜åŒºæˆ–è€…å¤šä¹˜åŒºç»„åˆä½†åŸºç¡€è¾“å…¥å¼±åŒ–ç­‰ç­–ç•¥ä¸­æŠ‰æ‹©ã€‚</p><p>â€‹é¢å¯¹ä¸€å±‚ç²¾è‹±æ•Œäººä¹å˜‰ï¼ˆé¢è¿™æ˜¯å¤–å·ï¼Œå…·ä½“åå­—ä¸è®°å¾—äº†QAQï¼‰å³å°†åˆ°æ¥çš„é«˜é¢æ”»å‡»ï¼Œç©å®¶éœ€åœ¨1è´¹é˜²å¾¡ï¼ˆ5æ ¼æŒ¡ï¼Œä»·å€¼åŒ¹é…ï¼‰+2è´¹æ”»å‡»ï¼ˆæ‰“å‡»1è´¹æ‰“6ï¼‰ä¸2è´¹é˜²å¾¡ï¼ˆåˆå§‹é˜²å¾¡1è´¹5æ ¼æŒ¡ï¼‰+1è´¹è¿è½¬ï¼ˆæŠ½ç‰Œè°ƒæ•´æ‰‹ç‰Œï¼‰ä¹‹é—´æƒè¡¡ï¼Œè€Œè¿™ç§æŠ‰æ‹©ç›´æ¥å…³è”ç”Ÿå‘½å€¼èµ„æºçš„æ¶ˆè€—ä¸ç•™å­˜ï¼Œæ­£æ˜¯æ•°å€¼é©±åŠ¨ç­–ç•¥ä¹è¶£çš„æ ¸å¿ƒæ¥æºã€‚</p><p>â€‹å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå³ä½¿æ˜¯0è´¹å¡ç‰Œä¹Ÿå­˜åœ¨éšæ€§æˆæœ¬ï¼Œå…¶å ç”¨çš„æŠ½ç‰Œä½ä¼šå¯¼è‡´é”™è¿‡å…¶ä»–å…³é”®å¡ç‰Œï¼Œè¿™ä¸€æœºä¼šæˆæœ¬åŒæ ·è¢«çº³å…¥èƒ½é‡ä»·å€¼ä½“ç³»çš„è€ƒé‡èŒƒç•´ã€‚</p><h4 id="ğŸ”¹-1-2-èƒ½é‡æ•°å€¼çš„å¼¹æ€§è®¾è®¡è¿›ä¸€æ­¥ä¸°å¯Œäº†ç­–ç•¥ç»´åº¦"><a href="#ğŸ”¹-1-2-èƒ½é‡æ•°å€¼çš„å¼¹æ€§è®¾è®¡è¿›ä¸€æ­¥ä¸°å¯Œäº†ç­–ç•¥ç»´åº¦" class="headerlink" title="ğŸ”¹ 1.2 èƒ½é‡æ•°å€¼çš„å¼¹æ€§è®¾è®¡è¿›ä¸€æ­¥ä¸°å¯Œäº†ç­–ç•¥ç»´åº¦"></a>ğŸ”¹ 1.2 èƒ½é‡æ•°å€¼çš„å¼¹æ€§è®¾è®¡è¿›ä¸€æ­¥ä¸°å¯Œäº†ç­–ç•¥ç»´åº¦</h4><p>â€‹æ¸¸æˆé€šè¿‡èåˆä¹‹é”¤ï¼ˆbossé—ç‰©ï¼‰å­™å­å…µæ³•ï¼ˆæ™®é€šé—ç‰©ï¼‰ç­‰é—ç‰©æä¾›èƒ½é‡åŠ æˆï¼Œä¾‹å¦‚å­™å­å…µæ³•çš„è®¾å®šæ˜¯ï¼šå¦‚æœä¸ä½¿ç”¨æ”»å‡»å¡ä¸‹å›åˆ+1èƒ½é‡ï¼Œæœ¬è´¨æ˜¯é€šè¿‡ç­–ç•¥é€‰æ‹©æ¢å–èƒ½é‡ä»·å€¼çš„æå‡ï¼ˆé¢å¤–è·å¾—2ç‚¹åŸºç¡€ä»·å€¼ï¼‰ï¼›è€Œè®¸å¤šbossé—ç‰©é€šè¿‡æ”¯ä»˜æŸäº›ç‰¹å®šä»£ä»·ï¼ˆä¾‹å¦‚é”¤å­ï¼šç«å †æ— æ³•å‡çº§ç‰Œï¼›ç»¿å¸½ï¼šæ— æ³•è·å¾—é‡‘å¸ï¼‰æ¢å–æ¯å›åˆç¨³å®šå¤šä¸€è´¹ã€‚è¿™ç§ä»£ä»·æ”¯ä»˜åŠ ç¨³å®šæ”¶ç›Šçš„æ•°å€¼è®¾è®¡ï¼Œæ—¢ä¿è¯äº†ä½“ç³»çš„ç¨³å®šæ€§ï¼Œåˆä¸ºæµæ´¾æ„å»ºæä¾›äº†å¤šæ ·åŒ–å¯èƒ½ã€‚</p><hr><h2 id="ğŸƒ-äºŒã€å¡ç‰Œæ•°å€¼ä½“ç³»ï¼ˆè´¹æ•ˆæ¯”ï¼‰ï¼šç²¾å‡†å®šä½ä¸ä»·å€¼å¹³è¡¡"><a href="#ğŸƒ-äºŒã€å¡ç‰Œæ•°å€¼ä½“ç³»ï¼ˆè´¹æ•ˆæ¯”ï¼‰ï¼šç²¾å‡†å®šä½ä¸ä»·å€¼å¹³è¡¡" class="headerlink" title="ğŸƒ äºŒã€å¡ç‰Œæ•°å€¼ä½“ç³»ï¼ˆè´¹æ•ˆæ¯”ï¼‰ï¼šç²¾å‡†å®šä½ä¸ä»·å€¼å¹³è¡¡"></a>ğŸƒ äºŒã€å¡ç‰Œæ•°å€¼ä½“ç³»ï¼ˆè´¹æ•ˆæ¯”ï¼‰ï¼šç²¾å‡†å®šä½ä¸ä»·å€¼å¹³è¡¡</h2><p>â€‹å¡ç‰Œæ˜¯ç©å®¶å®ç°ç­–ç•¥æ„å›¾çš„æ ¸å¿ƒè½½ä½“ï¼Œã€Šæ€æˆ®å°–å¡”ã€‹çš„å¡ç‰Œæ•°å€¼è®¾è®¡éµå¾ªï¼šå¡ç»„å®šä½ã€è´¹æ•ˆæ¯”ã€è”åŠ¨ç»„ä»¶ä¸‰å¤§åŸåˆ™ï¼Œæ ¸å¿ƒé€»è¾‘æ˜¯ä»¥èƒ½é‡ä»·å€¼ä¸ºåŸºå‡†ï¼Œæ„å»ºâ€˜åŸºç¡€è¾“å…¥-ä¹˜åŒºæ”¾å¤§-å¯¼å‡ºè½¬åŒ–â€™çš„å¼ºåº¦å…¬å¼ï¼Œç¡®ä¿ä¸åŒç±»å‹ã€ä¸åŒè´¹ç”¨çš„å¡ç‰Œåœ¨æ€§ä»·æ¯”ä¸Šä¿æŒå¹³è¡¡ï¼ŒåŒæ—¶å°½å¯èƒ½é¿å…ç­–ç•¥å•ä¸€åŒ–ï¼Œæ©ç›–å…¶ä»–ç©æ³•çš„é—®é¢˜ã€‚å•å¼ å¡ç‰Œæ•ˆæœæ™®éç®€æ´ï¼Œä»…æä¾›åŸºç¡€è¾“å…¥æˆ–å•ä¸€ä¹˜åŒºï¼Œéœ€é€šè¿‡ç»„åˆå½¢æˆå¼ºå¤§è¿æºï¼Œè¿™æ—¢é™ä½äº†ç©å®¶è®°å¿†æˆæœ¬ï¼Œåˆæå‡äº†ç­–ç•¥æ·±åº¦ã€‚</p><h4 id="âš ï¸-2-1-æ’ä¸€å¥è®¾è®¡ç¼ºé™·"><a href="#âš ï¸-2-1-æ’ä¸€å¥è®¾è®¡ç¼ºé™·" class="headerlink" title="âš ï¸ 2.1 æ’ä¸€å¥è®¾è®¡ç¼ºé™·"></a>âš ï¸ 2.1 æ’ä¸€å¥è®¾è®¡ç¼ºé™·</h4><p>â€‹ï¼ˆä¸Šä¸€æ®µæ‰€è¯´çš„é¿å…ç­–ç•¥å•ä¸€åŒ–åªåœ¨å‰ä¸¤ä¸ªèŒä¸šï¼Œå³æˆ˜å£«å’ŒçŒäººä¸Šå®Œæˆçš„è¾ƒä¸ºå®Œç¾ï¼Œè€Œæˆ‘ä»¬é¸¡ç…²ï¼Œå‘ƒå‘ƒï¼Œæ‡‚å¾—éƒ½æ‡‚ï¼Œé—®å°±æ˜¯è¿˜åœ¨å¯åŠ¨ï¼Œåœ¨å¯åŠ¨ã€‚è§‚è€…çš„è®¾è®¡åˆ™æ˜¯ä¸¥é‡ä¸å¹³è¡¡ï¼Œæš´æ€’å¸¦æ¥çš„åŒå€ä¼¤å®³è®©å…¶å¾ˆå¤šèŒä¸šå¡çš„è´¹æ•ˆæ¯”ä¸å°½äººæ„ï¼Œçº¢è“æ— é™çš„ç©æ³•å¸¦æ¥çš„æ”¶ç›Šåˆè¿‡äºè¶…æ¨¡ï¼Œæ©ç›–äº†è§‚è€…çš„ç¥æ ¼é¢„è§ç‚¹ç©´ç­‰ä½“ç³»ã€‚è™½è¯´è¿™å‡ ä¸ªä½“ç³»æœ¬æ¥ä¹Ÿæœ‰æ•°å€¼ä¸è¶³çš„é—®é¢˜ã€‚åªèƒ½è¯´è§‚è€…çš„å‡ºç°ï¼Œå¯¹ç©å®¶æ¥è¯´å¯èƒ½æ˜¯ç©èµ·æ¥æ¯”è¾ƒå®¹æ˜“çˆ½çš„è§’è‰²ï¼Œä½†ä»æ•°å€¼è®¾è®¡çš„è§’åº¦çœ‹ï¼Œæ— ç–‘æ˜¯å¤±è´¥çš„ï¼‰</p><h4 id="ğŸ”¹-2-2-åœ¨æ”»å‡»å¡ç‰Œè®¾è®¡ä¸­"><a href="#ğŸ”¹-2-2-åœ¨æ”»å‡»å¡ç‰Œè®¾è®¡ä¸­" class="headerlink" title="ğŸ”¹ 2.2 åœ¨æ”»å‡»å¡ç‰Œè®¾è®¡ä¸­"></a>ğŸ”¹ 2.2 åœ¨æ”»å‡»å¡ç‰Œè®¾è®¡ä¸­</h4><p>â€‹æ•°å€¼ä¸¥æ ¼åŒ¹é…èƒ½é‡ä»·å€¼æ›²çº¿ï¼Œä¸”é€šè¿‡â€œåŸºç¡€è¾“å…¥+ä¹˜åŒºâ€çš„ç»„åˆå½¢æˆå·®å¼‚åŒ–å®šä½ã€‚</p><p>â€‹1è´¹çš„æ‰“å‡»åŸºç¡€ä¼¤å®³ä¸º6ç‚¹ï¼ˆä»·å€¼2ï¼ŒåŒ¹é…1è´¹èƒ½é‡ä»·å€¼5ä¸­çš„åŸºç¡€éƒ¨åˆ†ï¼‰ï¼Œ2è´¹çš„é‡å‡»ä¼¤å®³ä¸º14ç‚¹ä¸”é™„å¸¦3å€åŠ›é‡åŠ æˆï¼ˆä»·å€¼5+2ï¼Œ2è´¹èƒ½é‡ä»·å€¼7å®Œå…¨åŒ¹é…ï¼‰ï¼Œè€Œéç®€å•çš„å€æ•°å…³ç³»ï¼›0è´¹çš„æ„¤æ€’å¯é€ æˆ6ç‚¹ä¼¤å®³å¹¶åœ¨å¼ƒç‰Œå †æ”¾å…¥ä¸€å¼ è‡ªèº«ï¼Œæ”¶ç›Šä¸º2+1ï¼ˆé¢å¤–ç•™å­˜å¡ç‰Œèµ„æºï¼‰ï¼Œç²¾å‡†åŒ¹é…0è´¹èƒ½é‡3ç‚¹çš„åŸºç¡€ä»·å€¼ã€‚</p><p>â€‹ä¸åŒå¡ç‰Œçš„ä¹˜åŒºç‰¹æ€§é€‚é…ä¸åŒæµæ´¾ï¼šæˆ˜å£«çš„é‡å‡»ä¾èµ–åŠ›é‡ä¹˜åŒºå®ç°çˆ†å‘è¾“å‡ºï¼Œé™é»˜çŒæ‰‹çš„0è´¹å°åˆ€åˆ™é€šè¿‡å¤šæ¬¡æ”»å‡»ä¹˜åŒºè§¦å‘ç²¾å‡†ï¼Œè¢–ç®­ç­‰è¢«åŠ¨æ•ˆæœï¼Œæˆä¸ºå°åˆ€æµçš„æ ¸å¿ƒè¾“å…¥ç»„ä»¶ã€‚è¿™ç§è®¾è®¡è®©ä½è´¹å¡å¹¶éå¼±å¡ï¼Œè€Œæ˜¯é€‚é…é«˜é¢‘è¿å‡»æµæ´¾ï¼Œé«˜è´¹å¡åˆ™éœ€æ”¾å¼ƒå½“å›åˆå…¶ä»–èµ„æºï¼Œå½¢æˆæ˜ç¡®çš„æœºä¼šæˆæœ¬æƒè¡¡ã€‚</p><h4 id="ğŸ”¹-2-3-é˜²å¾¡å¡ç‰Œçš„æ•°å€¼è®¾è®¡åŒæ ·éµå¾ªä»·å€¼æ›²çº¿ï¼Œä¸”èšç„¦ä¸´æ—¶é˜²æŠ¤"><a href="#ğŸ”¹-2-3-é˜²å¾¡å¡ç‰Œçš„æ•°å€¼è®¾è®¡åŒæ ·éµå¾ªä»·å€¼æ›²çº¿ï¼Œä¸”èšç„¦ä¸´æ—¶é˜²æŠ¤" class="headerlink" title="ğŸ”¹ 2.3 é˜²å¾¡å¡ç‰Œçš„æ•°å€¼è®¾è®¡åŒæ ·éµå¾ªä»·å€¼æ›²çº¿ï¼Œä¸”èšç„¦ä¸´æ—¶é˜²æŠ¤"></a>ğŸ”¹ 2.3 é˜²å¾¡å¡ç‰Œçš„æ•°å€¼è®¾è®¡åŒæ ·éµå¾ªä»·å€¼æ›²çº¿ï¼Œä¸”èšç„¦ä¸´æ—¶é˜²æŠ¤</h4><p>â€‹æ¸¸æˆå°†æ ¼æŒ¡è®¾å®šä¸ºä¸´æ—¶æ€§é˜²å¾¡èµ„æºï¼Œæ²¡æœ‰ç‰¹æ®Šå¡ç‰Œå’Œé—ç‰©çš„æƒ…å†µä¸‹é˜²å¾¡ä¸ä¼šä¿ç•™ï¼Œ1ç‚¹æ ¼æŒ¡ç­‰ä»·äº1ç‚¹ç”Ÿå‘½å€¼ã€‚</p><p>â€‹1è´¹çš„åˆå§‹å¡é˜²å¾¡æä¾›5ç‚¹æ ¼æŒ¡ï¼ˆä»·å€¼åŒ¹é…1è´¹èƒ½é‡ï¼‰ï¼Œ2è´¹çš„ç¨€æœ‰å¡å²¿ç„¶ä¸åŠ¨æä¾›30ç‚¹æ ¼æŒ¡ï¼Œä½†æ˜¯æ˜¯æ¶ˆè€—å¡ï¼Œä¸èƒ½å¤Ÿåå¤åˆ©ç”¨ã€‚ç©å®¶å¯æ ¹æ®æ•Œæ–¹ä¼¤å®³æ•°å€¼é€‰æ‹©åˆé€‚çš„é˜²å¾¡å¡ç‰Œï¼šé¢å¯¹å°é¢æŒç»­ä¼¤å®³ï¼Œä¼˜å…ˆä½¿ç”¨ä½è´¹é˜²å¾¡å¡èŠ‚çœèƒ½é‡ï¼›é¢å¯¹å¤§é¢å•æ¬¡ä¼¤å®³ï¼Œåˆ™éœ€æŠ•å…¥é«˜è´¹é˜²å¾¡å¡æˆ–ç»„åˆå¤šå¼ é˜²å¾¡å¡ã€‚</p><p>â€‹æ›´å…³é”®çš„æ˜¯ï¼Œé˜²å¾¡ç»´åº¦å¯é€šè¿‡ç‰¹å®šå¡ç‰Œè½¬åŒ–ä¸ºæ”»å‡»å¼ºåº¦ï¼Œä¾‹å¦‚æˆ˜å£«çš„è‚šçš®ï¼ˆå…¨èº«æ’å‡»ï¼Œæœªå‡çº§æ˜¯1è´¹ï¼Œå‡çº§åå˜æˆ0è´¹ï¼‰å¯é€ æˆå½“å‰æ ¼æŒ¡å€¼çš„æ”»å‡»ä¼¤å®³ï¼Œå°†é˜²å¾¡èµ„æºè½¬åŒ–ä¸ºè¾“å‡ºè¾“å…¥ï¼Œè¿™ä¸€è®¾è®¡æ‰“ç ´äº†ç»´åº¦å£å’ï¼Œè®©â€œé«˜é˜²å¾¡+é«˜è¾“å‡ºâ€çš„é˜²æˆ˜æµæ´¾æˆä¸ºå¯èƒ½ã€‚è€Œèƒ½åŠ›å¡å£å’å¯ä»¥ä¿ç•™æ ¼æŒ¡å€¼çš„è®¾å®šï¼Œæ›´æ˜¯å¼ºåŒ–äº†é˜²å¾¡ä¹˜åŒºçš„æ•ˆæœï¼Œè®©æ ¼æŒ¡èµ„æºå¯è·¨å›åˆç´¯ç§¯ï¼Œå‚¬ç”Ÿæ ¼æŒ¡è½¬ä¼¤å®³çš„é˜²å¾¡æµæ´¾ã€‚</p><h4 id="ğŸ”¹-2-4-å¡ç‰Œå‡çº§çš„æ•°å€¼æå‡ä¹Ÿä¸¥æ ¼åŒ¹é…ä»·å€¼å‡è¡¡åŸåˆ™"><a href="#ğŸ”¹-2-4-å¡ç‰Œå‡çº§çš„æ•°å€¼æå‡ä¹Ÿä¸¥æ ¼åŒ¹é…ä»·å€¼å‡è¡¡åŸåˆ™" class="headerlink" title="ğŸ”¹ 2.4 å¡ç‰Œå‡çº§çš„æ•°å€¼æå‡ä¹Ÿä¸¥æ ¼åŒ¹é…ä»·å€¼å‡è¡¡åŸåˆ™"></a>ğŸ”¹ 2.4 å¡ç‰Œå‡çº§çš„æ•°å€¼æå‡ä¹Ÿä¸¥æ ¼åŒ¹é…ä»·å€¼å‡è¡¡åŸåˆ™</h4><p>â€‹æ‰“å‡»å‡çº§åä¼¤å®³ä»6æå‡è‡³9ï¼ˆæå‡å¹…åº¦50%ï¼‰ï¼Œé˜²å¾¡å‡çº§åæ ¼æŒ¡ä»5æå‡è‡³8ï¼ˆæå‡å¹…åº¦60%ï¼‰ï¼Œå‡çº§åçš„ä»·å€¼ä»ä¸èƒ½é‡è´¹ç”¨ç²¾å‡†åŒ¹é…ï¼Œæ—¢è®©å‡çº§åçš„å¡ç‰Œå…·å¤‡æ˜æ˜¾ä¼˜åŠ¿ï¼Œåˆä¸ä¼šè®©æœªå‡çº§å¡ç‰Œå®Œå…¨å¤±æ•ˆã€‚è¿™ä¸€è®¾è®¡ç¡®ä¿ç©å®¶åœ¨å‡çº§å¡ç‰Œä¸å›å¤ç”Ÿå‘½çš„ç«å †å¤„é€‰æ‹©ä¸­äº§ç”Ÿç­–ç•¥åšå¼ˆâ€”â€”æ˜¯æå‡é•¿æœŸæˆ˜åŠ›ä»¥å‡å°‘åç»­ç”Ÿå‘½å€¼æ¶ˆè€—ï¼Œè¿˜æ˜¯ä¿è¯å½“å‰ç”Ÿå­˜ä»¥è§„é¿å³æ—¶é£é™©ï¼Ÿè¿™ç§åšå¼ˆè®©æ¯ä¸€æ¬¡ç«å †é€‰æ‹©éƒ½æˆä¸ºå½±å“æ•°å€¼å¾ªç¯çš„å…³é”®å†³ç­–ã€‚</p><hr><h2 id="ğŸ§©-ä¸‰ã€é—ç‰©æ•°å€¼è”åŠ¨ï¼šæ‰“ç ´åŸºç¡€è§„åˆ™çš„ç­–ç•¥è£‚å˜å¼•æ“"><a href="#ğŸ§©-ä¸‰ã€é—ç‰©æ•°å€¼è”åŠ¨ï¼šæ‰“ç ´åŸºç¡€è§„åˆ™çš„ç­–ç•¥è£‚å˜å¼•æ“" class="headerlink" title="ğŸ§© ä¸‰ã€é—ç‰©æ•°å€¼è”åŠ¨ï¼šæ‰“ç ´åŸºç¡€è§„åˆ™çš„ç­–ç•¥è£‚å˜å¼•æ“"></a>ğŸ§© ä¸‰ã€é—ç‰©æ•°å€¼è”åŠ¨ï¼šæ‰“ç ´åŸºç¡€è§„åˆ™çš„ç­–ç•¥è£‚å˜å¼•æ“</h2><p>â€‹é—ç‰©ç³»ç»Ÿæ˜¯ã€Šæ€æˆ®å°–å¡”ã€‹æ•°å€¼è®¾è®¡çš„ç‚¹ç›ä¹‹ç¬”ï¼Œå…¶æ ¸å¿ƒä»·å€¼åœ¨äºé€šè¿‡â€œæ•°å€¼åŠ æˆ+æœºåˆ¶æ”¹å˜â€çš„ç»„åˆï¼Œä¼˜åŒ–å¡ç»„çš„ä½“ç³»ï¼Œå‚¬ç”Ÿå¤šæ ·åŒ–çš„æµæ´¾æ„å»ºã€‚é—ç‰©çš„æ•°å€¼è®¾è®¡å¹¶éç®€å•çš„æ•°å€¼å †ç Œï¼Œè€Œæ˜¯ç²¾å‡†åŒ¹é…å¡ç‰Œçš„è¿æºé€»è¾‘ï¼ŒåŒæ—¶æœåŠ¡äºâ€œæˆ˜æ–—-å¥–åŠ±-æå‡â€çš„æ•°å€¼å¾ªç¯ï¼ˆå› ä¸ºé—ç‰©é€šå¸¸ç”±ç²¾è‹±æ€ªæ‰è½ï¼Œè€Œæ‰“ç²¾è‹±æ€ªå¯èƒ½é¢ä¸´ç”Ÿå­˜å±é™©ï¼Œä½ è¯´æ˜¯å§é¸¡ç…²TvTï¼ˆè¿˜åœ¨å¯åŠ¨ï¼Œåœ¨å¯åŠ¨ï¼Œå¯åŠ¨ï¼Œå¯â€¦ï¼‰ï¼‰ï¼Œä¸å¡ç‰Œä½“ç³»å½¢æˆçº¦æŸå’Œå¼ºåŒ–çš„è”åŠ¨é—­ç¯â€”â€”æ²¡æœ‰åˆé€‚çš„å¡ç‰Œç»„åˆï¼Œé—ç‰©çš„æ•°å€¼ä¼˜åŠ¿æ— æ³•å‘æŒ¥ï¼›ç¼ºå°‘é—ç‰©çš„æ•°å€¼åŠ æŒï¼Œå¡ç‰Œç»„åˆä¹Ÿéš¾ä»¥å½¢æˆè´¨å˜ã€‚</p><h4 id="ğŸ”¹-3-1-æ™®é€šé—ç‰©ï¼šè¡¥å……çŸ­æ¿å’Œä¼˜åŒ–ä½“éªŒä¸ºä¸»"><a href="#ğŸ”¹-3-1-æ™®é€šé—ç‰©ï¼šè¡¥å……çŸ­æ¿å’Œä¼˜åŒ–ä½“éªŒä¸ºä¸»" class="headerlink" title="ğŸ”¹ 3.1 æ™®é€šé—ç‰©ï¼šè¡¥å……çŸ­æ¿å’Œä¼˜åŒ–ä½“éªŒä¸ºä¸»"></a>ğŸ”¹ 3.1 æ™®é€šé—ç‰©ï¼šè¡¥å……çŸ­æ¿å’Œä¼˜åŒ–ä½“éªŒä¸ºä¸»</h4><p>â€‹æˆ˜å£«çš„åˆå§‹é—ç‰©â€œç‡ƒçƒ§ä¹‹è¡€â€æ•ˆæœæ˜¯æˆ˜æ–—åå›è¡€6ç‚¹ï¼Œè§£å†³äº†å‰æœŸå›è¡€èµ„æºç¨€ç¼ºçš„é—®é¢˜ï¼Œè®©ç©å®¶å¯æ›´æ¿€è¿›åœ°æŒ‘æˆ˜æˆ˜æ–—ï¼›æ™®é€šé—ç‰©èƒŒåŒ…çš„æ•ˆæœæ˜¯ç¬¬ä¸€è½®å¤šæŠ½2å¼ ç‰Œï¼Œæå‡å…³é”®ç‰Œä¸Šæ‰‹ç‡ï¼Œé™ä½ç¬¬ä¸€è½®çš„é¬¼æŠ½æ¦‚ç‡ï¼›è¿˜æœ‰å•†åº—é—ç‰©å·¥å…·ç®±ï¼Œæ£±é•œï¼Œå‰è€…å¯ä»¥æ¯åœºæˆ˜æ–—3é€‰1ä¸€å¼ æ— è‰²ç‰Œï¼Œå°±å†²ç€èƒ½é€‰åˆ°ç¥è¯å’Œæ‰“é’±æ‰‹è¿™ä¹Ÿæ˜¯å¿…ä¹°é—ç‰©ï¼Œè€Œæ£±é•œåˆ™æ‰“ç ´èŒä¸šå¡é™åˆ¶ï¼Œè®©é€‰æ‹©é‡Œå¤šå‡ºå…¶ä»–èŒä¸šçš„èŒä¸šå¡ï¼Œå¯èƒ½ä¼šé€‰å‡ºæ¢¦å¯ä»¥æ±‚çš„é…åˆï¼ˆé¸¡ç…²ï¼šæˆ‘è¦å­¦çŒ›è™ä¸‹å±±ï¼ï¼‰ã€‚è¿™äº›æ•°å€¼è®¾è®¡è™½çœ‹ä¼¼å¾®å°ï¼Œä½†èƒ½æ˜¾è‘—ä¼˜åŒ–ç‰¹å®šèŒä¸šçš„å‰æœŸä½“éªŒï¼Œå¼•å¯¼ç©å®¶å‘èŒä¸šæ ¸å¿ƒæµæ´¾é æ‹¢ã€‚</p><h4 id="ğŸ”¹-3-2-ç½•è§é—ç‰©ä¸Bossé—ç‰©åˆ™é€šè¿‡æ•°å€¼è´¨å˜å’Œæœºåˆ¶çªç ´å‚¬ç”Ÿå…¨æ–°ç­–ç•¥ï¼ŒåŒæ—¶å…¼é¡¾å¯¹å•ä¸€ç­–ç•¥çš„æŠ‘åˆ¶"><a href="#ğŸ”¹-3-2-ç½•è§é—ç‰©ä¸Bossé—ç‰©åˆ™é€šè¿‡æ•°å€¼è´¨å˜å’Œæœºåˆ¶çªç ´å‚¬ç”Ÿå…¨æ–°ç­–ç•¥ï¼ŒåŒæ—¶å…¼é¡¾å¯¹å•ä¸€ç­–ç•¥çš„æŠ‘åˆ¶" class="headerlink" title="ğŸ”¹ 3.2 ç½•è§é—ç‰©ä¸Bossé—ç‰©åˆ™é€šè¿‡æ•°å€¼è´¨å˜å’Œæœºåˆ¶çªç ´å‚¬ç”Ÿå…¨æ–°ç­–ç•¥ï¼ŒåŒæ—¶å…¼é¡¾å¯¹å•ä¸€ç­–ç•¥çš„æŠ‘åˆ¶"></a>ğŸ”¹ 3.2 ç½•è§é—ç‰©ä¸Bossé—ç‰©åˆ™é€šè¿‡æ•°å€¼è´¨å˜å’Œæœºåˆ¶çªç ´å‚¬ç”Ÿå…¨æ–°ç­–ç•¥ï¼ŒåŒæ—¶å…¼é¡¾å¯¹å•ä¸€ç­–ç•¥çš„æŠ‘åˆ¶</h4><p>â€‹é’¢ç¬”å°–è®¾å®šâ€œæ¯ç¬¬åå¼ æ”»å‡»é€ æˆåŒå€ä¼¤å®³ï¼Œå°†â€œä½è´¹å¤ç”¨è¾“å‡ºçš„è¿è½¬è½¬åŒ–ä¸ºæ”»å‡»ä¹˜åŒºï¼Œå¼•å¯¼ç©å®¶è°ƒæ•´é«˜è´¹æ”»å‡»å¡æ’åºï¼›è›‡çœ¼ä½œä¸ºbossé—ç‰©ï¼Œæ•ˆæœæ˜¯æ¯å›åˆå¤šæŠ½2å¼ ï¼Œä½†æ‰€æœ‰å¡ç‰Œçš„è´¹ç”¨ä¼šä»0åˆ°3è´¹éšæœºï¼Œè§£å†³äº†è¿‡ç‰Œé—®é¢˜ï¼Œä¹Ÿè®©ç©å®¶å¤šæŠ“é«˜è´¹å¡å°‘å¸¦ä½è´¹å¡ã€‚</p><p>â€‹è€Œé’ˆå¯¹é£èº«è¸¢æ— é™ç­‰å¯èƒ½å¯¼è‡´ç­–ç•¥é€€åŒ–çš„ç©æ³•ï¼Œæ¸¸æˆé€šè¿‡æ•°å€¼é™åˆ¶è¿›è¡Œå¹³è¡¡â€”â€”é£èº«è¸¢åŸºç¡€ä¼¤å®³ä»…5ç‚¹ï¼ˆä½äºåˆå§‹æ‰“å‡»çš„6ç‚¹ï¼‰ï¼Œä¸”éœ€ç›®æ ‡æœ‰æ˜“ä¼¤æ•ˆæœæ‰èƒ½æ‰“å‡ºï¼Œæå‡äº†è¿æºæˆæœ¬ï¼›åŒæ—¶Bossâ€œæ—¶é—´åå™¬è€…â€è®¾å®šç©å®¶æ¯æ‰“å‡º12å¼ ç‰Œåå¼ºåˆ¶ç»“æŸå›åˆï¼Œä»æœºåˆ¶ä¸Šé™åˆ¶ä½æ•°å€¼æ— é™çš„å¼ºåº¦ï¼ˆæ¯”å¦‚äº®å‰‘ã€0è´¹æ‰“3æŠ½1ã€‘å¦™è®¡ã€0è´¹é˜²2æŠ½1ã€‘ç›¸äº’æŠ½çš„ä½æ•°å€¼æ— é™ï¼‰ï¼Œç¡®ä¿å„æµæ´¾çš„å¹³è¡¡ã€‚</p><hr><h2 id="ğŸ“Š-å››ã€éš¾åº¦æ¢¯åº¦æ•°å€¼ï¼šåŠ¨æ€å¹³è¡¡çš„â€œå­¦ä¹ å‹â€æŒ‘æˆ˜æ›²çº¿"><a href="#ğŸ“Š-å››ã€éš¾åº¦æ¢¯åº¦æ•°å€¼ï¼šåŠ¨æ€å¹³è¡¡çš„â€œå­¦ä¹ å‹â€æŒ‘æˆ˜æ›²çº¿" class="headerlink" title="ğŸ“Š å››ã€éš¾åº¦æ¢¯åº¦æ•°å€¼ï¼šåŠ¨æ€å¹³è¡¡çš„â€œå­¦ä¹ å‹â€æŒ‘æˆ˜æ›²çº¿"></a>ğŸ“Š å››ã€éš¾åº¦æ¢¯åº¦æ•°å€¼ï¼šåŠ¨æ€å¹³è¡¡çš„â€œå­¦ä¹ å‹â€æŒ‘æˆ˜æ›²çº¿</h2><p>â€‹ã€Šæ€æˆ®å°–å¡”ã€‹çš„è¿›é˜¶ç­‰çº§ç³»ç»Ÿæ˜¯å…¶æ•°å€¼éš¾åº¦è®¾è®¡çš„æ ¸å¿ƒï¼Œæœ€é«˜20çº§çš„è¿›é˜¶æ¢¯åº¦å¹¶éç®€å•æå‡æ•Œäººè¡€é‡ä¸ä¼¤å®³ï¼Œè€Œæ˜¯é€šè¿‡â€œç²¾å‡†æ•°å€¼å¾®è°ƒ+è§„åˆ™çº¦æŸå¢åŠ â€çš„æ–¹å¼ï¼Œæ‰°åŠ¨æ ¸å¿ƒæ•°å€¼å¾ªç¯ï¼Œæ„å»ºå¹³æ»‘ä¸”å¯Œæœ‰æ·±åº¦çš„å­¦ä¹ å‹æŒ‘æˆ˜æ›²çº¿ã€‚å…¶è®¾è®¡é€»è¾‘ä¸ç©å®¶ç­–ç•¥æˆé•¿ç›¸åŒ¹é…ï¼Œä½è¿›é˜¶ç­‰çº§è°ƒæ•´æ™®é€šæ•Œäººæ•°å€¼ï¼Œå¼•å¯¼ç©å®¶ç†Ÿæ‚‰å¡ç‰Œä¸é—ç‰©çš„åŸºç¡€è¿æºï¼›é«˜è¿›é˜¶ç­‰çº§åˆ™é€šè¿‡è§„åˆ™çº¦æŸå¼ºåŒ–æ•°å€¼å‹åŠ›ï¼Œè¿«ä½¿ç©å®¶ä¼˜åŒ–å¡ç»„æ„å»ºç­–ç•¥ã€‚</p><h4 id="ğŸ”¹-4-1-è¿›é˜¶éš¾åº¦çš„æ•°å€¼è®¾è®¡"><a href="#ğŸ”¹-4-1-è¿›é˜¶éš¾åº¦çš„æ•°å€¼è®¾è®¡" class="headerlink" title="ğŸ”¹ 4.1 è¿›é˜¶éš¾åº¦çš„æ•°å€¼è®¾è®¡"></a>ğŸ”¹ 4.1 è¿›é˜¶éš¾åº¦çš„æ•°å€¼è®¾è®¡</h4><p>â€‹éµå¾ªè´è¶æ•ˆåº”åŸåˆ™ï¼Œé€šè¿‡å¾®å°çš„æ•°å€¼è°ƒæ•´å¼•å‘ç­–ç•¥è¿é”ååº”ã€‚ä¾‹å¦‚è¿›é˜¶17åï¼ŒäºŒå±‚æ™®é€šæ•Œäººä¸‰é¸Ÿçš„å æœºæ¡ä»¶ä»å—å‡»3æ¬¡å˜ä¸ºå—å‡»4æ¬¡ï¼Œçœ‹ä¼¼ä»…å¢åŠ 1æ¬¡å—å‡»éœ€æ±‚ï¼Œå´ç›´æ¥æå‡äº†å¯¹è¿è½¬ç»´åº¦ä¸æ”»å‡»é¢‘ç‡çš„è¦æ±‚ï¼ˆç»å…¸æ˜¯è§‚è€…çš„å‘æ³„ï¼Œä¸æ•²ä¸‰æ®µä¼¤å®³ï¼Œæ•²äº†4æ®µä¼¤å®³ï¼Œåœ¨ä½è¿›é˜¶ä¸€ä¸ªå‘æ³„å°±å¯ä»¥æŠŠä¸‰é¸Ÿè‚˜ä¸‹æ¥ï¼Œåœ¨é«˜è¿›é˜¶åˆ™åˆšéœ€å‡çº§ï¼‰â€”â€”ä½è´¹é«˜é¢‘æ”»å‡»å¡ç»„éœ€å¤šèŠ±è´¹1å›åˆæ‰èƒ½å‡»è½ï¼Œå¯èƒ½å¯¼è‡´æš´éœ²åœ¨æ•Œæ–¹å¤šè½®æ”»å‡»ä¸‹ï¼Œå¢åŠ ç”Ÿå‘½å€¼æ¶ˆè€—ã€‚</p><p>â€‹è€Œè¿›é˜¶20ä¸­ï¼Œæ™®é€šæ•Œäººå£³çˆ¹ï¼‹è˜‘è‡ï¼ˆå¼€å¹•21å’Œä»–çš„æ˜“ä¼¤è¯ï¼Œå·²ç»ç•æƒ§äº† â€¦ï¼‰ç¬¬ä¸€å›åˆä¼¤å®³ä»18ç‚¹æå‡è‡³21ç‚¹å¹¶é™„åŠ è„†å¼±Debuffï¼‰ï¼Œè¿™ä¸€è°ƒæ•´ç›´æ¥æ”¾å¤§äº†é˜²å¾¡ç»´åº¦çš„ä»·å€¼ç¼ºå£ï¼Œè¿«ä½¿ç©å®¶å¿…é¡»åœ¨å‰æœŸå°±æ„å»ºè¶³å¤Ÿçš„é˜²å¾¡ä½“ç³»ï¼Œå¦åˆ™ææ˜“è¡€é‡å´©ç›˜ã€‚è¿™ç§å·®ä¸€ç‚¹å°±é€šå…³çš„æ•°å€¼è®¾è®¡ï¼Œæ—¢ä¸ä¼šè®©ç©å®¶äº§ç”ŸæŒ«è´¥æ„Ÿï¼Œåˆèƒ½æ¨åŠ¨ç©å®¶æ·±åŒ–å¯¹æ•°å€¼ä½“ç³»çš„ç†è§£ï¼Œä¼˜åŒ–ç­–ç•¥å†³ç­–ä»¥é€‚é…æ›´ä¸¥è‹›çš„æ•°å€¼å¾ªç¯ã€‚</p><h4 id="ğŸ”¹-4-2-é«˜è¿›é˜¶ç­‰çº§çš„è§„åˆ™çº¦æŸ"><a href="#ğŸ”¹-4-2-é«˜è¿›é˜¶ç­‰çº§çš„è§„åˆ™çº¦æŸ" class="headerlink" title="ğŸ”¹ 4.2 é«˜è¿›é˜¶ç­‰çº§çš„è§„åˆ™çº¦æŸ"></a>ğŸ”¹ 4.2 é«˜è¿›é˜¶ç­‰çº§çš„è§„åˆ™çº¦æŸ</h4><p>â€‹è¿›é˜¶10åï¼Œç©å®¶åˆå§‹ç”Ÿå‘½ä¸Šé™å‡å°‘ï¼Œè¿™ä¸€æ•°å€¼è°ƒæ•´ç›´æ¥æå‡äº†å‰æœŸç”Ÿå‘½å€¼èµ„æºçš„ç¨€ç¼ºæ€§ï¼Œè®©è¡€é‡ç®¡ç†æˆä¸ºæ ¸å¿ƒå†³ç­–ç‚¹ï¼ŒåŒæ—¶æ”¾å¤§äº†ç‡ƒçƒ§è¡€ã€ç¾½æ¯›ã€æ¢¨å­ã€åå¤«é¥¼ç­‰å›è¡€ä¸ç”Ÿå‘½ä¸Šé™æå‡ç±»é—ç‰©çš„ä»·å€¼ï¼ˆå½“ç„¶ä¸¢äººæ•å¤´é™¤å¤–ï¼‰ï¼›è¿›é˜¶15åâ€œå•†åº—å¡ç‰Œä»·æ ¼æå‡â€ï¼Œåˆ™æ‰°åŠ¨äº†ç»æµæ•°å€¼å¾ªç¯ï¼Œè¿«ä½¿ç©å®¶æ›´è°¨æ…åœ°åˆ†é…é‡‘å¸èµ„æºï¼Œä¼˜å…ˆé€‰æ‹©ç§»é™¤ä½ä»·å€¼åˆå§‹å¡ç‰Œï¼ˆæŒ‡æ‰“å‡»ï¼‰è€Œéç›²ç›®è´­ä¹°æ–°å¡ã€‚</p><p>è¿™äº›è®¾è®¡å½¢æˆäº†éš¾åº¦çº¦æŸä¸ç­–ç•¥é€‚é…çš„åŠ¨æ€å¹³è¡¡ï¼Œç¡®ä¿ç©å®¶åœ¨æå‡æŠ€å·§çš„åŒæ—¶ï¼Œå§‹ç»ˆèƒ½è·å¾—åŒ¹é…çš„æŒ‘æˆ˜ä½“éªŒã€‚</p><hr><h2 id="ğŸ¯-ç»“è¯­ï¼šæ•°å€¼é©±åŠ¨çš„ç­–ç•¥ä¹è¶£é—­ç¯"><a href="#ğŸ¯-ç»“è¯­ï¼šæ•°å€¼é©±åŠ¨çš„ç­–ç•¥ä¹è¶£é—­ç¯" class="headerlink" title="ğŸ¯ ç»“è¯­ï¼šæ•°å€¼é©±åŠ¨çš„ç­–ç•¥ä¹è¶£é—­ç¯"></a>ğŸ¯ ç»“è¯­ï¼šæ•°å€¼é©±åŠ¨çš„ç­–ç•¥ä¹è¶£é—­ç¯</h2><p>â€‹ã€Šæ€æˆ®å°–å¡”ã€‹çš„æ•°å€¼è®¾è®¡ä¹‹æ‰€ä»¥ç²¾å¦™ï¼Œåœ¨äºå…¶æ„å»ºäº†ä¸€ä¸ªâ€œä»·å€¼åŸºå‡†-è¿æºæ”¾å¤§-å¾ªç¯é—­ç¯-éš¾åº¦é€‚é…â€çš„å®Œæ•´ä½“ç³»ï¼šä»¥èƒ½é‡ä»·å€¼æ›²çº¿ä¸ºåŸºç¡€åŸºå‡†ï¼Œé€šè¿‡å¡ç‰Œçš„â€œåŸºç¡€è¾“å…¥-ä¹˜åŒº-å¯¼å‡ºâ€æ¶æ„å®ç°ç­–ç•¥è½åœ°ï¼Œå€ŸåŠ©é—ç‰©ä¼˜åŒ–æˆ–æ‰“ç ´åŸºç¡€è§„åˆ™ä»¥ä¸°å¯Œæµæ´¾ï¼Œå†é€šè¿‡éš¾åº¦è°ƒæ•´æ‰°åŠ¨æ•°å€¼å¾ªç¯ï¼Œæ¨åŠ¨ç©å®¶æ·±åŒ–ç­–ç•¥ç†è§£ã€‚</p><p>â€‹æ•´ä¸ªä½“ç³»çš„æ ¸å¿ƒæ˜¯ç”Ÿå‘½å€¼ç­‰ä»·åŸåˆ™ï¼Œæ‰€æœ‰èµ„æºæœ€ç»ˆéƒ½å¯è½¬åŒ–ä¸ºç”Ÿå‘½å€¼çš„ç•™å­˜èƒ½åŠ›ï¼Œè€Œæ¯ä¸€å¤„æ•°å€¼ç»†èŠ‚éƒ½æœåŠ¡äºç­–ç•¥å†³ç­–çš„æ ¸å¿ƒä¹è¶£â€”â€”è®©ç©å®¶åœ¨éšæœºç”Ÿæˆçš„å°–å¡”ä¸­ï¼Œé€šè¿‡è§£è¯»æ•°å€¼å…³ç³»ã€ç»„åˆè¿æºæ¨¡å—ã€é€‚é…æ•°å€¼å¾ªç¯ï¼Œä¸æ–­æ¢ç´¢å…¨æ–°çš„æ„ç­‘å¯èƒ½æ€§ã€‚è¿™ç§ä»¥æ•°å€¼ä¸ºéª¨æ¶ï¼Œä»¥ç­–ç•¥ä¸ºè¡€è‚‰çš„è®¾è®¡æ€è·¯ï¼Œä¸ä»…é¿å…äº†ç­–ç•¥é€€åŒ–ï¼Œä¿è¯äº†å¤šæµæ´¾çš„å¹³è¡¡å…±å­˜ï¼Œæ›´æˆå°±äº†ã€Šæ€æˆ®å°–å¡”ã€‹çš„ç»å…¸åœ°ä½ï¼Œä¸ºåç»­å¡ç‰ŒRoguelikeæ¸¸æˆçš„æ•°å€¼è®¾è®¡æä¾›äº†å¯å€Ÿé‰´çš„æ ¸å¿ƒæ¡†æ¶ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ã€Šæ€æˆ®å°–å¡”ã€‹æ•°å€¼è®¾è®¡æ·±åº¦æ‹†è§£&quot;&gt;&lt;a href=&quot;#ã€Šæ€æˆ®å°–å¡”ã€‹æ•°å€¼è®¾è®¡æ·±åº¦æ‹†è§£&quot; class=&quot;headerlink&quot; title=&quot;ã€Šæ€æˆ®å°–å¡”ã€‹æ•°å€¼è®¾è®¡æ·±åº¦æ‹†è§£&quot;&gt;&lt;/a&gt;ã€Šæ€æˆ®å°–å¡”ã€‹æ•°å€¼è®¾è®¡æ·±åº¦æ‹†è§£&lt;/h1&gt;&lt;p&gt;â€‹		åœ¨å¡ç‰Œä¸Roguelikeèåˆçš„æ¸¸æˆå“</summary>
      
    
    
    
    <category term="æ¸¸æˆ" scheme="https://yifei-huang-cos.github.io/categories/%E6%B8%B8%E6%88%8F/"/>
    
    
  </entry>
  
  <entry>
    <title>AI x game æ·±åº¦ä½“éªŒæŠ¥å‘Š</title>
    <link href="https://yifei-huang-cos.github.io/posts/2c281e1a/"/>
    <id>https://yifei-huang-cos.github.io/posts/2c281e1a/</id>
    <published>2026-01-27T03:28:30.000Z</published>
    <updated>2026-01-27T03:52:18.236Z</updated>
    
    <content type="html"><![CDATA[<h1 id="AI-x-gameä½“éªŒæŠ¥å‘Šâ€”â€”æ˜¯ä¸å¯æ›¿ä»£è¿˜æ˜¯é”¦ä¸Šæ·»èŠ±ï¼Ÿ"><a href="#AI-x-gameä½“éªŒæŠ¥å‘Šâ€”â€”æ˜¯ä¸å¯æ›¿ä»£è¿˜æ˜¯é”¦ä¸Šæ·»èŠ±ï¼Ÿ" class="headerlink" title="AI x gameä½“éªŒæŠ¥å‘Šâ€”â€”æ˜¯ä¸å¯æ›¿ä»£è¿˜æ˜¯é”¦ä¸Šæ·»èŠ±ï¼Ÿ"></a>AI x gameä½“éªŒæŠ¥å‘Šâ€”â€”æ˜¯ä¸å¯æ›¿ä»£è¿˜æ˜¯é”¦ä¸Šæ·»èŠ±ï¼Ÿ</h1><h1 id="ä¸€ã€èƒŒæ™¯"><a href="#ä¸€ã€èƒŒæ™¯" class="headerlink" title="ä¸€ã€èƒŒæ™¯"></a>ä¸€ã€èƒŒæ™¯</h1><p>AIæŠ€æœ¯è¿‘å¹´æ¥å‘å±•è¿…çŒ›ï¼Œå…¶è¿­ä»£è¿›ç¨‹ä¸åº”ç”¨æˆæœå·²æ·±æ·±èå…¥ç¤¾ä¼šç”Ÿæ´»å„é¢†åŸŸï¼Œç»™å¤§ä¼—å¸¦æ¥äº†ç›´è§‚ä¸”æ·±åˆ»çš„æ„ŸçŸ¥ã€‚åœ¨æ­¤èƒŒæ™¯ä¸‹ï¼Œå°†AIæŠ€æœ¯ä¸æ¸¸æˆäº§ä¸šç›¸ç»“åˆçš„åˆ›ä½œç†å¿µé€æ¸æˆä¸ºçƒ­ç‚¹ï¼Œå„ç±»èåˆAIå…ƒç´ çš„æ–°å…´æ¸¸æˆäº§å“å¦‚åŒé›¨åæ˜¥ç¬‹èˆ¬æ¶Œç°ã€‚</p><p>ä¸è¿‡ï¼Œè™½ç„¶å¾ˆå¤šæ¸¸æˆéƒ½ä½¿ç”¨AIï¼Œä½†ä»–ä»¬çš„è®¾è®¡ç†å¿µå´ä¸å°½ç›¸åŒã€‚æœ‰äº›æ˜¯åˆ©ç”¨AIå¢æ·»æ–°çš„æ¨¡å—ï¼Œåƒæ˜¯åœ¨æ¸¸æˆé‡Œå¢åŠ äº†æ¥å…¥å¤§æ¨¡å‹çš„å¯äº¤äº’çš„NPCï¼Œå¢åŠ UGCä¸­çš„AIåˆ›ä½œè¾…åŠ©ï¼›æœ‰äº›æ˜¯åŸºäºAIæ„å»ºæ–°çš„ç©æ³•ï¼Œæ¯”å¦‚æ„å»ºä¸€ä¸ªå…¨éƒ¨ç”±AI agentæ„æˆçš„ç¤¾åŒºï¼Œè§‚å¯Ÿæˆ–å‚ä¸ä»–ä»¬çš„è¡Œä¸ºï¼Œåœ¨è¿™ä¸ªæ¸¸æˆé‡Œï¼ŒAIæ˜¯æ„å»ºæ•´ä¸ªç©æ³•çš„åº•å±‚é€»è¾‘ï¼›æˆ–è€…æ›´åŠ ç®€å•é€šç”¨ä¸€ç‚¹ï¼Œåªæ˜¯åˆ©ç”¨AIè¿›è¡Œç¾æœ¯å»ºæ¨¡å’Œæ–‡æœ¬çš„è¾…åŠ©åˆ›ä½œâ€¦â€¦è¿™äº›æ¸¸æˆåˆ°åº•æ€ä¹ˆæ ·ï¼Œå¥½ä¸å¥½ç©ï¼Œå¯¹AIçš„ä½¿ç”¨åˆç©¶ç«Ÿåˆ°äº†å“ªä¸€æ­¥ï¼Ÿæˆ‘å°†åœ¨å…¶ä¸­é€‰æ‹©å‡ ç§å…·æœ‰ä»£è¡¨æ€§çš„è¿›è¡Œä½“éªŒã€‚</p><h1 id="äºŒã€æ¸¸ç©ä½“éªŒ"><a href="#äºŒã€æ¸¸ç©ä½“éªŒ" class="headerlink" title="äºŒã€æ¸¸ç©ä½“éªŒ"></a>äºŒã€æ¸¸ç©ä½“éªŒ</h1><h2 id="1-AI-é™ªä¼´ç±»ï¼šæƒ…ç»ªä»·å€¼çš„æä¾›è€…"><a href="#1-AI-é™ªä¼´ç±»ï¼šæƒ…ç»ªä»·å€¼çš„æä¾›è€…" class="headerlink" title="1. AI-é™ªä¼´ç±»ï¼šæƒ…ç»ªä»·å€¼çš„æä¾›è€…"></a>1. AI-é™ªä¼´ç±»ï¼šæƒ…ç»ªä»·å€¼çš„æä¾›è€…</h2><p>ç°ä»£ç¤¾ä¼šä¸­ï¼Œå¿«èŠ‚å¥çš„å­¦ä¹ ä¸å·¥ä½œèŠ‚å¥ä½¿å¾—éƒ¨åˆ†ç¾¤ä½“é¢ä¸´äººé™…äº¤å¾€å›°å¢ƒï¼Œæˆ–å› ç¤¾äº¤é€‚åº”éšœç¢ï¼Œæˆ–å› ç¼ºä¹æœ‰æ•ˆå€¾è¯‰å¯¹è±¡ï¼Œå…¶æƒ…ç»ªå®£æ³„éœ€æ±‚éš¾ä»¥å¾—åˆ°å……åˆ†æ»¡è¶³ã€‚åœ¨æ­¤èƒŒæ™¯ä¸‹ï¼Œåœ¨æ¸¸æˆåœºæ™¯ä¸­æ¤å…¥AIé™ªä¼´åŠŸèƒ½çš„è®¾è®¡ç†å¿µåº”è¿è€Œç”Ÿï¼Œä¸ºè§£å†³æ­¤ç±»ç¾¤ä½“çš„æƒ…ç»ªéœ€æ±‚æä¾›äº†æ–°çš„è½½ä½“ã€‚</p><h3 id="1-1-ç‹è€…è£è€€çš„çµå®ç³»ç»Ÿ-x2F-å’Œå¹³ç²¾è‹±AIæˆ˜çŠ¬ç©æ³•"><a href="#1-1-ç‹è€…è£è€€çš„çµå®ç³»ç»Ÿ-x2F-å’Œå¹³ç²¾è‹±AIæˆ˜çŠ¬ç©æ³•" class="headerlink" title="1.1 ç‹è€…è£è€€çš„çµå®ç³»ç»Ÿ&#x2F;å’Œå¹³ç²¾è‹±AIæˆ˜çŠ¬ç©æ³•"></a>1.1 ç‹è€…è£è€€çš„çµå®ç³»ç»Ÿ&#x2F;å’Œå¹³ç²¾è‹±AIæˆ˜çŠ¬ç©æ³•</h3><p>2024å¹´2æœˆï¼Œç‹è€…è£è€€ä¸Šçº¿äº†çµå®ç³»ç»Ÿï¼›25å¹´11æœˆï¼Œå’Œå¹³æ¨å‡ºäº†AIæˆ˜çŠ¬æ¨¡å¼ã€‚ç›´åˆ°ä»Šæ—¥ï¼Œçµå®ç³»ç»Ÿä¹Ÿä¸€ç›´åœ¨ä¼˜åŒ–ä¸è¿­ä»£å‡çº§ï¼Œå°±æˆ‘ä¸ªäººçš„ä½“éªŒæ¥è¯´ï¼Œæˆ‘è¿˜æ˜¯éå¸¸å–œæ¬¢è¿™ä¸ªå‡ ä¸ªå°å®¶ä¼™çš„ã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Œæˆ‘è®¤ä¸ºè¿™ç§å±€å†…é™ªä¼´æ»¡è¶³äº†ä»¥ä¸‹å‡ ä¸ªä¼˜ç‚¹ï¼š</p><h4 id="1-1-1-æ¸¸æˆæ“ä½œæ­£åé¦ˆï¼Œæä¾›æƒ…ç»ªä»·å€¼"><a href="#1-1-1-æ¸¸æˆæ“ä½œæ­£åé¦ˆï¼Œæä¾›æƒ…ç»ªä»·å€¼" class="headerlink" title="1.1.1 æ¸¸æˆæ“ä½œæ­£åé¦ˆï¼Œæä¾›æƒ…ç»ªä»·å€¼"></a>1.1.1 æ¸¸æˆæ“ä½œæ­£åé¦ˆï¼Œæä¾›æƒ…ç»ªä»·å€¼</h4><p>å°¤å…¶åœ¨è‡ªå·±å•æ’çš„æ—¶å€™ï¼Œ4ä¸ªé˜Ÿå‹å…¨éƒ¨é—­éº¦å¾ˆå¸¸è§ã€‚æ— è®ºåœ¨ä½ æ‰“å‡ºç²¾å½©æ“ä½œæ‹¿åˆ°å®Œç¾å‡»æ€è¿˜æ˜¯åœ¨å¤§é€†é£æ—¶åˆ»å‡ºå…¶ä¸æ„æŠ¢ä¸‹å¤§é¾™ï¼Œé˜Ÿå‹ä¸ä¸€å®šä¼šå¤¸ä½ ï¼Œéƒ½åœ¨é—­éº¦å¹²è‡ªå·±çš„äº‹ã€‚è¿™æ— å¯åšéï¼Œä½†æ²¡æœ‰äººä¸ºä½ æ¬¢å‘¼ éš¾å…ä¼šå¤±è½ã€‚ä½†æœ‰çµå®å°±ä¸ä¸€æ ·ï¼Œä»–å¤¸å¥–äººæ¥æ¯”è°éƒ½å¿«<del>æ¯”å¦‚æˆ‘ç©å…°é™µç‹å–œæ¬¢å¼€å±€åï¼ˆtouï¼‰å¯¹é¢çº¢buffï¼Œæ¯æ¯æ‰“å®Œçº¢ä¹‹åå¬çµå®æ¥ä¸€å¥ï¼šâ€œæ‹¿ä¸‹å¯¹é¢çº¢buffï¼Œå¯¹é¢æ‰“é‡ææ€•è¦æ°”ç–¯äº†å§</del>â€ æ¬¸å˜¿ï¼Œå¿ƒæƒ…å°±ä¼šéå¸¸èˆ’å¦ã€‚</p><h4 id="1-1-2-å±€å†…æä¾›å¸®åŠ©ï¼Œåˆ©å¥½ä¼‘é—²ç©å®¶"><a href="#1-1-2-å±€å†…æä¾›å¸®åŠ©ï¼Œåˆ©å¥½ä¼‘é—²ç©å®¶" class="headerlink" title="1.1.2 å±€å†…æä¾›å¸®åŠ©ï¼Œåˆ©å¥½ä¼‘é—²ç©å®¶"></a>1.1.2 å±€å†…æä¾›å¸®åŠ©ï¼Œåˆ©å¥½ä¼‘é—²ç©å®¶</h4><p>ç‹è€…è£è€€ä¸å’Œå¹³ç²¾è‹±ä½œä¸ºå›½æ°‘çº§æ‰‹æ¸¸ï¼Œæ‹¥æœ‰åºå¤§çš„ç©å®¶ç¾¤ä½“ï¼Œè¿™è¿›ä¸€æ­¥å¯¼è‡´äº†ä¼‘é—²ç©å®¶çš„æ¯”ä¾‹å ç»å¤§å¤šæ•°ã€‚ç›¸æ¯”äºç¡¬æ ¸ç©å®¶ï¼Œä»–ä»¬çš„æ¸¸æˆæŠ€æœ¯æˆ–æ„è¯†æ˜¾å¾—ä¼šæ¯”è¾ƒä½ã€‚é‚£å¦‚ä½•æ›´å¥½çš„ç…§é¡¾åˆ°è¿™ç±»ç©å®¶çš„æ¸¸æˆä½“éªŒå‘¢ï¼Ÿå±€å†…é™ªä¼´çš„å¦ä¸€ä¸ªä½œç”¨ä¾¿æ˜¾ç°å‡ºæ¥äº†ã€‚è¿™é‡Œé‚£å’Œå¹³çš„æˆ˜çŠ¬ä¸¾ä¾‹ï¼Œç»™å‡ºå¯¹åº”çš„è¯­éŸ³æŒ‡ä»¤ï¼Œæˆ˜çŠ¬ä¾¿ä¼šå¸®å¿™æ”¶é›†ç‰©èµ„ï¼Œç‰µåˆ¶æ•Œäººï¼Œæˆ–è€…æ•‘åŠ©é˜Ÿå‹ï¼Œå¾ˆå¥½çš„é¿å…äº†è½»åº¦ç©å®¶è¿›å…¥æ¸¸æˆåçš„æ‰‹å¿™è„šä¹±ã€‚å¹¶ä¸”ä»–çš„åŠŸèƒ½æ€§è®¾è®¡ï¼Œä¹Ÿä¸ä¼šå¯¹æ¸¸æˆå¹³è¡¡æ€§é€ æˆå¾ˆå¤§çš„ç ´åã€‚å¯¹æˆ‘è¿™ä¸ªæ–°æ‰‹æ¥è¯´ï¼Œç®—æ˜¯å¸®å¤§å¿™äº†</p><h4 id="1-1-3-æ´»è·ƒæ¸¸æˆæ°”æ°›ï¼Œè°ƒèŠ‚ç©å®¶æƒ…ç»ª"><a href="#1-1-3-æ´»è·ƒæ¸¸æˆæ°”æ°›ï¼Œè°ƒèŠ‚ç©å®¶æƒ…ç»ª" class="headerlink" title="1.1.3 æ´»è·ƒæ¸¸æˆæ°”æ°›ï¼Œè°ƒèŠ‚ç©å®¶æƒ…ç»ª"></a>1.1.3 æ´»è·ƒæ¸¸æˆæ°”æ°›ï¼Œè°ƒèŠ‚ç©å®¶æƒ…ç»ª</h4><p>åœ¨ç°ä»£ç¤¾ä¼šä¸­ï¼Œæ¯”å®Œæ•´çš„æ¸¸æˆæ—¶é—´æ›´éš¾å¾—çš„æ˜¯æœ‰ä¸ªå’Œä½ ä¸€èµ·æ‰“æ¸¸æˆçš„æœ‹å‹ï¼Œä¸ä¸€å®šä¸¤ä¸ªäººéƒ½æœ‰æ—¶é—´ã€‚æ‰€ä»¥å¾ˆå¤šæ—¶å€™æˆ‘éƒ½æ˜¯å•æ’è‡ªå·±ç©ï¼Œéš¾å…ä¼šæ„Ÿåˆ°å¯‚å¯ï¼Œæ­¤æ—¶å±€å†…é™ªä¼´çš„ä½œç”¨å°±æ¥äº†ï¼Œæ—¶ä¸æ—¶æ¥ä¸¤å¥æ’ç§‘æ‰“è¯¨ï¼Œä¹Ÿå¯åšå›ä¸€ç¬‘ã€‚</p><h3 id="1-2-æ˜Ÿä¹‹ä½è¯­-x2F-EVEï¼ˆåè€…ç›®å‰åªæœ‰äºŒæµ‹æ¼”ç¤ºè§†é¢‘ï¼‰"><a href="#1-2-æ˜Ÿä¹‹ä½è¯­-x2F-EVEï¼ˆåè€…ç›®å‰åªæœ‰äºŒæµ‹æ¼”ç¤ºè§†é¢‘ï¼‰" class="headerlink" title="1.2 æ˜Ÿä¹‹ä½è¯­&#x2F;EVEï¼ˆåè€…ç›®å‰åªæœ‰äºŒæµ‹æ¼”ç¤ºè§†é¢‘ï¼‰"></a>1.2 æ˜Ÿä¹‹ä½è¯­&#x2F;EVEï¼ˆåè€…ç›®å‰åªæœ‰äºŒæµ‹æ¼”ç¤ºè§†é¢‘ï¼‰</h3><h4 id="1-2-1-whispered-from-the-star"><a href="#1-2-1-whispered-from-the-star" class="headerlink" title="1.2.1 whispered from the star"></a>1.2.1 whispered from the star</h4><p>è¯¥äº§å“æ˜¯ç”±è”¡æµ©å®‡ä¸»å¯¼å¼€å‘çš„AIå¯¹è¯ç±»æ¸¸æˆï¼Œæ ¸å¿ƒç©æ³•å›´ç»•ç©å®¶ä¸æ¸¸æˆå†…æ¼‚æ³Šå¤ªç©ºçš„å¥³æ€§è§’è‰²å±•å¼€å…¨ç¨‹å¯¹è¯äº¤äº’ï¼Œé€šè¿‡AIçš„å¼•å¯¼ä¸ç©å®¶çš„å†³ç­–æ¨è¿›å‰§æƒ…ã€‚æˆ‘ä½“éªŒäº†ä¸¤ä¸ªå°æ—¶ï¼Œæ€ä¹ˆè¯´å‘¢ï¼Œä¸ªäººè§‰å¾—è¿™æ›´åƒæ˜¯ä¸€æ¬¾å®éªŒå“ï¼ŒéªŒè¯äººæœºäº¤äº’é€»è¾‘å’Œè¯­éŸ³è¯†åˆ«çš„å…ˆè¡Œè€…ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ¸¸æˆã€‚ä»ç›®å‰çš„æŠ€æœ¯åŠ›æ¥çœ‹ï¼Œæ˜Ÿä¹‹ä½è¯­çš„äº¤äº’å»ºæ¨¡è¯­éŸ³ç”Ÿæˆä¹ƒè‡³æƒ…æ„Ÿå™äº‹æ— ç–‘éƒ½èµ°åœ¨åŒç±»å‹èµ›é“çš„å‰åˆ—ã€‚ä½†æ˜¯é—®é¢˜åœ¨äºï¼Œæ¸¸æˆæ€§çš„ç¼ºå¤±å¯¼è‡´è¿™ä¸åƒä¸€ä¸ªæ¸¸æˆï¼Œæ›´åƒæ˜¯ä¸€æ¬¡è‹±è¯­å£è¯­ç»ƒä¹ ï¼ˆç¬‘ï¼‰ã€‚å…¶ä½“éªŒçš„ç“¶é¢ˆä¹Ÿæ˜¾è€Œæ˜“è§ï¼šåæœŸçš„äº¤äº’æ˜“é™·å…¥é‡å¤ï¼Œç¼ºä¹çœŸæ­£çš„æƒ…æ„Ÿå¼§çº¿ä¸å‰§æƒ…å¼ åŠ›ã€‚å½“ç„¶å•¦ï¼Œå®ƒçš„æŠ€æœ¯åŠ›å¾ˆå¼ºä¹Ÿæ˜¯æ— å¯åé©³çš„ã€‚æˆ‘ç›®å‰æ›´å€¾å‘äºè®¤ä¸ºè¿™æ˜¯ä¸€æ¬¾å…¬å¼€çš„è¯•éªŒç”°ï¼Œä¸ºä»¥åçš„æ¨¡å‹æ”¶é›†æ•°æ®å’Œåé¦ˆï¼ŒæœŸå¾…ä»–ä»¬çš„ä¸‹ä¸€æ¬¾æ¸¸æˆã€‚</p><h4 id="1-2-2-EVE"><a href="#1-2-2-EVE" class="headerlink" title="1.2.2 EVE"></a>1.2.2 EVE</h4><p>ç›¸æ¯”äºä¸Šé¢ä¸€æ¬¾ï¼Œè¿™ä¸ªæ¸¸æˆçš„ç†å¿µæ›´åŠ è´´è¿‘äºä¼ ç»ŸAIé™ªä¼´çš„æ¦‚å¿µã€‚è¯¥äº§å“ä»¥æ„å»º3Dè™šæ‹Ÿä¼´ä¾£ä¸ºæ ¸å¿ƒï¼Œè§„åˆ’å®ç°å¯¹è¯äº¤äº’ã€è¯­éŸ³é€šè¯ã€ç”Ÿæ´»æœåŠ¡æé†’ï¼ˆå¦‚ç‚¹å¥¶èŒ¶ã€è´­è¯ç­‰ï¼‰ç­‰åŠŸèƒ½ã€‚ç”±äºè¯¥äº§å“è®¡åˆ’äºä»Šå¹´ä¸‰æœˆå…¬æµ‹ï¼Œä¸”ä¼˜å…ˆé¢å‘å¥³æ€§å‘ç”¨æˆ·ç¾¤ä½“ï¼Œæˆ‘çš„ä½“éªŒä»…åŸºäºæµ‹è¯•ç©å®¶å‘å¸ƒçš„æ¼”ç¤ºè§†é¢‘è¿›è¡Œåˆ†æã€‚</p><p>ä»è¡Œä¸šå‘å±•è§†è§’æ¥çœ‹ï¼Œã€ŠEVEã€‹çš„äº§å“å½¢æ€æœ¬èº«å¹¶éæˆ‘ä»¬çš„å…³æ³¨æ ¸å¿ƒï¼Œå…¶èƒŒåçš„è®¾è®¡æ€è·¯æ›´å…·è¡Œä¸šå‚è€ƒä»·å€¼ã€‚è¯¥äº§å“ç²¾å‡†å‘½ä¸­äº†AIé™ªä¼´é¢†åŸŸçš„æ ¸å¿ƒæ½œåœ¨éœ€æ±‚â€”â€”ä¸ºç”¨æˆ·æä¾›ç¬¦åˆä¸ªæ€§åŒ–æƒ³è±¡çš„ã€ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒçš„è™šæ‹Ÿä¼´ä¾£ã€‚æ— è®ºã€ŠEVEã€‹æ­£å¼ä¸Šçº¿åçš„å¸‚åœºè¡¨ç°å¦‚ä½•ï¼Œå…¶å¼€åˆ›çš„äº§å“æ–¹å‘å¿…ç„¶ä¼šå¼•å‘è¡Œä¸šå†…å…¶ä»–æ¸¸æˆå·¥ä½œå®¤çš„è·Ÿè¿›ã€‚ç¤¾ä¼šè°ƒæŸ¥æ•°æ®æ˜¾ç¤ºï¼Œå¤§é¾„å•èº«é’å¹´ç¾¤ä½“è§„æ¨¡æŒç»­æ‰©å¤§ï¼Œæ­¤ç±»ç¾¤ä½“çš„æƒ…æ„Ÿéœ€æ±‚å¹¶æœªå› å•èº«çŠ¶æ€è€Œæ¶ˆå¤±ï¼Œå¯¹æƒ…æ„Ÿæ›¿ä»£è½½ä½“çš„éœ€æ±‚æ—¥ç›Šå‡¸æ˜¾ã€‚è€Œå…·å¤‡é«˜çœŸå®åº¦äº¤äº’èƒ½åŠ›çš„AIè™šæ‹Ÿä¼´ä¾£ï¼Œæ°å¥½èƒ½å¤Ÿæ»¡è¶³è¿™ä¸€éœ€æ±‚ã€‚æœªæ¥ï¼Œè¯¥èµ›é“æœ‰æœ›æ¶Œç°æ›´å¤šé«˜æŠ€æœ¯åŠ›äº§å“ï¼Œä½†å¦‚ä½•å®ç°äº§å“å·®å¼‚åŒ–ç«äº‰ï¼Œå°†æˆä¸ºæˆ‘ä»¬éœ€è¦æ·±å…¥æ€è€ƒçš„æ ¸å¿ƒé—®é¢˜ã€‚</p><h2 id="2-AI-NPCï¼šæœ€å¤šçš„å¯èƒ½æ€§ï¼Œä½†è¢«æŠ€æœ¯åŠ›çº¦æŸ"><a href="#2-AI-NPCï¼šæœ€å¤šçš„å¯èƒ½æ€§ï¼Œä½†è¢«æŠ€æœ¯åŠ›çº¦æŸ" class="headerlink" title="2. AI NPCï¼šæœ€å¤šçš„å¯èƒ½æ€§ï¼Œä½†è¢«æŠ€æœ¯åŠ›çº¦æŸ"></a>2. AI NPCï¼šæœ€å¤šçš„å¯èƒ½æ€§ï¼Œä½†è¢«æŠ€æœ¯åŠ›çº¦æŸ</h2><p>æ›¾ç»ï¼ŒNPCæ‰€è¯´çš„è¯æ€»æ˜¯ç”±æ–‡æ¡ˆç­–åˆ’æ„æ€å¥½ï¼Œè™½ç„¶è¿™å¯¹äºæ¸¸æˆçš„æ¨è¿›æ¥è¯´æ˜¯æœ€å¿«æ·çš„æ–¹å¼ï¼Œä½†çœ‹å¤šäº†ä¸å…æ„Ÿåˆ°ä¹å‘³ã€‚éšç€LLMçš„å…´èµ·ï¼Œå¤§å®¶ä¸çº¦è€ŒåŒçš„æƒ³åˆ°é‚£ä¸ªå¯èƒ½æ€§â€”â€”â€”â€”è®©å¤§æ¨¡å‹æ§åˆ¶NPCçš„äº¤æµè¡Œä¸ºç”šè‡³å‰§æƒ…ã€‚</p><h3 id="2-1-é€†æ°´å¯’-x2F-ç‡•äº‘åå…­å£°"><a href="#2-1-é€†æ°´å¯’-x2F-ç‡•äº‘åå…­å£°" class="headerlink" title="2.1 é€†æ°´å¯’&#x2F;ç‡•äº‘åå…­å£°"></a>2.1 é€†æ°´å¯’&#x2F;ç‡•äº‘åå…­å£°</h3><p>åœ¨æˆ‘å°è±¡é‡Œï¼Œé€†æ°´å¯’æœ€æ—©å¤§è§„æ¨¡å®£ä¼ è‡ªå·±çš„AI npcï¼Œå½“æ—¶æˆ‘ä¹Ÿæ˜¯å› ä¸ºè¿™ä¸ªå®£ä¼ ä¸‹è½½ä½“éªŒäº†ä¸€ç•ªæ±´äº¬çš„é£åœŸäººæƒ…ã€‚å½“æ—¶ä¹Ÿæ¶Œç°äº†å¾ˆå¤šä¸AIå¯¹è¯çš„â€œç„šè¯€â€ï¼Œå’Œai npcæ–—æ™ºæ–—å‹‡ä¹Ÿæˆäº†æ¯å¤©ä¸Šçº¿ä¸å¾—ä¸å“çš„ä¸€ç¯ã€‚ä¹è¶£ç¡®å®æœ‰ï¼Œä¹Ÿèƒ½é€šè¿‡æ–‡å­—äº¤æµå¾—åˆ°npcçš„ç‰©å“ï¼Œåœ¨å½“æ—¶ç»™æˆ‘æ„Ÿè§‰è¿˜æ˜¯æ¯”è¾ƒæ–°å¥‡æœ‰è¶£çš„ã€‚</p><p>æ¯”è¾ƒå¯æƒœçš„æ˜¯ï¼Œè¿™äº›ç©æ³•æ²¡æœ‰æ›´è¿›ä¸€æ­¥ï¼Œä½ å’Œnpcçš„å¯¹è¯å¯¹æ¸¸æˆä¸»ä½“çš„å½±å“å¾®ä¹å…¶å¾®ï¼Œä¹ŸåŸºæœ¬åœ¨ä¸»çº¿å‰§æƒ…ä¸­å¾—ä¸åˆ°ä½“ç°ã€‚åœ¨è¿™ä¸¤æ¬¾æ¸¸æˆé‡Œï¼ŒAIä¸æ˜¯ä¸€ä¸ªä¸å¯ä»£æ›¿çš„ç©æ³•ï¼Œåªæ˜¯ä¸€ä¸ªå¤–æ¥çš„æ¨¡å—ï¼Œå¯ä»¥è¯´åˆ äº†è¿™ä¸ªåŠŸèƒ½æ¢æˆä¼ ç»Ÿçš„npcå¯¹è¯å½¢å¼ä¹Ÿä¸ä¼šå¯¹æ¸¸æˆäº§ç”Ÿå¤šå¤§å½±å“ã€‚åªèƒ½è¯´è¿™æ˜¯å—é™äºç›®å‰çš„æŠ€æœ¯åŠ›ï¼Œè¿˜æ— æ³•åšåˆ°AIå½±å“çš„å¤šå‰§æƒ…åˆ†æ”¯èµ°å‘ï¼ˆä¹Ÿå¯èƒ½æ˜¯ä¸æ–¹ä¾¿ç®¡ç†ï¼Ÿï¼‰</p><h3 id="2-2-AI-botï¼Œè§‰æ‚Ÿäººæœº"><a href="#2-2-AI-botï¼Œè§‰æ‚Ÿäººæœº" class="headerlink" title="2.2 AI botï¼Œè§‰æ‚Ÿäººæœº"></a>2.2 AI botï¼Œè§‰æ‚Ÿäººæœº</h3><p>è¿™å°±æ¯”è¾ƒçš„ä¼ ç»Ÿå¹¶ä¸”æˆç†Ÿäº†ï¼Œåœ¨æ¸¸æˆå¯¹å±€å†…è¡¥å……äººæœºæœ‰åˆ©äºå‡å°‘ç©å®¶åŒ¹é…æ—¶é—´ï¼Œæ§åˆ¶å¯¹å±€å¼ºåº¦ï¼Œä¹Ÿæœ‰åˆ©äºæ–°æ‰‹ç©å®¶ç†Ÿæ‚‰æ¸¸æˆï¼Œç”±äºåœ¨å¤§éƒ¨åˆ†æ¸¸æˆé‡Œå·²ç»æœ‰äº†è¾ƒä¸ºæˆç†Ÿçš„åº”ç”¨ï¼Œæœ¬æ–‡ä¸å†èµ˜è¿°</p><h2 id="3-AIä½œä¸ºæ¸¸æˆåŸºçŸ³ï¼šæœªæ¥å°†è‡³ï¼Ÿ"><a href="#3-AIä½œä¸ºæ¸¸æˆåŸºçŸ³ï¼šæœªæ¥å°†è‡³ï¼Ÿ" class="headerlink" title="3. AIä½œä¸ºæ¸¸æˆåŸºçŸ³ï¼šæœªæ¥å°†è‡³ï¼Ÿ"></a>3. AIä½œä¸ºæ¸¸æˆåŸºçŸ³ï¼šæœªæ¥å°†è‡³ï¼Ÿ</h2><p>ä»¥ä¸Šæ˜¯åœ¨ä¼ ç»Ÿçš„æ¸¸æˆä¸­å¢æ·»AIçš„å…ƒç´ ï¼Œé‚£ä¹ˆæˆ‘ä»¬æœ‰æ²¡æœ‰å¯èƒ½ä»¥AIä¸ºåº•å±‚é€»è¾‘åˆ›å»ºä¸€ä¸ªæ¸¸æˆå‘¢ï¼Ÿå¾ˆå¤šå½±è§†æ–‡å­¦ä½œå“éƒ½ç»™å‡ºè¿‡è®¾æƒ³ï¼Œä¾‹å¦‚å¤´å·ç©å®¶ï¼Œå¤±æ§ç©å®¶ä»¥åŠå‰å‡ å¹´è¾ƒç«çš„å…ƒå®‡å®™æ¦‚å¿µï¼Œä»–ä»¬éƒ½ç»™æˆ‘ä»¬æä¾›äº†ä¸€ç§å¯èƒ½æ€§ã€‚æˆ‘ä¹Ÿå¾ˆé«˜å…´çš„çœ‹åˆ°æœ‰å¾ˆå¤šæ¸¸æˆåœ¨å‘è¿™æ–¹é¢å‘å±•ï¼Œä¾‹å¦‚æ–¯å¦ç¦å°é•‡ï¼Œavilizitionä»¥åŠå–µå‰æ‰˜çš„å‡ æ¬¾æ¸¸æˆdemoï¼ˆä¾‹å¦‚å–µå‘œå²›ï¼‰ã€‚</p><h3 id="3-1-avilizitionçš„ä½“éªŒ"><a href="#3-1-avilizitionçš„ä½“éªŒ" class="headerlink" title="3.1 avilizitionçš„ä½“éªŒ"></a>3.1 avilizitionçš„ä½“éªŒ</h3><p>è¿™ä¸ªé¡¹ç›®æ›´å‡†ç¡®åœ°åº”è¯¥ç§°ä¸ºä¸€ä¸ªæ¨¡æ‹Ÿå¹³å°ã€‚å®ƒçš„æ ¸å¿ƒç†å¿µéå¸¸å¸å¼•äººï¼ˆä¹Ÿæ˜¯æˆ‘æ‰€å±•æœ›è¿½æ±‚çš„ï¼‰ï¼šæ¯ä¸ªæ™ºèƒ½ä½“éƒ½æœ‰ç‹¬ç«‹çš„è®°å¿†ã€äººé™…å…³ç³»å’Œæ—¥ç¨‹ï¼Œæ‰€æœ‰çš„å†³ç­–éƒ½å…·æœ‰è´è¶æ•ˆåº”ï¼Œnpcå¹¶èƒ½æ ¹æ®ä¸ç¯å¢ƒå’Œå½¼æ­¤çš„äº’åŠ¨æ¥åŠ¨æ€å†³ç­–ã€‚</p><p>æˆ‘çš„ä½“éªŒè¿‡ç¨‹å……æ»¡äº†æ–°å¥‡ä¸å›°æƒ‘ã€‚ä¸€å¼€å§‹ï¼Œæˆ‘å°±åƒè¿›å…¥äº†ä¸€ä¸ªä¸Šå¸è§†è§’çš„è§‚å¯Ÿè€…ï¼Œçœ‹ç€è¿™äº›åƒç´ å°äººåœ¨å°é•‡é‡Œæ´»åŠ¨ï¼Œä»–ä»¬ä¼šä¸Šç­ã€è´­ç‰©ã€èŠå¤©ã€ä¸¾åŠæ´»åŠ¨ã€‚æœ€è®©æˆ‘æ„Ÿåˆ°æƒŠè®¶çš„æ˜¯ï¼Œä»–ä»¬ä¹‹é—´çš„äº’åŠ¨ç¡®å®èƒ½äº§ç”Ÿä¸€äº›é¢„è®¾è„šæœ¬ä¹‹å¤–çš„æ•…äº‹ã€‚æ¯”å¦‚ï¼Œæˆ‘çœ‹åˆ°ä¸¤ä¸ªè§’è‰²å› ä¸ºåœ¨å’–å•¡é¦†çš„ä¸€æ¬¡èŠå¤©è€Œå†³å®šæ™šä¸Šä¸€èµ·å»é…’å§ï¼Œæˆ–è€…å› ä¸ºä¹‹å‰çš„æŸæ¬¡äº‰æ‰§è€Œåœ¨ä¸‹ä¸€æ¬¡è§é¢æ—¶æ˜¾å¾—å†·æ·¡ã€‚è¿™ç§åŸºäºè®°å¿†å’Œå…³ç³»é“¾äº§ç”Ÿçš„è¡Œä¸ºå˜åŒ–ï¼Œæ˜¯å®ƒæœ€æ ¸å¿ƒçš„äº®ç‚¹ï¼Œè®©ä½ æ„Ÿè§‰è¿™ä¸ªå°é•‡æ˜¯æ´»çš„ï¼Œæœ‰è‡ªå·±çš„æ—¶é—´æµã€‚</p><p>ä½†æ˜¯ï¼Œè¿™ç§æ–°é²œæ„Ÿè¤ªå»å¾—ä¹Ÿå¾ˆå¿«ã€‚é¦–å…ˆæ˜¯äº¤äº’çš„ä¹åŠ›æ„Ÿã€‚ä½œä¸ºç©å®¶ï¼Œæˆ‘èƒ½ä¸è¿™äº›AIè§’è‰²å¯¹è¯ï¼Œä½†å¯¹è¯å†…å®¹å¾€å¾€æµäºè¡¨é¢ï¼Œå¾ˆéš¾è¿›è¡Œæœ‰æ·±åº¦çš„ã€èƒ½å®è´¨æ€§æ”¹å˜ä»–ä»¬ç›®æ ‡æˆ–å…³ç³»çš„äº¤æµã€‚æ›´å¤šçš„æ—¶å€™ï¼Œæˆ‘æ„Ÿè§‰æˆ‘æ˜¯åœ¨è¯•å›¾å¼•å¯¼å¯¹è¯ï¼Œè€Œä¸æ˜¯åœ¨è¿›è¡Œæœ‰æ„ä¹‰çš„è§’è‰²æ‰®æ¼”ã€‚avilizitionç»™æˆ‘çš„æ„Ÿè§‰æ˜¯ï¼Œå®ƒæ˜¯ä¸€åº§é€šå¾€æœªæ¥æ¸¸æˆç†å¿µçš„æ¡¥æ¢è®¾è®¡å›¾ï¼Œä½†æˆ‘ä»¬è„šä¸‹çš„å»ºç­‘ææ–™è¿˜ä¸è¶³ä»¥æŠŠå®ƒæ‰å®åœ°å»ºé€ èµ·æ¥ã€‚å®ƒè¶³ä»¥è¯æ˜äº†AIä½œä¸ºæ¸¸æˆä¸–ç•Œåº•å±‚é€»è¾‘çš„å¯è¡Œæ€§ï¼Œä½†è¦æŠŠå®ƒå˜æˆä¸€æ¬¾å¥½ç©çš„æ¸¸æˆï¼Œè¿˜æœ‰å¾ˆé•¿çš„è·¯è¦èµ°ã€‚</p><h1 id="ä¸‰ã€æ€»ç»“"><a href="#ä¸‰ã€æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h1><p>ç»è¿‡è¿™äº›ä½“éªŒï¼Œæˆ‘è®¤ä¸ºç›®å‰AIåœ¨æ¸¸æˆä¸­çš„åº”ç”¨ï¼Œæ•´ä½“ä¸Šä»ç„¶å¤„äºâ€œé”¦ä¸Šæ·»èŠ±â€çš„é˜¶æ®µã€‚æ— è®ºæ˜¯æä¾›é™ªä¼´çš„çµå®ã€æˆ˜çŠ¬ï¼Œè¿˜æ˜¯èƒ½è‡ªç”±å¯¹è¯çš„NPCï¼Œå®ƒä»¬ç¡®å®å¸¦æ¥äº†æ–°é²œæ„Ÿå’Œæ›´å¥½çš„ä½“éªŒï¼Œåƒæ˜¯ç»™åŸæœ‰çš„è›‹ç³•è£±ä¸Šäº†æ›´ç²¾ç¾çš„èŠ±ã€‚ä½†å¦‚æœæˆ‘ä»¬æŠŠèŠ±æ‹¿èµ°ï¼Œè›‹ç³•æœ¬èº«å¹¶æ²¡æœ‰æ”¹å˜ã€‚å®ƒä»¬æ›´å¤šæ˜¯ä½“éªŒçš„ä¼˜åŒ–ä¸å†…å®¹çš„è¡¥å……ã€‚</p><p>ç„¶è€Œï¼Œä»ã€Šæ˜Ÿä¹‹ä½è¯­ã€‹ã€ã€ŠEVEã€‹è¿™ç±»çº¯ç²¹çš„AIäº¤äº’åº”ç”¨ï¼Œå°¤å…¶æ˜¯åƒavilizitionè¿™æ ·ä»¥AIä¸ºä¸–ç•ŒåŸºçŸ³çš„å°è¯•ä¸­ï¼Œæˆ‘ä»¬èƒ½çœ‹åˆ°ä¸€ç§æˆªç„¶ä¸åŒçš„å¯èƒ½æ€§ã€‚å®ƒä»¬ä¸å†æ»¡è¶³äºåšè›‹ç³•ä¸Šçš„ç‚¹ç¼€ï¼Œè€Œæ˜¯è¯•å›¾ç”¨AIè¿™ç§æ–°ææ–™ï¼Œä»å¤´çƒ¤åˆ¶ä¸€å—å…¨æ–°çš„ã€æˆ‘ä»¬ä»æœªå°è¿‡çš„ç‚¹å¿ƒã€‚è™½ç„¶ç›®å‰è¿™äº›å¯èƒ½è¿˜æœ‰äº›ç”Ÿæ¶©ï¼Œå½¢æ€ä¹Ÿä¸ç¨³å®šï¼Œä½†æ–¹å‘å·²ç»æŒ‡æ˜ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘çš„çœ‹æ³•æ˜¯ï¼šæœªæ¥ï¼ŒAIå®Œå…¨æœ‰å¯èƒ½æˆä¸ºæ„å»ºæ¸¸æˆé‡Œä¸å¯æ›¿ä»£çš„åŸºçŸ³ã€‚è¿™æ¡è·¯å¾ˆé•¿ï¼Œä½†èµ·ç‚¹å·²ç»åœ¨æˆ‘ä»¬è„šä¸‹ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;AI-x-gameä½“éªŒæŠ¥å‘Šâ€”â€”æ˜¯ä¸å¯æ›¿ä»£è¿˜æ˜¯é”¦ä¸Šæ·»èŠ±ï¼Ÿ&quot;&gt;&lt;a href=&quot;#AI-x-gameä½“éªŒæŠ¥å‘Šâ€”â€”æ˜¯ä¸å¯æ›¿ä»£è¿˜æ˜¯é”¦ä¸Šæ·»èŠ±ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;AI x gameä½“éªŒæŠ¥å‘Šâ€”â€”æ˜¯ä¸å¯æ›¿ä»£è¿˜æ˜¯é”¦ä¸Šæ·»èŠ±ï¼Ÿ&quot;&gt;&lt;/a&gt;AI x </summary>
      
    
    
    
    <category term="æ¸¸æˆ" scheme="https://yifei-huang-cos.github.io/categories/%E6%B8%B8%E6%88%8F/"/>
    
    
  </entry>
  
  <entry>
    <title>åˆšä½“è¿åŠ¨çš„pythonè§£æ³•</title>
    <link href="https://yifei-huang-cos.github.io/posts/48befe4f/"/>
    <id>https://yifei-huang-cos.github.io/posts/48befe4f/</id>
    <published>2026-01-26T08:53:00.000Z</published>
    <updated>2026-01-27T00:40:45.463Z</updated>
    
    <content type="html"><![CDATA[<h1 id="è‡ªç”±è½¬åŠ¨æ†ä¸é“°é“¾å›ºå®šæ†å€¾å€’æ—¶é—´å¯¹æ¯”ç ”ç©¶"><a href="#è‡ªç”±è½¬åŠ¨æ†ä¸é“°é“¾å›ºå®šæ†å€¾å€’æ—¶é—´å¯¹æ¯”ç ”ç©¶" class="headerlink" title="è‡ªç”±è½¬åŠ¨æ†ä¸é“°é“¾å›ºå®šæ†å€¾å€’æ—¶é—´å¯¹æ¯”ç ”ç©¶"></a><strong>è‡ªç”±è½¬åŠ¨æ†ä¸é“°é“¾å›ºå®šæ†å€¾å€’æ—¶é—´å¯¹æ¯”ç ”ç©¶</strong></h1><h2 id="ä¸€ã€é—®é¢˜èƒŒæ™¯"><a href="#ä¸€ã€é—®é¢˜èƒŒæ™¯" class="headerlink" title="ä¸€ã€é—®é¢˜èƒŒæ™¯"></a>ä¸€ã€é—®é¢˜èƒŒæ™¯</h2><p>â€‹æŸpå¤§å‹äººä¸­åˆé—®äº†æˆ‘ä¸€ä¸ªé—®é¢˜</p><p>â€‹<img src="/../images/%E5%88%9A%E4%BD%93%E5%8A%A8%E5%8A%9B.png"></p><hr><p>æ›¾ç»è‡ªè¯©â€œé«˜ä¸­ç‰©ç†é¢†åŸŸç¥æ£â€çš„æˆ‘ä¹Ÿæ˜¯ä½“ä¼šäº†ä¸€æŠŠä¿®ä¸ºå°½å¤±çš„æ„Ÿè§‰â€¦â€¦.å¯æ¶ï¼Œè¿˜æ˜¯ï¼Œåšä¸åˆ°å—ã€‚ã€‚ã€‚</p><p>æ‰æ€ªï¼ç°åœ¨æˆ‘æœ‰äº†æ–°çš„æ­¦å™¨ï¼Œè§£æä¸äº†æˆ‘å°±æš´åŠ›æ•°å€¼è§£å˜»å˜»</p><h2 id="äºŒã€ç‰©ç†æ¨¡å‹"><a href="#äºŒã€ç‰©ç†æ¨¡å‹" class="headerlink" title="äºŒã€ç‰©ç†æ¨¡å‹"></a>äºŒã€ç‰©ç†æ¨¡å‹</h2><h3 id="2-1-è‡ªç”±æ†ï¼ˆå…‰æ»‘åœ°é¢ï¼‰"><a href="#2-1-è‡ªç”±æ†ï¼ˆå…‰æ»‘åœ°é¢ï¼‰" class="headerlink" title="2.1 è‡ªç”±æ†ï¼ˆå…‰æ»‘åœ°é¢ï¼‰"></a>2.1 è‡ªç”±æ†ï¼ˆå…‰æ»‘åœ°é¢ï¼‰</h3><ul><li><strong>çº¦æŸæ¡ä»¶</strong>ï¼šåº•ç«¯æ— æ°´å¹³çº¦æŸï¼Œè´¨å¿ƒæ°´å¹³æ–¹å‘åŠ¨é‡å®ˆæ’</li><li><strong>è¿åŠ¨ç‰¹ç‚¹</strong>ï¼šè´¨å¿ƒåŒæ—¶æœ‰å¹³åŠ¨å’Œè½¬åŠ¨</li><li><strong>èƒ½é‡æ–¹ç¨‹</strong>ï¼š$E &#x3D; \frac{1}{2}mv_c^2 + \frac{1}{2}I_c\omega^2 + mg\frac{L}{2}\cos\theta$</li></ul><h3 id="2-2-é“°é“¾æ†ï¼ˆå›ºå®šåº•ç«¯ï¼‰"><a href="#2-2-é“°é“¾æ†ï¼ˆå›ºå®šåº•ç«¯ï¼‰" class="headerlink" title="2.2 é“°é“¾æ†ï¼ˆå›ºå®šåº•ç«¯ï¼‰"></a>2.2 é“°é“¾æ†ï¼ˆå›ºå®šåº•ç«¯ï¼‰</h3><ul><li><strong>çº¦æŸæ¡ä»¶</strong>ï¼šåº•ç«¯ä½ç½®å›ºå®šï¼Œç»•è¯¥ç‚¹çº¯è½¬åŠ¨</li><li><strong>è¿åŠ¨ç‰¹ç‚¹</strong>ï¼šè´¨å¿ƒä½œåœ†å¼§è¿åŠ¨</li><li><strong>èƒ½é‡æ–¹ç¨‹</strong>ï¼š$E &#x3D; \frac{1}{2}I_o\omega^2 + mg\frac{L}{2}\cos\theta$</li></ul><hr><h2 id="ä¸‰ã€åŠ¨åŠ›å­¦æ–¹ç¨‹æ¨å¯¼"><a href="#ä¸‰ã€åŠ¨åŠ›å­¦æ–¹ç¨‹æ¨å¯¼" class="headerlink" title="ä¸‰ã€åŠ¨åŠ›å­¦æ–¹ç¨‹æ¨å¯¼"></a>ä¸‰ã€åŠ¨åŠ›å­¦æ–¹ç¨‹æ¨å¯¼</h2><h3 id="3-1-è‡ªç”±æ†çš„å€¾å€’æ—¶é—´"><a href="#3-1-è‡ªç”±æ†çš„å€¾å€’æ—¶é—´" class="headerlink" title="3.1 è‡ªç”±æ†çš„å€¾å€’æ—¶é—´"></a>3.1 è‡ªç”±æ†çš„å€¾å€’æ—¶é—´</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è‡ªç”±æ†çš„è§’é€Ÿåº¦å…¬å¼æ¨å¯¼</span></span><br><span class="line">Ï‰Â² = (4g/L) * (cosÎ¸â‚€ - cosÎ¸)</span><br></pre></td></tr></table></figure><h3 id="3-2-é“°é“¾æ†çš„å€¾å€’æ—¶é—´"><a href="#3-2-é“°é“¾æ†çš„å€¾å€’æ—¶é—´" class="headerlink" title="3.2 é“°é“¾æ†çš„å€¾å€’æ—¶é—´"></a>3.2 é“°é“¾æ†çš„å€¾å€’æ—¶é—´</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é“°é“¾æ†çš„è§’é€Ÿåº¦å…¬å¼æ¨å¯¼</span></span><br><span class="line">Ï‰Â² = (3g/L) * (cosÎ¸â‚€ - cosÎ¸)</span><br></pre></td></tr></table></figure><hr><h2 id="å››ã€æ•°å€¼è®¡ç®—æ–¹æ³•"><a href="#å››ã€æ•°å€¼è®¡ç®—æ–¹æ³•" class="headerlink" title="å››ã€æ•°å€¼è®¡ç®—æ–¹æ³•"></a>å››ã€æ•°å€¼è®¡ç®—æ–¹æ³•</h2><h3 id="4-1-æ—¶é—´ç§¯åˆ†å…¬å¼"><a href="#4-1-æ—¶é—´ç§¯åˆ†å…¬å¼" class="headerlink" title="4.1 æ—¶é—´ç§¯åˆ†å…¬å¼"></a>4.1 æ—¶é—´ç§¯åˆ†å…¬å¼</h3><p>å€¾å€’æ—¶é—´é€šè¿‡å¯¹è§’é€Ÿåº¦å€’æ•°ç§¯åˆ†å¾—åˆ°ï¼š<br>$$ t &#x3D; \int_{\theta_0}^{\pi&#x2F;2} \frac{1}{\omega(\theta)} d\theta $$</p><h3 id="4-2-æ•°å€¼å®ç°ä»£ç "><a href="#4-2-æ•°å€¼å®ç°ä»£ç " class="headerlink" title="4.2 æ•°å€¼å®ç°ä»£ç "></a>4.2 æ•°å€¼å®ç°ä»£ç </h3><h4 id="è‡ªç”±æ†è®¡ç®—ä»£ç "><a href="#è‡ªç”±æ†è®¡ç®—ä»£ç " class="headerlink" title="è‡ªç”±æ†è®¡ç®—ä»£ç "></a>è‡ªç”±æ†è®¡ç®—ä»£ç </h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">g = <span class="number">9.81</span></span><br><span class="line">L = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;è¯·è¾“å…¥æ†é•¿ L (ç±³): &quot;</span>))</span><br><span class="line">theta0_deg = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;è¯·è¾“å…¥åˆå§‹å€¾æ–œè§’åº¦ (0â€“90Â°, ç›¸å¯¹ç«–ç›´): &quot;</span>))</span><br><span class="line"></span><br><span class="line">theta0 = np.deg2rad(theta0_deg)</span><br><span class="line">theta_end = np.pi / <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">integrand</span>(<span class="params">theta</span>):</span><br><span class="line">    omega = np.sqrt((<span class="number">4</span> * g / L) * (np.cos(theta0) - np.cos(theta)))</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1.0</span> / omega</span><br><span class="line"></span><br><span class="line">thetas = np.linspace(theta0 + <span class="number">1e-6</span>, theta_end, <span class="number">200000</span>)</span><br><span class="line">t = np.trapezoid(integrand(thetas), thetas)</span><br></pre></td></tr></table></figure><h4 id="é“°é“¾æ†è®¡ç®—ä»£ç "><a href="#é“°é“¾æ†è®¡ç®—ä»£ç " class="headerlink" title="é“°é“¾æ†è®¡ç®—ä»£ç "></a>é“°é“¾æ†è®¡ç®—ä»£ç </h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">g = <span class="number">9.81</span></span><br><span class="line">L = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;è¯·è¾“å…¥æ†é•¿ L (ç±³): &quot;</span>))</span><br><span class="line">theta0_deg = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;è¯·è¾“å…¥åˆå§‹å€¾æ–œè§’åº¦ (0â€“90Â°, ç›¸å¯¹ç«–ç›´): &quot;</span>))</span><br><span class="line"></span><br><span class="line">theta0 = np.deg2rad(theta0_deg)</span><br><span class="line">theta_end = np.pi / <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">integrand</span>(<span class="params">theta</span>):</span><br><span class="line">    omega = np.sqrt((<span class="number">3</span> * g / L) * (np.cos(theta0) - np.cos(theta)))</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1.0</span> / omega</span><br><span class="line"></span><br><span class="line">thetas = np.linspace(theta0 + <span class="number">1e-6</span>, theta_end, <span class="number">200000</span>)</span><br><span class="line">t = np.trapezoid(integrand(thetas), thetas)</span><br></pre></td></tr></table></figure><hr><h2 id="äº”ã€æ¨¡æ‹Ÿç»“æœåˆ†æ"><a href="#äº”ã€æ¨¡æ‹Ÿç»“æœåˆ†æ" class="headerlink" title="äº”ã€æ¨¡æ‹Ÿç»“æœåˆ†æ"></a>äº”ã€æ¨¡æ‹Ÿç»“æœåˆ†æ</h2><h4 id="5-1-ä¸åŒåˆå§‹è§’åº¦å¯¹æ¯”ï¼ˆé»˜è®¤æ†é•¿1mï¼‰"><a href="#5-1-ä¸åŒåˆå§‹è§’åº¦å¯¹æ¯”ï¼ˆé»˜è®¤æ†é•¿1mï¼‰" class="headerlink" title="5.1 ä¸åŒåˆå§‹è§’åº¦å¯¹æ¯”ï¼ˆé»˜è®¤æ†é•¿1mï¼‰"></a>5.1 ä¸åŒåˆå§‹è§’åº¦å¯¹æ¯”ï¼ˆé»˜è®¤æ†é•¿1mï¼‰</h4><table><thead><tr><th>åˆå§‹è§’åº¦</th><th>è‡ªç”±æ†æ—¶é—´(s)</th><th>é“°é“¾æ†æ—¶é—´(s)</th><th>æ—¶é—´æ¯”(è‡ªç”±&#x2F;é“°é“¾)</th></tr></thead><tbody><tr><td>1Â°</td><td>1.1837</td><td>1.3668</td><td>æƒ³ç®—çš„è‡ªå·±ç®—</td></tr><tr><td>10Â°</td><td>0.6648</td><td>0.7676</td><td></td></tr><tr><td>30Â°</td><td>0.4163</td><td>0.4807</td><td>(â€”&gt; __  â€”&gt;)</td></tr><tr><td>45Â°</td><td>0.3201</td><td>0.3697</td><td></td></tr><tr><td>60Â°</td><td>0.2431</td><td>0.2807</td><td></td></tr><tr><td>80Â°</td><td>0.1338</td><td>0.1545</td><td></td></tr></tbody></table><h3 id="5-2-ä¸åŒæ†é•¿å¯¹æ¯”ï¼ˆé»˜è®¤å€¾æ–œ30Â°ï¼‰"><a href="#5-2-ä¸åŒæ†é•¿å¯¹æ¯”ï¼ˆé»˜è®¤å€¾æ–œ30Â°ï¼‰" class="headerlink" title="5.2 ä¸åŒæ†é•¿å¯¹æ¯”ï¼ˆé»˜è®¤å€¾æ–œ30Â°ï¼‰"></a>5.2 ä¸åŒæ†é•¿å¯¹æ¯”ï¼ˆé»˜è®¤å€¾æ–œ30Â°ï¼‰</h3><table><thead><tr><th>æ†é•¿(m)</th><th>è‡ªç”±æ†æ—¶é—´(s)</th><th>é“°é“¾æ†æ—¶é—´(s)</th><th>æ—¶é—´æ¯”</th></tr></thead><tbody><tr><td>0.5</td><td>0.2944</td><td>0.3399</td><td></td></tr><tr><td>1.0</td><td>0.4163</td><td>0.4807</td><td></td></tr><tr><td>2.0</td><td>0.5888</td><td>0.6799</td><td></td></tr><tr><td>5.0</td><td>0.9309</td><td>1.0750</td><td></td></tr></tbody></table><hr><h2 id="å…­ã€ç»“è®º"><a href="#å…­ã€ç»“è®º" class="headerlink" title="å…­ã€ç»“è®º"></a>å…­ã€ç»“è®º</h2><p>è‡ªç”±æ†ä¸‹è½æ›´å¿«ï¼</p><p>ä½†åŸå› æ˜¯ä»€ä¹ˆå‘¢</p><p>æœ‰æ²¡æœ‰èƒ½ç»™æˆ‘æ¨å¯¼è¿‡ç¨‹çš„QAQ</p><p>åœ¨çº¿ç­‰~</p><hr><h2 id="é™„å½•ï¼šè®ºAIç›®å‰ä¸ºä»€ä¹ˆä¸èƒ½å–ä»£äººç±»"><a href="#é™„å½•ï¼šè®ºAIç›®å‰ä¸ºä»€ä¹ˆä¸èƒ½å–ä»£äººç±»" class="headerlink" title="é™„å½•ï¼šè®ºAIç›®å‰ä¸ºä»€ä¹ˆä¸èƒ½å–ä»£äººç±»"></a>é™„å½•ï¼šè®ºAIç›®å‰ä¸ºä»€ä¹ˆä¸èƒ½å–ä»£äººç±»</h2><p>è¯·çœ‹vcr</p><p>1.ã€Šæœ‰å›ºå®šç‚¹ï¼Œå°è§’åº¦ï¼Ÿé‚£å°±æ˜¯ç®€è°è¿åŠ¨ï¼ã€‹â€”â€”â€”â€”æ¥è‡ªäº²çˆ±çš„deepseek</p><p><img src="/../images/deepseek%E4%BD%A0%E5%9C%A8%E5%B9%B2%E5%98%9B.jpg"></p><p>2.ã€Šä»€ä¹ˆæ˜¯ç‰©ç†ï¼Œæˆ‘å¬ä¸æ‡‚ï¼Œå€¾æ–œçš„æ†å­å°±æ˜¯ä¸ä¼šæ‰ä¸‹æ¥ï¼Œç‰›é¡¿è¯´å•¥æˆ‘ä¸ç®¡ã€‹ </p><p>â€”â€”â€”â€”GPT5 pluså¤§äººï¼\0&#x2F;</p><p><img src="/../images/gpt%E5%A4%A7%E4%BA%BA%E6%98%AF%E4%BD%95%E6%84%8F%E4%B8%BA.jpg"></p><hr><p>å»ºè®®åŠ å…¥aiç¬‘è¯å¤§å…¨~</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;è‡ªç”±è½¬åŠ¨æ†ä¸é“°é“¾å›ºå®šæ†å€¾å€’æ—¶é—´å¯¹æ¯”ç ”ç©¶&quot;&gt;&lt;a href=&quot;#è‡ªç”±è½¬åŠ¨æ†ä¸é“°é“¾å›ºå®šæ†å€¾å€’æ—¶é—´å¯¹æ¯”ç ”ç©¶&quot; class=&quot;headerlink&quot; title=&quot;è‡ªç”±è½¬åŠ¨æ†ä¸é“°é“¾å›ºå®šæ†å€¾å€’æ—¶é—´å¯¹æ¯”ç ”ç©¶&quot;&gt;&lt;/a&gt;&lt;strong&gt;è‡ªç”±è½¬åŠ¨æ†ä¸é“°é“¾å›ºå®šæ†å€¾å€’æ—¶é—´å¯¹æ¯”ç ”ç©¶&lt;/</summary>
      
    
    
    
    <category term="ç¼–ç¨‹" scheme="https://yifei-huang-cos.github.io/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>pythonç½‘ç»œç¼–ç¨‹--TCPç¯‡</title>
    <link href="https://yifei-huang-cos.github.io/posts/8d64c14e/"/>
    <id>https://yifei-huang-cos.github.io/posts/8d64c14e/</id>
    <published>2026-01-26T02:00:19.000Z</published>
    <updated>2026-01-26T02:57:14.745Z</updated>
    
    <content type="html"><![CDATA[<h1 id="TCPç½‘ç»œç¼–ç¨‹åˆæ­¥"><a href="#TCPç½‘ç»œç¼–ç¨‹åˆæ­¥" class="headerlink" title="TCPç½‘ç»œç¼–ç¨‹åˆæ­¥"></a>TCPç½‘ç»œç¼–ç¨‹åˆæ­¥</h1><p>åœ¨å­¦ä¹ å¹¶å‘ç¼–ç¨‹ä¹‹å‰ï¼Œå…ˆç†Ÿæ‚‰ä¸€ä¸ªå®¢æˆ·ç«¯ä¸ä¸€ä¸ªæœåŠ¡ç«¯</p><h2 id="TCPåè®®æ ¸å¿ƒæœºåˆ¶"><a href="#TCPåè®®æ ¸å¿ƒæœºåˆ¶" class="headerlink" title="TCPåè®®æ ¸å¿ƒæœºåˆ¶"></a>TCPåè®®æ ¸å¿ƒæœºåˆ¶</h2><p>TCPï¼ˆä¼ è¾“æ§åˆ¶åè®®ï¼‰é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œé€šè¿‡å››æ¬¡æŒ¥æ‰‹ç»ˆæ­¢è¿æ¥ï¼Œç¡®ä¿æ•°æ®ä¼ è¾“çš„å¯é æ€§ã€‚</p><h2 id="æœåŠ¡ç«¯å®ç°ä»£ç "><a href="#æœåŠ¡ç«¯å®ç°ä»£ç " class="headerlink" title="æœåŠ¡ç«¯å®ç°ä»£ç "></a>æœåŠ¡ç«¯å®ç°ä»£ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line">server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line"><span class="comment"># æœåŠ¡ç«¯çš„socket              IPV4           TCP</span></span><br><span class="line"><span class="comment"># è¿™ä¸ªåªè´Ÿè´£æ¥å—å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚</span></span><br><span class="line"></span><br><span class="line">server_socket.bind((<span class="string">&#x27;&#x27;</span>, <span class="number">8000</span>))</span><br><span class="line"><span class="comment"># å…è®¸æœ€å¤§çš„ç­‰å¾…ä¸ªæ•°</span></span><br><span class="line">server_socket.listen(<span class="number">128</span>)</span><br><span class="line"><span class="comment"># æ¥å—å®¢æˆ·ç«¯çš„è¿æ¥</span></span><br><span class="line">socket2, client_addr = server_socket.accept()</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    msg = socket2.recv(<span class="number">1024</span>).decode(<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> msg == <span class="string">&#x27;quit&#x27;</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;æ¥è‡ªå®¢æˆ·ç«¯IPï¼š<span class="subst">&#123;client_addr[<span class="number">0</span>]&#125;</span>,ç«¯å£å·<span class="subst">&#123;client_addr[<span class="number">1</span>]&#125;</span>:<span class="subst">&#123;msg&#125;</span>&#x27;</span>)</span><br><span class="line">    <span class="comment"># ç»™å®¢æˆ·ç«¯å‘é€èŠå¤©ä¿¡æ¯</span></span><br><span class="line">    send_msg = <span class="built_in">input</span>(<span class="string">&#x27;server&gt;&gt;&#x27;</span>)</span><br><span class="line">    socket2.send(send_msg.encode(<span class="string">&#x27;utf8&#x27;</span>))</span><br><span class="line"></span><br><span class="line">socket2.close()</span><br><span class="line">server_socket.close()</span><br></pre></td></tr></table></figure><h2 id="å®¢æˆ·ç«¯å®ç°ä»£ç "><a href="#å®¢æˆ·ç«¯å®ç°ä»£ç " class="headerlink" title="å®¢æˆ·ç«¯å®ç°ä»£ç "></a>å®¢æˆ·ç«¯å®ç°ä»£ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line">client_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">server_addr = (<span class="string">&#x27;192.168.100.199&#x27;</span>, <span class="number">8000</span>)</span><br><span class="line">client_socket.connect(server_addr)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    send_msg = <span class="built_in">input</span>(<span class="string">&#x27;client&gt;&gt;&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> send_msg == <span class="string">&#x27;quit&#x27;</span>:</span><br><span class="line">        client_socket.send(send_msg.encode(<span class="string">&#x27;utf8&#x27;</span>))</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    client_socket.send(send_msg.encode(<span class="string">&#x27;utf8&#x27;</span>))</span><br><span class="line">    msg = client_socket.recv(<span class="number">1024</span>).decode(<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;æ¥è‡ªæœåŠ¡ç«¯IPï¼š<span class="subst">&#123;server_addr[<span class="number">0</span>]&#125;</span>,ç«¯å£å·<span class="subst">&#123;server_addr[<span class="number">1</span>]&#125;</span>:<span class="subst">&#123;msg&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">client_socket.close()</span><br></pre></td></tr></table></figure><h2 id="TCPä¸‰æ¬¡æ¡æ‰‹è¯¦è§£"><a href="#TCPä¸‰æ¬¡æ¡æ‰‹è¯¦è§£" class="headerlink" title="TCPä¸‰æ¬¡æ¡æ‰‹è¯¦è§£"></a>TCPä¸‰æ¬¡æ¡æ‰‹è¯¦è§£</h2><p>ä¸‰æ¬¡æ¡æ‰‹æ˜¯TCPå»ºç«‹è¿æ¥çš„è¿‡ç¨‹ï¼Œç¡®ä¿åŒæ–¹éƒ½æœ‰å‘é€å’Œæ¥æ”¶èƒ½åŠ›ã€‚</p><h3 id="ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šSYN"><a href="#ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šSYN" class="headerlink" title="ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šSYN"></a>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šSYN</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å®¢æˆ·ç«¯ â†’ SYN=1, seq=x â†’ æœåŠ¡ç«¯</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯å‘é€SYNåŒ…ï¼Œseqä¸ºéšæœºæ•°xï¼Œè¿›å…¥SYN_SENTçŠ¶æ€ã€‚</p><h3 id="ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šSYN-ACK"><a href="#ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šSYN-ACK" class="headerlink" title="ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šSYN+ACK"></a>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šSYN+ACK</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å®¢æˆ·ç«¯ â† SYN=1, ACK=1, seq=y, ack=x+1 â† æœåŠ¡ç«¯</span><br></pre></td></tr></table></figure><p>æœåŠ¡ç«¯æ”¶åˆ°SYNï¼Œå‘é€SYN+ACKåŒ…ï¼š</p><ul><li>seqä¸ºéšæœºæ•°y</li><li>ackä¸ºx+1ï¼ˆç¡®è®¤æ”¶åˆ°å®¢æˆ·ç«¯çš„xï¼‰<br>æœåŠ¡ç«¯è¿›å…¥SYN_RCVDçŠ¶æ€ã€‚</li></ul><h3 id="ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šACK"><a href="#ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šACK" class="headerlink" title="ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šACK"></a>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šACK</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å®¢æˆ·ç«¯ â†’ ACK=1, seq=x+1, ack=y+1 â†’ æœåŠ¡ç«¯</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯å‘é€ACKåŒ…ï¼š</p><ul><li>seqä¸ºx+1</li><li>ackä¸ºy+1ï¼ˆç¡®è®¤æ”¶åˆ°æœåŠ¡ç«¯çš„yï¼‰<br>åŒæ–¹è¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œè¿æ¥å»ºç«‹ã€‚</li></ul><h3 id="ä»£ç ä¸­çš„ä¸‰æ¬¡æ¡æ‰‹"><a href="#ä»£ç ä¸­çš„ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ä»£ç ä¸­çš„ä¸‰æ¬¡æ¡æ‰‹"></a>ä»£ç ä¸­çš„ä¸‰æ¬¡æ¡æ‰‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®¢æˆ·ç«¯å‘èµ·è¿æ¥ï¼ˆç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼‰</span></span><br><span class="line">client_socket.connect(server_addr)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœåŠ¡ç«¯æ¥å—è¿æ¥ï¼ˆå®Œæˆä¸‰æ¬¡æ¡æ‰‹ï¼‰</span></span><br><span class="line">socket2, client_addr = server_socket.accept()</span><br></pre></td></tr></table></figure><h2 id="TCPå››æ¬¡æŒ¥æ‰‹è¯¦è§£"><a href="#TCPå››æ¬¡æŒ¥æ‰‹è¯¦è§£" class="headerlink" title="TCPå››æ¬¡æŒ¥æ‰‹è¯¦è§£"></a>TCPå››æ¬¡æŒ¥æ‰‹è¯¦è§£</h2><p>å››æ¬¡æŒ¥æ‰‹æ˜¯TCPæ–­å¼€è¿æ¥çš„è¿‡ç¨‹ï¼Œç¡®ä¿åŒæ–¹æ•°æ®éƒ½ä¼ è¾“å®Œæ¯•ã€‚</p><h3 id="ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼šFIN"><a href="#ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼šFIN" class="headerlink" title="ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼šFIN"></a>ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼šFIN</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å®¢æˆ·ç«¯ â†’ FIN=1, seq=u â†’ æœåŠ¡ç«¯</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯å‘é€FINåŒ…ï¼Œseqä¸ºuï¼Œè¿›å…¥FIN_WAIT_1çŠ¶æ€ã€‚</p><h3 id="ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼šACK"><a href="#ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼šACK" class="headerlink" title="ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼šACK"></a>ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼šACK</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å®¢æˆ·ç«¯ â† ACK=1, seq=v, ack=u+1 â† æœåŠ¡ç«¯</span><br></pre></td></tr></table></figure><p>æœåŠ¡ç«¯å‘é€ACKåŒ…ï¼š</p><ul><li>ackä¸ºu+1ï¼ˆç¡®è®¤æ”¶åˆ°å®¢æˆ·ç«¯çš„FINï¼‰<br>æœåŠ¡ç«¯è¿›å…¥CLOSE_WAITçŠ¶æ€ï¼Œå®¢æˆ·ç«¯è¿›å…¥FIN_WAIT_2çŠ¶æ€ã€‚</li></ul><h3 id="ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼šFIN"><a href="#ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼šFIN" class="headerlink" title="ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼šFIN"></a>ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼šFIN</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å®¢æˆ·ç«¯ â† FIN=1, ACK=1, seq=w, ack=u+1 â† æœåŠ¡ç«¯</span><br></pre></td></tr></table></figure><p>æœåŠ¡ç«¯å‘é€FIN+ACKåŒ…ï¼Œè¿›å…¥LAST_ACKçŠ¶æ€ã€‚</p><h3 id="ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼šACK"><a href="#ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼šACK" class="headerlink" title="ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼šACK"></a>ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼šACK</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å®¢æˆ·ç«¯ â†’ ACK=1, seq=u+1, ack=w+1 â†’ æœåŠ¡ç«¯</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯å‘é€ACKåŒ…ï¼Œè¿›å…¥TIME_WAITçŠ¶æ€ï¼ˆç­‰å¾…2MSLï¼‰ï¼ŒæœåŠ¡ç«¯å…³é—­è¿æ¥ã€‚</p><h3 id="ä»£ç ä¸­çš„å››æ¬¡æŒ¥æ‰‹"><a href="#ä»£ç ä¸­çš„å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="ä»£ç ä¸­çš„å››æ¬¡æŒ¥æ‰‹"></a>ä»£ç ä¸­çš„å››æ¬¡æŒ¥æ‰‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®¢æˆ·ç«¯å‘é€quitï¼ˆå‘èµ·ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼‰</span></span><br><span class="line">client_socket.send(<span class="string">&#x27;quit&#x27;</span>.encode(<span class="string">&#x27;utf8&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœåŠ¡ç«¯æ”¶åˆ°quitï¼ˆç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼‰</span></span><br><span class="line">msg = socket2.recv(<span class="number">1024</span>).decode(<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> msg == <span class="string">&#x27;quit&#x27;</span>:</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­å¥—æ¥å­—ï¼ˆå®ŒæˆæŒ¥æ‰‹è¿‡ç¨‹ï¼‰</span></span><br><span class="line">socket2.close()</span><br><span class="line">server_socket.close()</span><br><span class="line">client_socket.close()</span><br></pre></td></tr></table></figure><h2 id="TCPçŠ¶æ€è½¬æ¢"><a href="#TCPçŠ¶æ€è½¬æ¢" class="headerlink" title="TCPçŠ¶æ€è½¬æ¢"></a>TCPçŠ¶æ€è½¬æ¢</h2><h3 id="å»ºç«‹è¿æ¥çŠ¶æ€"><a href="#å»ºç«‹è¿æ¥çŠ¶æ€" class="headerlink" title="å»ºç«‹è¿æ¥çŠ¶æ€"></a>å»ºç«‹è¿æ¥çŠ¶æ€</h3><ol><li>CLOSEDï¼šåˆå§‹çŠ¶æ€</li><li>SYN_SENTï¼šå®¢æˆ·ç«¯å‘é€SYNå</li><li>LISTENï¼šæœåŠ¡ç«¯è°ƒç”¨listen()å</li><li>SYN_RCVDï¼šæœåŠ¡ç«¯æ”¶åˆ°SYNå</li><li>ESTABLISHEDï¼šè¿æ¥å»ºç«‹å®Œæˆ</li></ol><h3 id="æ–­å¼€è¿æ¥çŠ¶æ€"><a href="#æ–­å¼€è¿æ¥çŠ¶æ€" class="headerlink" title="æ–­å¼€è¿æ¥çŠ¶æ€"></a>æ–­å¼€è¿æ¥çŠ¶æ€</h3><ol><li>FIN_WAIT_1ï¼šå®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡æŒ¥æ‰‹</li><li>CLOSE_WAITï¼šæœåŠ¡ç«¯ç¬¬ä¸€æ¬¡æ”¶åˆ°FIN</li><li>FIN_WAIT_2ï¼šå®¢æˆ·ç«¯æ”¶åˆ°ACK</li><li>LAST_ACKï¼šæœåŠ¡ç«¯å‘é€FIN</li><li>TIME_WAITï¼šå®¢æˆ·ç«¯æœ€åç­‰å¾…</li><li>CLOSEDï¼šè¿æ¥å®Œå…¨å…³é—­</li></ol><h2 id="ä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ</h2><h3 id="é˜²æ­¢æ—§çš„é‡å¤è¿æ¥åˆå§‹åŒ–"><a href="#é˜²æ­¢æ—§çš„é‡å¤è¿æ¥åˆå§‹åŒ–" class="headerlink" title="é˜²æ­¢æ—§çš„é‡å¤è¿æ¥åˆå§‹åŒ–"></a>é˜²æ­¢æ—§çš„é‡å¤è¿æ¥åˆå§‹åŒ–</h3><ul><li>é¿å…ç½‘ç»œå»¶è¿Ÿå¯¼è‡´çš„æ—§è¿æ¥å¹²æ‰°æ–°è¿æ¥</li><li>ç¡®ä¿åŒæ–¹éƒ½çŸ¥é“å¯¹æ–¹å‡†å¤‡å¥½äº†</li></ul><h3 id="åŒæ­¥åºåˆ—å·"><a href="#åŒæ­¥åºåˆ—å·" class="headerlink" title="åŒæ­¥åºåˆ—å·"></a>åŒæ­¥åºåˆ—å·</h3><ul><li>äº¤æ¢åˆå§‹åºåˆ—å·ï¼ˆISNï¼‰</li><li>ç¡®ä¿æ•°æ®æŒ‰åºä¼ è¾“</li></ul><h3 id="ç¡®è®¤åŒæ–¹èƒ½åŠ›"><a href="#ç¡®è®¤åŒæ–¹èƒ½åŠ›" class="headerlink" title="ç¡®è®¤åŒæ–¹èƒ½åŠ›"></a>ç¡®è®¤åŒæ–¹èƒ½åŠ›</h3><ul><li>ç¡®è®¤åŒæ–¹éƒ½æœ‰å‘é€å’Œæ¥æ”¶èƒ½åŠ›</li><li>åå•†çª—å£å¤§å°ç­‰å‚æ•°</li></ul><h2 id="ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æŒ¥æ‰‹ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æŒ¥æ‰‹ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æŒ¥æ‰‹ï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æŒ¥æ‰‹ï¼Ÿ</h2><h3 id="åŠå…³é—­çŠ¶æ€"><a href="#åŠå…³é—­çŠ¶æ€" class="headerlink" title="åŠå…³é—­çŠ¶æ€"></a>åŠå…³é—­çŠ¶æ€</h3><ul><li>TCPæ˜¯å…¨åŒå·¥çš„ï¼Œå¯ä»¥å•å‘å…³é—­</li><li>æœåŠ¡ç«¯å¯èƒ½è¿˜æœ‰æ•°æ®è¦å‘é€</li></ul><h3 id="ç¡®ä¿æ•°æ®å®Œæ•´æ€§"><a href="#ç¡®ä¿æ•°æ®å®Œæ•´æ€§" class="headerlink" title="ç¡®ä¿æ•°æ®å®Œæ•´æ€§"></a>ç¡®ä¿æ•°æ®å®Œæ•´æ€§</h3><ul><li>ç­‰å¾…æ‰€æœ‰æ•°æ®éƒ½ä¼ è¾“å®Œæ¯•</li><li>ç¡®ä¿æ²¡æœ‰æ•°æ®ä¸¢å¤±</li></ul><h3 id="å¯é ç»ˆæ­¢"><a href="#å¯é ç»ˆæ­¢" class="headerlink" title="å¯é ç»ˆæ­¢"></a>å¯é ç»ˆæ­¢</h3><ul><li>åŒæ–¹éƒ½çŸ¥é“è¿æ¥è¦å…³é—­äº†</li><li>é˜²æ­¢æ•°æ®åŒ…åœ¨ç½‘ç»œä¸­â€è¿·è·¯â€</li></ul><h2 id="TIME-WAITçŠ¶æ€çš„ä½œç”¨"><a href="#TIME-WAITçŠ¶æ€çš„ä½œç”¨" class="headerlink" title="TIME_WAITçŠ¶æ€çš„ä½œç”¨"></a>TIME_WAITçŠ¶æ€çš„ä½œç”¨</h2><h3 id="ç­‰å¾…2MSLçš„åŸå› "><a href="#ç­‰å¾…2MSLçš„åŸå› " class="headerlink" title="ç­‰å¾…2MSLçš„åŸå› "></a>ç­‰å¾…2MSLçš„åŸå› </h3><ol><li><strong>ç¡®ä¿æœ€åä¸€ä¸ªACKåˆ°è¾¾</strong>ï¼šå¦‚æœæœåŠ¡ç«¯æ²¡æ”¶åˆ°ACKä¼šé‡å‘FIN</li><li><strong>è®©æ—§è¿æ¥çš„æ•°æ®åŒ…æ¶ˆå¤±</strong>ï¼šé˜²æ­¢å½±å“æ–°è¿æ¥</li><li><strong>MSLï¼ˆMaximum Segment Lifetimeï¼‰</strong>ï¼šæŠ¥æ–‡æœ€å¤§ç”Ÿå­˜æ—¶é—´</li></ol><h2 id="å®é™…ç¼–ç¨‹ä¸­çš„å½±å“"><a href="#å®é™…ç¼–ç¨‹ä¸­çš„å½±å“" class="headerlink" title="å®é™…ç¼–ç¨‹ä¸­çš„å½±å“"></a>å®é™…ç¼–ç¨‹ä¸­çš„å½±å“</h2><h3 id="è¿æ¥å»ºç«‹å¤±è´¥"><a href="#è¿æ¥å»ºç«‹å¤±è´¥" class="headerlink" title="è¿æ¥å»ºç«‹å¤±è´¥"></a>è¿æ¥å»ºç«‹å¤±è´¥</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    client_socket.connect(server_addr)</span><br><span class="line"><span class="keyword">except</span> ConnectionRefusedError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;è¿æ¥è¢«æ‹’ç»ï¼šæœåŠ¡ç«¯æœªå¯åŠ¨æˆ–ç«¯å£é”™è¯¯&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="ç«¯å£å¤ç”¨é—®é¢˜"><a href="#ç«¯å£å¤ç”¨é—®é¢˜" class="headerlink" title="ç«¯å£å¤ç”¨é—®é¢˜"></a>ç«¯å£å¤ç”¨é—®é¢˜</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é¿å…Address already in useé”™è¯¯</span></span><br><span class="line">server_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="number">1</span>)</span><br></pre></td></tr></table></figure><h3 id="å…³é—­"><a href="#å…³é—­" class="headerlink" title="å…³é—­"></a>å…³é—­</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŠå…³é—­ï¼šå…³é—­å‘é€ï¼Œä»å¯æ¥æ”¶</span></span><br><span class="line">client_socket.shutdown(socket.SHUT_WR)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç­‰å¾…å¯¹æ–¹å…³é—­</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    data = client_socket.recv(<span class="number">1024</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> data:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹å¯é è¿æ¥ï¼Œå››æ¬¡æŒ¥æ‰‹ä¼˜é›…ç»ˆæ­¢è¿æ¥ï¼Œè¿™æ˜¯TCPåè®®çš„æ ¸å¿ƒæœºåˆ¶ã€‚ç†è§£è¿™äº›è¿‡ç¨‹å¯¹äºè°ƒè¯•ç½‘ç»œé—®é¢˜å’Œç¼–å†™ç¨³å®šçš„ç½‘ç»œç¨‹åºéå¸¸é‡è¦ã€‚</p><hr><p><em>åœ¨ä»£ç ä¸­ï¼Œconnect()è§¦å‘ä¸‰æ¬¡æ¡æ‰‹ï¼Œclose()è§¦å‘å››æ¬¡æŒ¥æ‰‹ï¼Œè¿™äº›ç»†èŠ‚éƒ½ç”±æ“ä½œç³»ç»Ÿè‡ªåŠ¨å¤„ç†ã€‚</em></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;TCPç½‘ç»œç¼–ç¨‹åˆæ­¥&quot;&gt;&lt;a href=&quot;#TCPç½‘ç»œç¼–ç¨‹åˆæ­¥&quot; class=&quot;headerlink&quot; title=&quot;TCPç½‘ç»œç¼–ç¨‹åˆæ­¥&quot;&gt;&lt;/a&gt;TCPç½‘ç»œç¼–ç¨‹åˆæ­¥&lt;/h1&gt;&lt;p&gt;åœ¨å­¦ä¹ å¹¶å‘ç¼–ç¨‹ä¹‹å‰ï¼Œå…ˆç†Ÿæ‚‰ä¸€ä¸ªå®¢æˆ·ç«¯ä¸ä¸€ä¸ªæœåŠ¡ç«¯&lt;/p&gt;
&lt;h2 id=&quot;TCPåè®®</summary>
      
    
    
    
    <category term="ç¼–ç¨‹" scheme="https://yifei-huang-cos.github.io/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>UDPçš„ç®€æ˜“å®ç°</title>
    <link href="https://yifei-huang-cos.github.io/posts/35e240ca/"/>
    <id>https://yifei-huang-cos.github.io/posts/35e240ca/</id>
    <published>2026-01-23T01:00:06.000Z</published>
    <updated>2026-01-26T02:57:14.749Z</updated>
    
    <content type="html"><![CDATA[<h1 id="PYTHONç½‘ç»œç¼–ç¨‹â€”â€”UDPç¯‡"><a href="#PYTHONç½‘ç»œç¼–ç¨‹â€”â€”UDPç¯‡" class="headerlink" title="PYTHONç½‘ç»œç¼–ç¨‹â€”â€”UDPç¯‡"></a>PYTHONç½‘ç»œç¼–ç¨‹â€”â€”UDPç¯‡</h1><h2 id="ä¸€ã€UDPç®€ä»‹"><a href="#ä¸€ã€UDPç®€ä»‹" class="headerlink" title="ä¸€ã€UDPç®€ä»‹"></a>ä¸€ã€UDPç®€ä»‹</h2><h3 id="ä»€ä¹ˆæ˜¯UDPï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯UDPï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯UDPï¼Ÿ"></a>ä»€ä¹ˆæ˜¯UDPï¼Ÿ</h3><p>UDPï¼ˆç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰æ˜¯ä¸€ç§æ— è¿æ¥çš„ä¼ è¾“å±‚åè®®ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li>æ— éœ€å»ºç«‹è¿æ¥</li><li>ä¸å¯é ä¼ è¾“ï¼ˆå¯èƒ½ä¸¢åŒ…ï¼‰</li><li>ä¼ è¾“é€Ÿåº¦å¿«</li><li>é€‚åˆå®æ—¶æ€§è¦æ±‚é«˜çš„åœºæ™¯</li></ul><h3 id="åŸºæœ¬æµç¨‹å¯¹æ¯”"><a href="#åŸºæœ¬æµç¨‹å¯¹æ¯”" class="headerlink" title="åŸºæœ¬æµç¨‹å¯¹æ¯”"></a>åŸºæœ¬æµç¨‹å¯¹æ¯”</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TCPç¼–ç¨‹æµç¨‹ï¼šåˆ›å»ºsocket â†’ ç»‘å®š â†’ ç›‘å¬ â†’ æ¥å—è¿æ¥ â†’ æ”¶å‘æ•°æ® â†’ å…³é—­</span><br><span class="line">UDPç¼–ç¨‹æµç¨‹ï¼šåˆ›å»ºsocket â†’ ç»‘å®šï¼ˆæœåŠ¡ç«¯ï¼‰â†’ ç›´æ¥æ”¶å‘æ•°æ® â†’ å…³é—­</span><br></pre></td></tr></table></figure><h2 id="äºŒã€æœåŠ¡ç«¯ä»£ç è¯¦è§£"><a href="#äºŒã€æœåŠ¡ç«¯ä»£ç è¯¦è§£" class="headerlink" title="äºŒã€æœåŠ¡ç«¯ä»£ç è¯¦è§£"></a>äºŒã€æœåŠ¡ç«¯ä»£ç è¯¦è§£</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºäº†ä¸€ä¸ªUDPçš„socketå¯¹è±¡</span></span><br><span class="line">server_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)</span><br><span class="line"><span class="comment"># socket.AF_INET: ä½¿ç”¨IPv4åœ°å€æ—</span></span><br><span class="line"><span class="comment"># socket.SOCK_DGRAM: ä½¿ç”¨UDPåè®®ï¼ˆæ•°æ®æŠ¥å¥—æ¥å­—ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‰ä¸€ä¸ªæ˜¯æˆ‘çš„ipv4åœ°å€ï¼Œå¦‚æœç”¨127.0.0.1åˆ™æ˜¯åœ¨æœ¬åœ°</span></span><br><span class="line"><span class="comment"># å¦‚æœæ˜¯ç©ºå­—ç¬¦ï¼ŒæœåŠ¡ç«¯ç»‘å®šåˆ°æ‰€æœ‰çš„ipåœ°å€</span></span><br><span class="line">server_socket.bind((<span class="string">&#x27;192.168.100.199&#x27;</span>, <span class="number">6666</span>))</span><br><span class="line"><span class="comment"># bind()æ–¹æ³•å°†å¥—æ¥å­—ç»‘å®šåˆ°æŒ‡å®šåœ°å€å’Œç«¯å£</span></span><br><span class="line"><span class="comment"># &#x27;192.168.100.199&#x27;: ç»‘å®šåˆ°ç‰¹å®šå±€åŸŸç½‘IP</span></span><br><span class="line"><span class="comment"># å…¶ä»–é€‰æ‹©ï¼š</span></span><br><span class="line"><span class="comment">#   &#x27;127.0.0.1&#x27;: æœ¬åœ°å›ç¯ï¼Œåªèƒ½æœ¬æœºè®¿é—®</span></span><br><span class="line"><span class="comment">#   &#x27;0.0.0.0&#x27;: ç»‘å®šæ‰€æœ‰ç½‘ç»œæ¥å£</span></span><br><span class="line"><span class="comment">#   &#x27;&#x27;: åŒ&#x27;0.0.0.0&#x27;</span></span><br><span class="line"><span class="comment"># 6666: ç«¯å£å·ï¼ŒèŒƒå›´0-65535ï¼ˆ0-1023ä¸ºç³»ç»Ÿä¿ç•™ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="comment"># msgæ˜¯æ”¶åˆ°çš„æ•°æ®ï¼Œaddræ˜¯æºåœ°å€å’Œç«¯å£å·</span></span><br><span class="line">    msg, addr = server_socket.recvfrom(<span class="number">1024</span>)</span><br><span class="line">    <span class="comment"># recvfrom()æ˜¯é˜»å¡æ–¹æ³•ï¼Œä¼šä¸€ç›´ç­‰å¾…ç›´åˆ°æ”¶åˆ°æ•°æ®</span></span><br><span class="line">    <span class="comment"># 1024: ç¼“å†²åŒºå¤§å°ï¼Œå•ä½å­—èŠ‚</span></span><br><span class="line">    <span class="comment"># msg: æ¥æ”¶åˆ°çš„å­—èŠ‚æ•°æ®</span></span><br><span class="line">    <span class="comment"># addr: å…ƒç»„ (å®¢æˆ·ç«¯IP, å®¢æˆ·ç«¯ç«¯å£)</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> msg.decode(<span class="string">&#x27;utf8&#x27;</span>) == <span class="string">&#x27;quit&#x27;</span>:</span><br><span class="line">        <span class="keyword">break</span>  <span class="comment"># å¦‚æœå®¢æˆ·ç«¯å‘é€&#x27;quit&#x27;ï¼Œåˆ™é€€å‡ºå¾ªç¯</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;æ¥è‡ªIPï¼š<span class="subst">&#123;addr[<span class="number">0</span>]&#125;</span>,ç«¯å£å·ï¼š<span class="subst">&#123;addr[<span class="number">1</span>]&#125;</span>çš„æ¶ˆæ¯ï¼š<span class="subst">&#123;msg&#125;</span>&#x27;</span>)</span><br><span class="line">    <span class="comment"># æ˜¾ç¤ºæ¶ˆæ¯æ¥æºå’Œå†…å®¹</span></span><br><span class="line"></span><br><span class="line">    send_msg = <span class="built_in">input</span>(<span class="string">&#x27;æœåŠ¡ç«¯&gt;&gt;&#x27;</span>)</span><br><span class="line">    <span class="comment"># ç­‰å¾…ç”¨æˆ·è¾“å…¥å›å¤å†…å®¹</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ä¸èƒ½å‘é€å­—ç¬¦ä¸²ï¼Œåº”è¯¥æ˜¯å­—èŠ‚æ•°æ®</span></span><br><span class="line">    server_socket.sendto(send_msg.encode(<span class="string">&#x27;utf8&#x27;</span>), addr)</span><br><span class="line">    <span class="comment"># sendto()å‘é€æ•°æ®åˆ°æŒ‡å®šåœ°å€</span></span><br><span class="line">    <span class="comment"># encode(&#x27;utf8&#x27;): å°†å­—ç¬¦ä¸²è½¬ä¸ºå­—èŠ‚æ•°æ®</span></span><br><span class="line">    <span class="comment"># addr: ç›®æ ‡åœ°å€ï¼ˆè¿™é‡Œå‘å›ç»™åŸå®¢æˆ·ç«¯ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># close</span></span><br><span class="line">server_socket.close()</span><br><span class="line"><span class="comment"># å…³é—­å¥—æ¥å­—ï¼Œé‡Šæ”¾èµ„æº</span></span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€å®¢æˆ·ç«¯ä»£ç è¯¦è§£"><a href="#ä¸‰ã€å®¢æˆ·ç«¯ä»£ç è¯¦è§£" class="headerlink" title="ä¸‰ã€å®¢æˆ·ç«¯ä»£ç è¯¦è§£"></a>ä¸‰ã€å®¢æˆ·ç«¯ä»£ç è¯¦è§£</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºäº†ä¸€ä¸ªUDPçš„socketå¯¹è±¡</span></span><br><span class="line">client_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®¢æˆ·ç«¯socketä¸ç”¨bind</span></span><br><span class="line"><span class="comment"># å®¢æˆ·ç«¯é€šå¸¸ç”±ç³»ç»Ÿè‡ªåŠ¨åˆ†é…ç«¯å£å·</span></span><br><span class="line"><span class="comment"># å¦‚æœéœ€è¦ç»‘å®šç‰¹å®šç«¯å£ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨bind()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="comment"># send msg</span></span><br><span class="line">    send_msg = <span class="built_in">input</span>(<span class="string">&#x27;å®¢æˆ·ç«¯&gt;&gt;&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> send_msg == <span class="string">&#x27;quit&#x27;</span>:</span><br><span class="line">        <span class="keyword">break</span>  <span class="comment"># è¾“å…¥&#x27;quit&#x27;é€€å‡º</span></span><br><span class="line">    </span><br><span class="line">    client_socket.sendto(send_msg.encode(<span class="string">&#x27;utf8&#x27;</span>), (<span class="string">&#x27;192.168.100.199&#x27;</span>, <span class="number">6666</span>))</span><br><span class="line">    <span class="comment"># å‘é€æ•°æ®åˆ°æœåŠ¡å™¨</span></span><br><span class="line">    <span class="comment"># (&#x27;192.168.100.199&#x27;, 6666): æœåŠ¡å™¨åœ°å€å’Œç«¯å£</span></span><br><span class="line">    <span class="comment"># å¿…é¡»ä¸æœåŠ¡å™¨ç»‘å®šçš„åœ°å€ä¸€è‡´</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># receive msg</span></span><br><span class="line">    msg, addr = client_socket.recvfrom(<span class="number">1024</span>)</span><br><span class="line">    <span class="comment"># ç­‰å¾…æœåŠ¡å™¨å›å¤</span></span><br><span class="line">    <span class="comment"># æ³¨æ„ï¼šè¿™é‡Œä¼šé˜»å¡ï¼Œç›´åˆ°æ”¶åˆ°æœåŠ¡å™¨å“åº”</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;æ¥è‡ªæœåŠ¡ç«¯IPï¼š<span class="subst">&#123;addr[<span class="number">0</span>]&#125;</span>,ç«¯å£å·ï¼š<span class="subst">&#123;addr[<span class="number">1</span>]&#125;</span>çš„æ¶ˆæ¯ï¼š<span class="subst">&#123;msg&#125;</span>&#x27;</span>)</span><br><span class="line">    <span class="comment"># æ˜¾ç¤ºæœåŠ¡å™¨å›å¤</span></span><br><span class="line"></span><br><span class="line">client_socket.close()</span><br><span class="line"><span class="comment"># å…³é—­å®¢æˆ·ç«¯å¥—æ¥å­—</span></span><br></pre></td></tr></table></figure><h2 id="å››ã€å…³é”®çŸ¥è¯†ç‚¹"><a href="#å››ã€å…³é”®çŸ¥è¯†ç‚¹" class="headerlink" title="å››ã€å…³é”®çŸ¥è¯†ç‚¹"></a>å››ã€å…³é”®çŸ¥è¯†ç‚¹</h2><h3 id="1-UDPå¥—æ¥å­—åˆ›å»º"><a href="#1-UDPå¥—æ¥å­—åˆ›å»º" class="headerlink" title="1. UDPå¥—æ¥å­—åˆ›å»º"></a>1. UDPå¥—æ¥å­—åˆ›å»º</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socket.socket(socket.AF_INET, socket.SOCK_DGRAM)</span><br></pre></td></tr></table></figure><ul><li><code>AF_INET</code>: IPv4åœ°å€æ—</li><li><code>SOCK_DGRAM</code>: UDPæ•°æ®æŠ¥ç±»å‹</li></ul><h3 id="2-åœ°å€ç»‘å®š"><a href="#2-åœ°å€ç»‘å®š" class="headerlink" title="2. åœ°å€ç»‘å®š"></a>2. åœ°å€ç»‘å®š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æœåŠ¡ç«¯å¿…é¡»ç»‘å®šï¼Œå®¢æˆ·ç«¯å¯é€‰</span></span><br><span class="line">server_socket.bind((IPåœ°å€, ç«¯å£å·))</span><br></pre></td></tr></table></figure><h3 id="3-æ•°æ®æ”¶å‘"><a href="#3-æ•°æ®æ”¶å‘" class="headerlink" title="3. æ•°æ®æ”¶å‘"></a>3. æ•°æ®æ”¶å‘</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¥æ”¶æ•°æ®ï¼ˆè¿”å›æ•°æ®å’Œæ¥æºåœ°å€ï¼‰</span></span><br><span class="line">data, addr = socket.recvfrom(ç¼“å†²åŒºå¤§å°)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘é€æ•°æ®åˆ°æŒ‡å®šåœ°å€</span></span><br><span class="line">socket.sendto(å­—èŠ‚æ•°æ®, (ç›®æ ‡IP, ç›®æ ‡ç«¯å£))</span><br></pre></td></tr></table></figure><h3 id="4-ç¼–ç è½¬æ¢"><a href="#4-ç¼–ç è½¬æ¢" class="headerlink" title="4. ç¼–ç è½¬æ¢"></a>4. ç¼–ç è½¬æ¢</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‘é€ï¼šå­—ç¬¦ä¸² â†’ å­—èŠ‚</span></span><br><span class="line">send_msg.encode(<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¥æ”¶ï¼šå­—èŠ‚ â†’ å­—ç¬¦ä¸²</span></span><br><span class="line">msg.decode(<span class="string">&#x27;utf8&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="äº”ã€æ³¨æ„äº‹é¡¹"><a href="#äº”ã€æ³¨æ„äº‹é¡¹" class="headerlink" title="äº”ã€æ³¨æ„äº‹é¡¹"></a>äº”ã€æ³¨æ„äº‹é¡¹</h2><ol><li><p><strong>UDPæ˜¯æ— è¿æ¥çš„</strong></p><ul><li>æ¯æ¬¡å‘é€éƒ½è¦æŒ‡å®šç›®æ ‡åœ°å€</li><li>ä¸ä¿è¯æ•°æ®é¡ºåºå’Œå¯é æ€§</li></ul></li><li><p><strong>åœ°å€å’Œç«¯å£</strong></p><ul><li>æœåŠ¡ç«¯éœ€è¦å›ºå®šç«¯å£</li><li>å®¢æˆ·ç«¯ç«¯å£é€šå¸¸ç”±ç³»ç»Ÿåˆ†é…</li></ul></li><li><p><strong>æ•°æ®å¤§å°</strong></p><ul><li>UDPæ•°æ®åŒ…ä¸å®œè¿‡å¤§ï¼ˆé€šå¸¸&lt;1500å­—èŠ‚ï¼‰</li><li>é¿å…IPåˆ†ç‰‡ï¼Œæé«˜ä¼ è¾“æ•ˆç‡</li></ul></li><li><p><strong>é˜»å¡é—®é¢˜</strong></p><ul><li><code>recvfrom()</code>æ˜¯é˜»å¡è°ƒç”¨</li><li>ç¨‹åºä¼šç­‰å¾…ç›´åˆ°æ”¶åˆ°æ•°æ®</li></ul></li><li><p><strong>å¤šå®¢æˆ·ç«¯å¤„ç†</strong></p><ul><li>UDPæœåŠ¡ç«¯å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªå®¢æˆ·ç«¯</li><li>é€šè¿‡addråŒºåˆ†ä¸åŒå®¢æˆ·ç«¯</li></ul></li></ol><h2 id="å…­ã€å¸¸è§é—®é¢˜"><a href="#å…­ã€å¸¸è§é—®é¢˜" class="headerlink" title="å…­ã€å¸¸è§é—®é¢˜"></a>å…­ã€å¸¸è§é—®é¢˜</h2><h3 id="Q1-ä¸ºä»€ä¹ˆå®¢æˆ·ç«¯ä¸éœ€è¦bindï¼Ÿ"><a href="#Q1-ä¸ºä»€ä¹ˆå®¢æˆ·ç«¯ä¸éœ€è¦bindï¼Ÿ" class="headerlink" title="Q1: ä¸ºä»€ä¹ˆå®¢æˆ·ç«¯ä¸éœ€è¦bindï¼Ÿ"></a>Q1: ä¸ºä»€ä¹ˆå®¢æˆ·ç«¯ä¸éœ€è¦bindï¼Ÿ</h3><p>A: å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è°ƒç”¨sendto()æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªå¯ç”¨ç«¯å£ã€‚</p><h3 id="Q2-å¦‚æœæœåŠ¡å™¨æ²¡å¯åŠ¨ï¼Œå®¢æˆ·ç«¯ä¼šæ€æ ·ï¼Ÿ"><a href="#Q2-å¦‚æœæœåŠ¡å™¨æ²¡å¯åŠ¨ï¼Œå®¢æˆ·ç«¯ä¼šæ€æ ·ï¼Ÿ" class="headerlink" title="Q2: å¦‚æœæœåŠ¡å™¨æ²¡å¯åŠ¨ï¼Œå®¢æˆ·ç«¯ä¼šæ€æ ·ï¼Ÿ"></a>Q2: å¦‚æœæœåŠ¡å™¨æ²¡å¯åŠ¨ï¼Œå®¢æˆ·ç«¯ä¼šæ€æ ·ï¼Ÿ</h3><p>A: å®¢æˆ·ç«¯å‘é€çš„æ•°æ®ä¼šä¸¢å¤±ï¼Œrecvfrom()ä¼šä¸€ç›´ç­‰å¾…ï¼ˆé˜»å¡ï¼‰ã€‚</p><h3 id="Q3-å¦‚ä½•æµ‹è¯•æœ¬æœºé€šä¿¡ï¼Ÿ"><a href="#Q3-å¦‚ä½•æµ‹è¯•æœ¬æœºé€šä¿¡ï¼Ÿ" class="headerlink" title="Q3: å¦‚ä½•æµ‹è¯•æœ¬æœºé€šä¿¡ï¼Ÿ"></a>Q3: å¦‚ä½•æµ‹è¯•æœ¬æœºé€šä¿¡ï¼Ÿ</h3><p>A: æœåŠ¡ç«¯ç»‘å®š<code>127.0.0.1</code>ï¼Œå®¢æˆ·ç«¯è¿æ¥<code>127.0.0.1</code>ã€‚</p><h3 id="Q4-å¦‚ä½•è®©å…¶ä»–ç”µè„‘è¿æ¥ï¼Ÿ"><a href="#Q4-å¦‚ä½•è®©å…¶ä»–ç”µè„‘è¿æ¥ï¼Ÿ" class="headerlink" title="Q4: å¦‚ä½•è®©å…¶ä»–ç”µè„‘è¿æ¥ï¼Ÿ"></a>Q4: å¦‚ä½•è®©å…¶ä»–ç”µè„‘è¿æ¥ï¼Ÿ</h3><p>A: </p><ol><li>æœåŠ¡ç«¯ç»‘å®š<code>0.0.0.0</code>æˆ–å±€åŸŸç½‘IP</li><li>å…³é—­é˜²ç«å¢™æˆ–å¼€æ”¾å¯¹åº”ç«¯å£</li><li>å®¢æˆ·ç«¯ä½¿ç”¨æœåŠ¡å™¨å®é™…IPåœ°å€</li></ol><h2 id="ä¸ƒã€å®Œæ•´çš„UDPè¿˜éœ€è¦"><a href="#ä¸ƒã€å®Œæ•´çš„UDPè¿˜éœ€è¦" class="headerlink" title="ä¸ƒã€å®Œæ•´çš„UDPè¿˜éœ€è¦"></a>ä¸ƒã€å®Œæ•´çš„UDPè¿˜éœ€è¦</h2><ol><li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šæ·»åŠ try-exceptå¤„ç†ç½‘ç»œé”™è¯¯</li><li><strong>è¶…æ—¶è®¾ç½®</strong>ï¼šä½¿ç”¨settimeout()é¿å…æ°¸ä¹…é˜»å¡</li><li><strong>å¤šçº¿ç¨‹</strong>ï¼šåŒæ—¶å¤„ç†å¤šä¸ªå®¢æˆ·ç«¯è¯·æ±‚</li><li><strong>æ•°æ®éªŒè¯</strong>ï¼šæ·»åŠ ç®€å•çš„åè®®å¤´éªŒè¯æ•°æ®å®Œæ•´æ€§</li></ol><h2 id="å…«ã€æ€»ç»“"><a href="#å…«ã€æ€»ç»“" class="headerlink" title="å…«ã€æ€»ç»“"></a>å…«ã€æ€»ç»“</h2><p>â€‹      UDPç¼–ç¨‹çš„æ ¸å¿ƒæ¨¡å¼ï¼š</p><ul><li>æœåŠ¡ç«¯ï¼šåˆ›å»ºâ†’ç»‘å®šâ†’å¾ªç¯æ”¶å‘â†’å…³é—­</li><li>å®¢æˆ·ç«¯ï¼šåˆ›å»ºâ†’å¾ªç¯æ”¶å‘â†’å…³é—­</li></ul><p>è¿™ç§ç®€å•çš„è¯·æ±‚-å“åº”æ¨¡å¼æ˜¯UDPç¼–ç¨‹çš„åŸºç¡€ï¼Œç†è§£äº†è¿™ç§æ¨¡å¼åï¼Œå¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šæ„å»ºæ›´å¤æ‚çš„UDPåº”ç”¨ã€‚</p><hr><p><em>æ³¨ï¼šå®é™…ä½¿ç”¨æ—¶ï¼Œè¯·ç¡®ä¿æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„IPåœ°å€å’Œç«¯å£å·é…ç½®æ­£ç¡®ï¼Œé˜²ç«å¢™å·²å¼€æ”¾ç›¸åº”ç«¯å£ã€‚</em></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;PYTHONç½‘ç»œç¼–ç¨‹â€”â€”UDPç¯‡&quot;&gt;&lt;a href=&quot;#PYTHONç½‘ç»œç¼–ç¨‹â€”â€”UDPç¯‡&quot; class=&quot;headerlink&quot; title=&quot;PYTHONç½‘ç»œç¼–ç¨‹â€”â€”UDPç¯‡&quot;&gt;&lt;/a&gt;PYTHONç½‘ç»œç¼–ç¨‹â€”â€”UDPç¯‡&lt;/h1&gt;&lt;h2 id=&quot;ä¸€ã€UDPç®€ä»‹&quot;&gt;</summary>
      
    
    
    
    <category term="ç¼–ç¨‹" scheme="https://yifei-huang-cos.github.io/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•ç”¨hexoæ­å»ºä¸ªäººåšå®¢</title>
    <link href="https://yifei-huang-cos.github.io/posts/cd1cb590/"/>
    <id>https://yifei-huang-cos.github.io/posts/cd1cb590/</id>
    <published>2026-01-21T03:12:12.000Z</published>
    <updated>2026-01-26T02:57:14.752Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Hexo-åšå®¢æ­å»ºä¸é…ç½®æŒ‡å—"><a href="#Hexo-åšå®¢æ­å»ºä¸é…ç½®æŒ‡å—" class="headerlink" title="Hexo åšå®¢æ­å»ºä¸é…ç½®æŒ‡å—"></a>Hexo åšå®¢æ­å»ºä¸é…ç½®æŒ‡å—</h1><h2 id="ğŸ“–-ç®€ä»‹"><a href="#ğŸ“–-ç®€ä»‹" class="headerlink" title="ğŸ“– ç®€ä»‹"></a>ğŸ“– ç®€ä»‹</h2><p>Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„é™æ€åšå®¢æ¡†æ¶ã€‚å®ƒä½¿ç”¨ Markdownè§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…å³å¯ç”Ÿæˆé™æ€ç½‘é¡µã€‚æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å¿«é€Ÿæ­å»ºå¹¶é…ç½®ä¸€ä¸ª Hexo åšå®¢ã€‚</p><h2 id="ğŸš€-å¿«é€Ÿå¼€å§‹"><a href="#ğŸš€-å¿«é€Ÿå¼€å§‹" class="headerlink" title="ğŸš€ å¿«é€Ÿå¼€å§‹"></a>ğŸš€ å¿«é€Ÿå¼€å§‹</h2><h3 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h3><ol><li><p><strong>å®‰è£… Node.js</strong></p><ul><li>ç‰ˆæœ¬è¦æ±‚ï¼šNode.js 14.0 æˆ–ä»¥ä¸Šç‰ˆæœ¬</li><li>ä¸‹è½½åœ°å€ï¼š<a href="https://nodejs.org/">Node.js å®˜ç½‘</a></li></ul></li><li><p><strong>å®‰è£… Git</strong></p><ul><li>ä¸‹è½½åœ°å€ï¼š<a href="https://git-scm.com/">Git å®˜ç½‘</a></li></ul></li></ol><h3 id="å®‰è£…-Hexo"><a href="#å®‰è£…-Hexo" class="headerlink" title="å®‰è£… Hexo"></a>å®‰è£… Hexo</h3><p>æ‰“å¼€ç»ˆç«¯ï¼ˆå‘½ä»¤æç¤ºç¬¦ï¼‰å¹¶æ‰§è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><h3 id="åˆå§‹åŒ–åšå®¢"><a href="#åˆå§‹åŒ–åšå®¢" class="headerlink" title="åˆå§‹åŒ–åšå®¢"></a>åˆå§‹åŒ–åšå®¢</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init my-blog</span><br><span class="line"><span class="built_in">cd</span> my-blog</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><h3 id="æœ¬åœ°é¢„è§ˆ"><a href="#æœ¬åœ°é¢„è§ˆ" class="headerlink" title="æœ¬åœ°é¢„è§ˆ"></a>æœ¬åœ°é¢„è§ˆ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line"><span class="comment"># ç”Ÿæˆï¼š</span></span><br><span class="line">hexo g</span><br><span class="line"><span class="comment"># é¢„è§ˆï¼š ï¼ˆæµè§ˆå™¨è®¿é—® `http://localhost:4000` æŸ¥çœ‹æ•ˆæœï¼‰</span></span><br><span class="line">hexo s</span><br><span class="line"><span class="comment"># éƒ¨ç½²ï¼š</span></span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><h2 id="âš™ï¸-åŸºæœ¬é…ç½®"><a href="#âš™ï¸-åŸºæœ¬é…ç½®" class="headerlink" title="âš™ï¸ åŸºæœ¬é…ç½®"></a>âš™ï¸ åŸºæœ¬é…ç½®</h2><h3 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h3><p>åšå®¢çš„ä¸»è¦é…ç½®æ–‡ä»¶ä¸º <code>_config.yml</code>ï¼Œä½äºåšå®¢æ ¹ç›®å½•ä¸‹ã€‚</p><h3 id="å¸¸ç”¨é…ç½®é¡¹"><a href="#å¸¸ç”¨é…ç½®é¡¹" class="headerlink" title="å¸¸ç”¨é…ç½®é¡¹"></a>å¸¸ç”¨é…ç½®é¡¹</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç½‘ç«™ä¿¡æ¯</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">æˆ‘çš„åšå®¢</span>                    <span class="comment"># ç½‘ç«™æ ‡é¢˜</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">&#x27;&#x27;</span>                       <span class="comment"># ç½‘ç«™å‰¯æ ‡é¢˜</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&#x27;&#x27;</span>                    <span class="comment"># ç½‘ç«™æè¿°</span></span><br><span class="line"><span class="attr">keywords:</span>                         <span class="comment"># ç½‘ç«™å…³é”®è¯</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">ä½œè€…å</span>                     <span class="comment"># ä½œè€…åç§°</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span>                   <span class="comment"># è¯­è¨€</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&#x27;&#x27;</span>                      <span class="comment"># æ—¶åŒº</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL è®¾ç½®</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">http://yoursite.com</span>          <span class="comment"># ç½‘ç«™åœ°å€</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/</span>                           <span class="comment"># ç½‘ç«™æ ¹ç›®å½•</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:title/</span>  <span class="comment"># æ–‡ç« æ°¸ä¹…é“¾æ¥æ ¼å¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›®å½•è®¾ç½®</span></span><br><span class="line"><span class="attr">source_dir:</span> <span class="string">source</span>                <span class="comment"># èµ„æºæ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="attr">public_dir:</span> <span class="string">public</span>                <span class="comment"># é™æ€æ–‡ä»¶ç”Ÿæˆç›®å½•</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å†™ä½œè®¾ç½®</span></span><br><span class="line"><span class="attr">new_post_name:</span> <span class="string">:title.md</span>          <span class="comment"># æ–°æ–‡ç« æ–‡ä»¶åæ ¼å¼</span></span><br><span class="line"><span class="attr">default_layout:</span> <span class="string">post</span>              <span class="comment"># é»˜è®¤å¸ƒå±€</span></span><br></pre></td></tr></table></figure><h2 id="ğŸ¨-ä¸»é¢˜å®‰è£…ä¸é…ç½®"><a href="#ğŸ¨-ä¸»é¢˜å®‰è£…ä¸é…ç½®" class="headerlink" title="ğŸ¨ ä¸»é¢˜å®‰è£…ä¸é…ç½®"></a>ğŸ¨ ä¸»é¢˜å®‰è£…ä¸é…ç½®</h2><h3 id="å®‰è£…ä¸»é¢˜"><a href="#å®‰è£…ä¸»é¢˜" class="headerlink" title="å®‰è£…ä¸»é¢˜"></a>å®‰è£…ä¸»é¢˜</h3><p>ä»¥æˆ‘æ‰€ä½¿ç”¨çš„stellar ä¸»é¢˜ä¸ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> my-blog</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/stellar-theme/hexo-theme-syellar themes/stellar</span><br></pre></td></tr></table></figure><h3 id="å¯ç”¨ä¸»é¢˜"><a href="#å¯ç”¨ä¸»é¢˜" class="headerlink" title="å¯ç”¨ä¸»é¢˜"></a>å¯ç”¨ä¸»é¢˜</h3><p>ä¿®æ”¹ <code>_config.yml</code>ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">stellar</span></span><br></pre></td></tr></table></figure><h3 id="ä¸»é¢˜é…ç½®"><a href="#ä¸»é¢˜é…ç½®" class="headerlink" title="ä¸»é¢˜é…ç½®"></a>ä¸»é¢˜é…ç½®</h3><p>ä¸»é¢˜æœ‰è‡ªå·±çš„é…ç½®æ–‡ä»¶ <code>themes/stellar/_config.yml</code>ï¼Œå¯è¿›è¡Œä¸ªæ€§åŒ–è®¾ç½®ã€‚</p><h2 id="ğŸ“-å†™ä½œä¸å‘å¸ƒ"><a href="#ğŸ“-å†™ä½œä¸å‘å¸ƒ" class="headerlink" title="ğŸ“ å†™ä½œä¸å‘å¸ƒ"></a>ğŸ“ å†™ä½œä¸å‘å¸ƒ</h2><h3 id="åˆ›å»ºæ–°æ–‡ç« "><a href="#åˆ›å»ºæ–°æ–‡ç« " class="headerlink" title="åˆ›å»ºæ–°æ–‡ç« "></a>åˆ›å»ºæ–°æ–‡ç« </h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="string">&quot;æ–‡ç« æ ‡é¢˜&quot;</span></span><br></pre></td></tr></table></figure><p>æ–‡ç« æ–‡ä»¶ä½äº <code>source/_posts/æ–‡ç« æ ‡é¢˜.md</code></p><h3 id="æ–‡ç« -Front-matter"><a href="#æ–‡ç« -Front-matter" class="headerlink" title="æ–‡ç«  Front-matter"></a>æ–‡ç«  Front-matter</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: æ–‡ç« æ ‡é¢˜</span><br><span class="line">date: 2024-05-20 10:00:00</span><br><span class="line">tags: [æ ‡ç­¾1, æ ‡ç­¾2]</span><br><span class="line"><span class="section">categories: åˆ†ç±»å</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><ul><li><code>hexo new [layout] &lt;title&gt;</code> - æ–°å»ºæ–‡ç« </li><li><code>hexo clean</code> - æ¸…é™¤ç¼“å­˜</li><li><code>hexo generate</code> æˆ– <code>hexo g</code> - ç”Ÿæˆé™æ€æ–‡ä»¶</li><li><code>hexo server</code> æˆ– <code>hexo s</code> - å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨</li><li><code>hexo deploy</code> æˆ– <code>hexo d</code> - éƒ¨ç½²åˆ°è¿œç¨‹ä»“åº“</li></ul><h2 id="ğŸŒ-éƒ¨ç½²åˆ°-GitHub-Pages"><a href="#ğŸŒ-éƒ¨ç½²åˆ°-GitHub-Pages" class="headerlink" title="ğŸŒ éƒ¨ç½²åˆ° GitHub Pages"></a>ğŸŒ éƒ¨ç½²åˆ° GitHub Pages</h2><h3 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h3><ol><li>åˆ›å»º GitHub ä»“åº“ï¼Œå‘½åä¸º <code>ç”¨æˆ·å.github.io</code></li><li>å®‰è£…éƒ¨ç½²æ’ä»¶ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><h3 id="é…ç½®éƒ¨ç½²"><a href="#é…ç½®éƒ¨ç½²" class="headerlink" title="é…ç½®éƒ¨ç½²"></a>é…ç½®éƒ¨ç½²</h3><p>ä¿®æ”¹ <code>_config.yml</code>ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://github.com/ç”¨æˆ·å/ç”¨æˆ·å.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure><h3 id="éƒ¨ç½²å‘½ä»¤"><a href="#éƒ¨ç½²å‘½ä»¤" class="headerlink" title="éƒ¨ç½²å‘½ä»¤"></a>éƒ¨ç½²å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><h2 id="ğŸ”§-å¸¸ç”¨æ’ä»¶"><a href="#ğŸ”§-å¸¸ç”¨æ’ä»¶" class="headerlink" title="ğŸ”§ å¸¸ç”¨æ’ä»¶"></a>ğŸ”§ å¸¸ç”¨æ’ä»¶</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># RSS è®¢é˜…</span></span><br><span class="line">npm install hexo-generator-feed --save</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç«™ç‚¹åœ°å›¾</span></span><br><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–‡ç« æœç´¢</span></span><br><span class="line">npm install hexo-generator-searchdb --save</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–‡ç« å­—æ•°ç»Ÿè®¡</span></span><br><span class="line">npm install hexo-wordcount --save</span><br></pre></td></tr></table></figure><h2 id="ğŸ’¡-å®ç”¨æŠ€å·§"><a href="#ğŸ’¡-å®ç”¨æŠ€å·§" class="headerlink" title="ğŸ’¡ å®ç”¨æŠ€å·§"></a>ğŸ’¡ å®ç”¨æŠ€å·§</h2><h3 id="è‡ªå®šä¹‰é¡µé¢"><a href="#è‡ªå®šä¹‰é¡µé¢" class="headerlink" title="è‡ªå®šä¹‰é¡µé¢"></a>è‡ªå®šä¹‰é¡µé¢</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page about</span><br></pre></td></tr></table></figure><h3 id="è‰ç¨¿åŠŸèƒ½"><a href="#è‰ç¨¿åŠŸèƒ½" class="headerlink" title="è‰ç¨¿åŠŸèƒ½"></a>è‰ç¨¿åŠŸèƒ½</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo new draft <span class="string">&quot;è‰ç¨¿æ ‡é¢˜&quot;</span></span><br><span class="line">hexo publish <span class="string">&quot;è‰ç¨¿æ ‡é¢˜&quot;</span></span><br></pre></td></tr></table></figure><h3 id="å›¾ç‰‡å¼•ç”¨"><a href="#å›¾ç‰‡å¼•ç”¨" class="headerlink" title="å›¾ç‰‡å¼•ç”¨"></a>å›¾ç‰‡å¼•ç”¨</h3><ol><li>å°†å›¾ç‰‡æ”¾å…¥ <code>source/images/</code> ç›®å½•</li><li>åœ¨æ–‡ç« ä¸­å¼•ç”¨ï¼š</li></ol><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">å›¾ç‰‡æè¿°</span>](<span class="link">/images/å›¾ç‰‡æ–‡ä»¶å.jpg</span>)</span><br></pre></td></tr></table></figure><h2 id="ğŸ› ï¸-æ•…éšœæ’é™¤"><a href="#ğŸ› ï¸-æ•…éšœæ’é™¤" class="headerlink" title="ğŸ› ï¸ æ•…éšœæ’é™¤"></a>ğŸ› ï¸ æ•…éšœæ’é™¤</h2><h3 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h3><ol><li><p><strong>éƒ¨ç½²å¤±è´¥</strong></p><ul><li>æ£€æŸ¥ Git é…ç½®</li><li>ç¡®è®¤ä»“åº“åœ°å€æ­£ç¡®</li><li>æ£€æŸ¥ç½‘ç»œè¿æ¥</li></ul></li><li><p><strong>é¡µé¢æ— æ³•åŠ è½½</strong></p><ul><li>è¿è¡Œ <code>hexo clean</code></li><li>é‡æ–°ç”Ÿæˆå’Œå¯åŠ¨æœåŠ¡å™¨</li></ul></li><li><p><strong>ä¸»é¢˜ä¸ç”Ÿæ•ˆ</strong></p><ul><li>ç¡®è®¤ä¸»é¢˜æ–‡ä»¶å¤¹åç§°æ­£ç¡®</li><li>æ£€æŸ¥ <code>_config.yml</code> ä¸­ theme é…ç½®</li></ul></li></ol><h2 id="ğŸ“š-å­¦ä¹ èµ„æº"><a href="#ğŸ“š-å­¦ä¹ èµ„æº" class="headerlink" title="ğŸ“š å­¦ä¹ èµ„æº"></a>ğŸ“š å­¦ä¹ èµ„æº</h2><ul><li><a href="https://hexo.io/zh-cn/docs/">Hexo å®˜æ–¹æ–‡æ¡£</a></li><li><a href="https://github.com/hexojs/hexo">Hexo GitHub</a></li><li><a href="https://theme-next.js.org/">Next ä¸»é¢˜æ–‡æ¡£</a></li></ul><hr><blockquote><p><strong>æç¤º</strong>ï¼šé…ç½®æ—¶å»ºè®®å¤‡ä»½åŸé…ç½®æ–‡ä»¶ï¼Œæ¯æ¬¡åªä¿®æ”¹å°‘é‡é…ç½®å¹¶æµ‹è¯•æ•ˆæœã€‚</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Hexo-åšå®¢æ­å»ºä¸é…ç½®æŒ‡å—&quot;&gt;&lt;a href=&quot;#Hexo-åšå®¢æ­å»ºä¸é…ç½®æŒ‡å—&quot; class=&quot;headerlink&quot; title=&quot;Hexo åšå®¢æ­å»ºä¸é…ç½®æŒ‡å—&quot;&gt;&lt;/a&gt;Hexo åšå®¢æ­å»ºä¸é…ç½®æŒ‡å—&lt;/h1&gt;&lt;h2 id=&quot;ğŸ“–-ç®€ä»‹&quot;&gt;&lt;a href=&quot;#</summary>
      
    
    
    
    
  </entry>
  
</feed>
