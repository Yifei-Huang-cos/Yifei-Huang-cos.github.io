[{"title":"æœ¬åœ°éƒ¨ç½²embeddingæ¨¡å‹å’Œç®€å•åº”ç”¨","path":"/posts/e871c135/","content":"æœ¬åœ°éƒ¨ç½²æ–‡æœ¬åµŒå…¥æ¨¡å‹ï¼šä»Qwen3BGEåˆ°LangChainæ•´åˆå®è·µEmbeddingæ˜¯å¤§è¯­è¨€æ¨¡å‹åº”ç”¨çš„æ ¸å¿ƒåŸºç¡€èƒ½åŠ›ï¼Œæ— è®ºæ˜¯è¯­ä¹‰æ£€ç´¢ã€ç›¸ä¼¼åº¦è®¡ç®—è¿˜æ˜¯RAGåœºæ™¯ï¼Œéƒ½ç¦»ä¸å¼€é«˜è´¨é‡çš„æ–‡æœ¬å‘é‡ç”Ÿæˆã€‚æœ¬æ–‡ä»å®æˆ˜è§’åº¦ï¼Œè®²è§£å¦‚ä½•æœ¬åœ°éƒ¨ç½²ä¸»æµçš„ä¸­æ–‡åµŒå…¥æ¨¡å‹ï¼Œå¹¶æ•´åˆåˆ°LangChainç”Ÿæ€ä¸­ï¼ŒåŒæ—¶ç»“åˆå®é™…æ¡ˆä¾‹æ¼”ç¤ºæ–‡æœ¬å‘é‡åŒ–ä¸è¯­ä¹‰æ£€ç´¢çš„å®Œæ•´æµç¨‹ã€‚ ä¸€ã€ä¸ºä»€ä¹ˆé€‰æ‹©æœ¬åœ°éƒ¨ç½²åµŒå…¥æ¨¡å‹ï¼Ÿåœ¨å®é™…ä¸šåŠ¡ä¸­ï¼Œæœ¬åœ°éƒ¨ç½²åµŒå…¥æ¨¡å‹ç›¸æ¯”è°ƒç”¨ç¬¬ä¸‰æ–¹APIï¼ˆå¦‚OpenAI Embeddingsï¼‰æœ‰æ˜æ˜¾ä¼˜åŠ¿ï¼š æ•°æ®å®‰å…¨ï¼šæ–‡æœ¬æ•°æ®æ— éœ€å¯¹å¤–ä¼ è¾“ï¼Œé¿å…éšç§æ³„éœ²é£é™© æˆæœ¬å¯æ§ï¼šæ— æŒ‰é‡è®¡è´¹çš„APIè°ƒç”¨æˆæœ¬ï¼Œé€‚åˆå¤§è§„æ¨¡æ–‡æœ¬å¤„ç† ç¦»çº¿å¯ç”¨ï¼šæ— éœ€ä¾èµ–ç½‘ç»œï¼ŒæœåŠ¡ç¨³å®šæ€§æ›´é«˜ å®šåˆ¶åŒ–ï¼šå¯é’ˆå¯¹ä¸­æ–‡åœºæ™¯ä¼˜åŒ–ï¼Œé€‚é…ç‰¹å®šé¢†åŸŸæ•°æ® æœ¬æ–‡è®²è§£ä¸¤æ¬¾ä¸»æµä¸­æ–‡åµŒå…¥æ¨¡å‹çš„æœ¬åœ°éƒ¨ç½²ï¼š é€šä¹‰åƒé—®Qwen3åµŒå…¥æ¨¡å‹ï¼šé˜¿é‡Œå‡ºå“ï¼Œ1536ç»´å‘é‡ï¼Œä¸­æ–‡é€‚é…æ€§ä¼˜ç§€ BGE-large-zh-v1.5ï¼šæ™ºæºç ”ç©¶é™¢å‡ºå“ï¼Œ1024ç»´å‘é‡ï¼Œè½»é‡åŒ–ä¸”ç²¾åº¦å‡è¡¡ äºŒã€ç¯å¢ƒå‡†å¤‡ä¸åŸºç¡€é…ç½®1. æ ¸å¿ƒä¾èµ–å®‰è£…# åŸºç¡€åµŒå…¥æ¨¡å‹ä¾èµ–pip install sentence-transformers transformers# LangChainç”Ÿæ€ï¼ˆé€‚é…ä¸åº”ç”¨ï¼‰pip install langchain langchain-core langchain-huggingface# æ•°æ®å¤„ç†ä¾èµ–pip install pandas numpy torch# æ¨¡å‹ä¸‹è½½ï¼ˆå¯é€‰ï¼ŒModelScopeï¼‰pip install modelscope 2. æ¨¡å‹è·¯å¾„é…ç½®å»ºè®®å°†æ¨¡å‹è·¯å¾„æŠ½ç¦»ä¸ºé…ç½®æ–‡ä»¶ï¼Œä¾¿äºç»Ÿä¸€ç®¡ç†ï¼š # env_utils.pyimport os# BGE-large-zh-v1.5 æœ¬åœ°è·¯å¾„LOCAL_MODEL_PATH_BGE = /path/to/your/bge-large-zh-v1.5# Qwen3 åµŒå…¥æ¨¡å‹æœ¬åœ°è·¯å¾„LOCAL_MODEL_PATH_QWEN3 = /path/to/your/qwen3-embedding# OpenAI APIé…ç½®ï¼ˆå¯é€‰ï¼Œå¯¹æ¯”æµ‹è¯•ç”¨ï¼‰OPENAI_API_KEY = your-api-keyOPENAI_BASE_URL = your-api-base-url ä¸‰ã€æ ¸å¿ƒæ¨¡å‹éƒ¨ç½²å®æˆ˜1. BGE-large-zh-v1.5 æœ¬åœ°éƒ¨ç½²BGEæ˜¯ä¸­æ–‡åœºæ™¯ä¸‹çš„ç»å…¸åµŒå…¥æ¨¡å‹ï¼Œè½»é‡åŒ–ä¸”æ•ˆæœä¼˜å¼‚ï¼š from langchain_huggingface import HuggingFaceEmbeddingsfrom env_utils import LOCAL_MODEL_PATH_BGEdef init_local_bge_embeddings(): åŠ è½½æœ¬åœ°BGE-large-zh-v1.5æ¨¡å‹ï¼Œé€‚é…LangChainæ¥å£ model_kwargs = device: cpu, trust_remote_code: True # å…³é”®å‚æ•°ï¼šBGEå¿…é¡»å¼€å¯å½’ä¸€åŒ–ï¼Œå¦åˆ™ç›¸ä¼¼åº¦è®¡ç®—åå·®å¤§ encode_kwargs = normalize_embeddings: True embeddings = HuggingFaceEmbeddings( model_name=LOCAL_MODEL_PATH_BGE, model_kwargs=model_kwargs, encode_kwargs=encode_kwargs, cache_folder=None # ç¦ç”¨HuggingFaceç¼“å­˜ï¼Œå¼ºåˆ¶ä½¿ç”¨æœ¬åœ° ) return embeddings# æµ‹è¯•éªŒè¯if __name__ == __main__: bge_embeddings = init_local_bge_embeddings() test_text = è¿™æ˜¯æµ‹è¯•æœ¬åœ°BGEå¤§æ¨¡å‹çš„ä¸­æ–‡å¥å­ embedding = bge_embeddings.embed_query(test_text) print(fæµ‹è¯•æ–‡æœ¬ï¼štest_text) print(fåµŒå…¥å‘é‡é•¿åº¦ï¼šlen(embedding)) # largeç‰ˆè¾“å‡º1024 print(få‘é‡å‰5ä¸ªå€¼ï¼šembedding[:5]) # éªŒè¯å½’ä¸€åŒ– import numpy as np norm = np.linalg.norm(embedding) print(få‘é‡æ¨¡é•¿ï¼šnorm:.6fï¼ˆåº”æ¥è¿‘1.0ï¼‰) å…³é”®æ³¨æ„ç‚¹ï¼šBGEæ¨¡å‹å¿…é¡»å¼€å¯normalize_embeddings=Trueï¼Œå¦åˆ™ç”Ÿæˆçš„å‘é‡æœªå½’ä¸€åŒ–ï¼Œä½™å¼¦ç›¸ä¼¼åº¦è®¡ç®—ç»“æœä¼šä¸¥é‡å¤±çœŸã€‚ 2. Qwen3 åµŒå…¥æ¨¡å‹éƒ¨ç½²ä¸LangChainæ•´åˆQwen3åµŒå…¥æ¨¡å‹ç»´åº¦æ›´é«˜ï¼ˆ1536ç»´ï¼‰ï¼Œä¸­æ–‡è¯­ä¹‰è¡¨è¾¾æ›´ç²¾å‡†ã€‚éœ€è‡ªå®šä¹‰ç±»é€‚é…LangChainçš„Embeddingsæ¥å£ï¼š import torchfrom langchain_core.embeddings import Embeddingsfrom sentence_transformers import SentenceTransformerfrom env_utils import LOCAL_MODEL_PATH_QWEN3class CustomQwen3Embeddings(Embeddings): è‡ªå®šä¹‰Qwen3åµŒå…¥æ¨¡å‹ç±»ï¼Œé€‚é…LangChainæ ‡å‡†æ¥å£ def __init__(self, device=cpu): self.model = SentenceTransformer( LOCAL_MODEL_PATH_QWEN3, model_kwargs= torch_dtype: torch.float32, trust_remote_code: True , tokenizer_kwargs= padding_side: left # Qwenå®˜æ–¹æ¨èé…ç½® ) def embed_query(self, text: str) - list[float]: å•æŸ¥è¯¢æ–‡æœ¬å‘é‡åŒ– return self.embed_documents([text])[0] def embed_documents(self, texts: list[str]) - list[list[float]]: å¤šæ–‡æ¡£æ‰¹é‡å‘é‡åŒ– return self.model.encode(texts).tolist()# æµ‹è¯•éªŒè¯if __name__ == __main__: qwen3 = CustomQwen3Embeddings() resp = qwen3.embed_documents([i love you, ä½ å¥½]) print(få•ä¸ªåµŒå…¥å‘é‡ç»´åº¦ï¼šlen(resp[0])) # Qwen3è¾“å‡º1536 é€‚é…è¯´æ˜ï¼šç»§æ‰¿LangChainçš„EmbeddingsæŠ½è±¡ç±»ï¼Œå®ç°embed_queryå’Œembed_documentsä¸¤ä¸ªæ ¸å¿ƒæ–¹æ³•ï¼Œå³å¯è®©Qwen3æ¨¡å‹æ— ç¼æ¥å…¥LangChainç”Ÿæ€ã€‚ 3. OpenAI Embeddings å¯¹æ¯”ï¼ˆå¯é€‰ï¼‰å¦‚éœ€å¯¹æ¯”ç¬¬ä¸‰æ–¹APIæ•ˆæœï¼Œå¯å‚è€ƒï¼š from langchain_openai import OpenAIEmbeddingsfrom env_utils import OPENAI_API_KEY, OPENAI_BASE_URLopenai_embedding = OpenAIEmbeddings( api_key=OPENAI_API_KEY, base_url=OPENAI_BASE_URL, model=text-embedding-3-large, dimensions=256,)resp = openai_embedding.embed_documents([I like studying LLM!, ä»Šå¤©å¤©æ°”å¾ˆå¥½])print(få‘é‡é•¿åº¦ï¼šlen(resp[0])) # è¾“å‡º256 å››ã€å®æˆ˜æ¡ˆä¾‹ï¼šç¾é£Ÿè¯„è®ºè¯­ä¹‰æ£€ç´¢åŸºäºæœ¬åœ°éƒ¨ç½²çš„BGEæ¨¡å‹ï¼Œå®ç°ç¾é£Ÿè¯„è®ºçš„è¯­ä¹‰æ£€ç´¢ï¼Œå®Œæ•´æµç¨‹åŒ…æ‹¬ï¼šæ–‡æœ¬å‘é‡åŒ–å­˜å‚¨ â†’ è¾“å…¥æŸ¥è¯¢å‘é‡ç”Ÿæˆ â†’ ä½™å¼¦ç›¸ä¼¼åº¦è®¡ç®— â†’ TopNç›¸ä¼¼ç»“æœè¿”å›ã€‚ 1. è¯„è®ºæ•°æ®å‘é‡åŒ–å¹¶ä¿å­˜import pandas as pdimport numpy as npfrom env_utils import LOCAL_MODEL_PATH_BGEfrom langchain_huggingface import HuggingFaceEmbeddings# åˆå§‹åŒ–BGEæ¨¡å‹model_kwargs = device: cpu, trust_remote_code: Trueencode_kwargs = normalize_embeddings: Truebge_embeddings = HuggingFaceEmbeddings( model_name=LOCAL_MODEL_PATH_BGE, model_kwargs=model_kwargs, encode_kwargs=encode_kwargs, cache_folder=None)def text_to_embedding(text): å•æ¡æ–‡æœ¬è½¬å‘é‡ return bge_embeddings.embed_documents([text])[0]def embedding_to_file(source_file, output_file): æ‰¹é‡å¤„ç†è¯„è®ºæ•°æ®å¹¶ä¿å­˜ df = pd.read_csv(source_file, index_col=0) df = df[[Time,ProductId,UserId,Summary,Text]] df[text_content] = Summary: + df.Summary.fillna().str.strip() + ; Text: + df.Text.fillna().str.strip() # æ‰¹é‡ç”ŸæˆåµŒå…¥å‘é‡ print(få¼€å§‹ç¼–ç  len(df) æ¡æ–‡æœ¬...) df[embedding] = df.text_content.apply(lambda x: text_to_embedding(x)) df.to_csv(output_file) print(få·²ä¿å­˜è‡³ output_file)if __name__ == __main__: embedding_to_file(data/fine_food_reviews_1k.csv, data/output_embedding.csv) 2. è¯­ä¹‰æ£€ç´¢å®ç°import astimport pandas as pdimport numpy as npdef cosine_similarity(a, b): ä½™å¼¦ç›¸ä¼¼åº¦è®¡ç®—ï¼ˆå‘é‡éœ€å½’ä¸€åŒ–ï¼‰ return np.dot(a, b)def search_text(input_text, embedding_file, top_n=3): æ ¹æ®è¾“å…¥æŸ¥è¯¢ï¼Œè¿”å›æœ€ç›¸ä¼¼çš„top_næ¡è¯„è®º df_data = pd.read_csv(embedding_file) # å­—ç¬¦ä¸²è½¬æ•°ç»„ df_data[embedding_vector] = df_data[embedding].apply(ast.literal_eval) # ç”ŸæˆæŸ¥è¯¢å‘é‡ input_vector = text_to_embedding(input_text) # è®¡ç®—ç›¸ä¼¼åº¦ df_data[similarity] = df_data.embedding_vector.apply( lambda x: cosine_similarity(input_vector, x) ) # è¿”å›TopNç»“æœ resp = ( df_data.sort_values(similarity, ascending=False) .head(top_n) .text_content .str.replace(Summary:, ) .str.replace(; Text:, ) ) # è¾“å‡ºç»“æœ print(fæŸ¥è¯¢ï¼šinput_text ) for idx, r in enumerate(resp, 1): print(fã€ç›¸ä¼¼ç»“æœidx ç›¸ä¼¼åº¦ï¼šdf_data.sort_values(similarity, ascending=False).iloc[idx-1].similarity:.4fã€‘) print(r[:200] + ... if len(r) 200 else r) print(- * 50)if __name__ == __main__: search_text(delicious beans, data/output_embedding.csv) 3. å¸¸è§é—®é¢˜ä¸æ’æŸ¥ ç°è±¡ å¯èƒ½åŸå›  è§£å†³æ–¹æ¡ˆ OOMå†…å­˜æº¢å‡º æ¨¡å‹é»˜è®¤åŠ è½½åˆ°GPU æ˜¾å¼è®¾ç½® device=cpu å‘é‡å…¨ä¸º0æˆ–æ¨¡é•¿â‰ 1 BGEæœªå¼€å¯å½’ä¸€åŒ– æ·»åŠ  normalize_embeddings=True æ¨¡å‹åŠ è½½ææ…¢ æ¯æ¬¡è¿è¡Œé‡æ–°ä¸‹è½½ ä½¿ç”¨æœ¬åœ°è·¯å¾„ï¼Œè®¾ç½® cache_folder=None Qwen3è¾“å‡ºNaN CPUç²¾åº¦é—®é¢˜ è®¾ç½® torch_dtype=torch.float32 trust_remote_codeæŠ¥é”™ å®‰å…¨ç­–ç•¥æ‹¦æˆª æ˜¾å¼è®¾ç½® trust_remote_code=True æ‰¹é‡ç¼–ç æ•ˆç‡ä½ å•æ¡å¾ªç¯ç¼–ç  ç›´æ¥ä¼ å…¥listï¼Œåˆ©ç”¨batchå¤„ç† äº”ã€æ ¸å¿ƒæ€»ç»“ä¸å®è·µå»ºè®®1. æ¨¡å‹é€‰å‹å»ºè®® åœºæ™¯ æ¨èæ¨¡å‹ ç»´åº¦ ä¼˜åŠ¿ è½»é‡åŒ–ã€é«˜åå BGE-large-zh-v1.5 1024 é€Ÿåº¦å¿«ï¼Œèµ„æºå ç”¨ä½ é«˜ç²¾åº¦ã€é•¿æ–‡æœ¬ Qwen3åµŒå…¥æ¨¡å‹ 1536 è¯­ä¹‰ç†è§£èƒ½åŠ›å¼º å¯¹æ¯”éªŒè¯ OpenAI Embeddings å¯å˜ åŸºå‡†æµ‹è¯•å‚è€ƒ 2. å…³é”®é…ç½®è¦ç‚¹ BGEæ¨¡å‹ï¼šå¿…é¡»å¼€å¯normalize_embeddings=True Qwen3æ¨¡å‹ï¼šè®¾ç½®padding_side=leftã€trust_remote_code=True CPUæ¨ç†ï¼šç²¾åº¦è®¾ä¸ºtorch.float32ï¼Œé¿å…NaN æ‰¹é‡å¤„ç†ï¼šä½¿ç”¨embed_documentsä¼ å…¥listï¼Œæå‡ååé‡ 3. åç»­æ‹“å±•æ–¹å‘ å‘é‡æ£€ç´¢åŠ é€Ÿï¼š10ä¸‡æ¡ä»¥ä¸Šå»ºè®®ä½¿ç”¨FAISSã€Chromaç­‰å‘é‡æ•°æ®åº“æ›¿ä»£å…¨è¡¨æ‰«æ RAGåº”ç”¨é›†æˆï¼šé€šè¿‡LangChainçš„VectorStoreæ¥å£å¯¹æ¥æœ¬åœ°çŸ¥è¯†åº“ æ¨¡å‹é‡åŒ–ï¼šINT8é‡åŒ–å¯é™ä½æ˜¾å­˜å ç”¨ï¼Œæå‡æ¨ç†é€Ÿåº¦ æŒ‡ä»¤å‰ç¼€ä¼˜åŒ–ï¼šæ£€ç´¢æ—¶åœ¨æŸ¥è¯¢å‰æ·»åŠ â€ä¸ºè¿™ä¸ªå¥å­ç”Ÿæˆè¡¨ç¤ºï¼šâ€ï¼Œå¯æå‡BGEæ•ˆæœ å…­ã€ç»“è¯­æœ¬æ–‡è¯¦ç»†è®²è§£äº†æœ¬åœ°éƒ¨ç½²Qwen3ã€BGEä¸¤æ¬¾ä¸­æ–‡åµŒå…¥æ¨¡å‹çš„æ–¹æ³•ï¼Œä»¥åŠå¦‚ä½•é€‚é…LangChainç”Ÿæ€ï¼Œå¹¶é€šè¿‡ç¾é£Ÿè¯„è®ºè¯­ä¹‰æ£€ç´¢æ¡ˆä¾‹ï¼Œå±•ç¤ºäº†æ–‡æœ¬åµŒå…¥çš„å®Œæ•´åº”ç”¨æµç¨‹ã€‚æœ¬åœ°éƒ¨ç½²åµŒå…¥æ¨¡å‹æ—¢èƒ½ä¿éšœæ•°æ®å®‰å…¨ï¼Œåˆèƒ½æœ‰æ•ˆæ§åˆ¶ä¸šåŠ¡æˆæœ¬ï¼Œæ˜¯ä¸­æ–‡å¤§æ¨¡å‹åº”ç”¨è½åœ°çš„é‡è¦åŸºç¡€èƒ½åŠ›ã€‚ ä»¥ä¸Šä»£ç å‡å·²é€šè¿‡å®é™…æµ‹è¯•ï¼Œå¯ç›´æ¥å¤åˆ¶ä½¿ç”¨ã€‚å¦‚é‡åˆ°ç¯å¢ƒå…¼å®¹æ€§é—®é¢˜ï¼Œå»ºè®®æ£€æŸ¥transformerså’Œsentence-transformersç‰ˆæœ¬ï¼Œæˆ–å‚è€ƒå„æ¨¡å‹å®˜æ–¹ä»“åº“çš„issueè§£å†³æ–¹æ¡ˆã€‚","categories":["ç¼–ç¨‹"]},{"title":"ä»0æ­å»ºå¤šæ¨¡æ€èŠå¤©æœºå™¨äºº","path":"/posts/50b3b349/","content":"ä»é›¶æ­å»ºå¤šæ¨¡æ€èŠå¤©æœºå™¨äººç›®æ ‡ï¼šæ„å»ºä¸€ä¸ªæ”¯æŒè¯­éŸ³ã€å›¾ç‰‡å’Œæ–‡å­—è¾“å…¥çš„èŠå¤©æœºå™¨äººï¼Œå…·å¤‡ç®€æ˜“Webå‰ç«¯å’Œä¸Šä¸‹æ–‡è®°å¿†åŠŸèƒ½ã€‚ ä¸€ã€ç¯å¢ƒå‡†å¤‡1. æ¨¡å‹é€‰æ‹©ä¸éƒ¨ç½²æˆ‘ä»¬é€‰æ‹©Qwen-2.5-Omni-3Bæ¨¡å‹ï¼Œè¿™æ˜¯ä¸€ä¸ªæ”¯æŒå¤šæ¨¡æ€è¾“å…¥çš„å¼€æºæ¨¡å‹ã€‚å¯ä»¥é€‰æ‹©ï¼š ç§æœ‰åŒ–éƒ¨ç½²ï¼šåªéœ€åœ¨ä¸€å¼ 4090æ˜¾å¡ï¼ˆ24Gæ˜¾å­˜ä»¥ä¸Šï¼‰ä¸Šéƒ¨ç½² APIè°ƒç”¨ï¼ˆé™„å½•æä¾›æ–¹æ³•ï¼‰ æ³¨æ„ï¼šå¦‚æœæ‚¨å·²ç†Ÿæ‚‰æ¨¡å‹éƒ¨ç½²ï¼Œå¯è·³è¿‡ä¸‹é¢ä¸€æ®µ 2. æœåŠ¡å™¨è¿æ¥ä¸é…ç½®æ–¹æ³•ä¸€ï¼šä½¿ç”¨PyCharm SSHè¿æ¥ æ‰“å¼€PyCharmï¼šè®¾ç½® â†’ Pythonè§£é‡Šå™¨ â†’ æ·»åŠ è§£é‡Šå™¨ â†’ åŸºäºSSH è¾“å…¥æœåŠ¡å™¨IPã€ç”¨æˆ·åå’Œå¯†é’¥æ–‡ä»¶ æ–¹æ³•äºŒï¼šç›´æ¥ä½¿ç”¨æœåŠ¡å™¨ç»ˆç«¯3. å®‰è£…ä¾èµ–åŒ…åœ¨æœåŠ¡å™¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š # æ ¸å¿ƒä¾èµ–pip install langchain langchain_openai langchain_community# æ¨¡å‹éƒ¨ç½²ä¸æ¨ç†pip install vllm vllm[audio]# æ¨¡å‹ä¸‹è½½pip install modelscope# å‰ç«¯ä¸å·¥å…·pip install gradio pillow pydub sqlalchemy 4. ä¸‹è½½æ¨¡å‹åˆ›å»º download_model.py æ–‡ä»¶ï¼š from modelscope import snapshot_downloadmodel_dir = snapshot_download(Qwen/Qwen2.5-Omni-3B)print(fæ¨¡å‹ä¸‹è½½å®Œæˆï¼Œä¿å­˜è‡³: model_dir) è¿è¡Œåç­‰å¾…çº¦10åˆ†é’Ÿå®Œæˆä¸‹è½½ã€‚ 5. å¯åŠ¨æ¨¡å‹æœåŠ¡python -m vllm.entrypoints.openai.api_server \\ --model /path/to/Qwen2.5-Omni-3B \\ # æ›¿æ¢ä¸ºæ‚¨çš„å®é™…è·¯å¾„ --served-model-name qwen2.5-omni-3b \\ --max-model-len 8192 \\ --host 0.0.0.0 \\ --port 6006 \\ --dtype auto \\ --gpu-memory-utilization 0.9 \\ --enable-auto-tool-choice éªŒè¯ï¼šè®¿é—® http://æœåŠ¡å™¨IP:6006/docs æŸ¥çœ‹APIæ–‡æ¡£ã€‚ äºŒã€é¡¹ç›®æ„å»º1. é¡¹ç›®ç»“æ„multi-modal-chatbot/â”œâ”€â”€ .env # ç¯å¢ƒå˜é‡â”œâ”€â”€ my_llm.py # æ¨¡å‹é…ç½®â”œâ”€â”€ utils.py # å·¥å…·å‡½æ•°â”œâ”€â”€ main.py # ä¸»ç¨‹åºâ”œâ”€â”€ requirements.txt # ä¾èµ–åˆ—è¡¨â””â”€â”€ chat_history.db # æ•°æ®åº“ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰ 2. ç¯å¢ƒé…ç½®ä¸ºä»£ç çš„å¥å…¨æ€§ï¼Œæˆ‘ä»¬ä¸åœ¨mainå‡½æ•°ä¸­è°ƒç”¨å¤§æ¨¡å‹ï¼Œè€Œæ˜¯æ”¾åœ¨my_llmæ–‡ä»¶é‡Œæ–¹ä¾¿ä¿®æ”¹ .env æ–‡ä»¶ï¼šLOCAL_BASE_URL=http://your-server-ip:6006/v1 my_llm.py - æ¨¡å‹é…ç½®ï¼šimport osfrom dotenv import load_dotenvfrom langchain_openai import ChatOpenAI# åŠ è½½ç¯å¢ƒå˜é‡load_dotenv()# é…ç½®å¤šæ¨¡æ€æ¨¡å‹multiModal_llm = ChatOpenAI( model=qwen2.5-omni-3b, api_key=os.getenv(OPENAI_API_KEY, xx), # æœ¬åœ°éƒ¨ç½²å¯ä¸ºä»»æ„å€¼ base_url=os.getenv(LOCAL_BASE_URL), temperature=0.7, max_tokens=2048,) 3. å·¥å…·å‡½æ•° (utils.py)è¿™é‡Œä¸»è¦è´Ÿè´£å°†éŸ³é¢‘å›¾ç‰‡æ–‡ä»¶è½¬åŒ–ä¸ºbase64æ ¼å¼ import base64import ioimport osimport tempfilefrom PIL import Imagefrom pydub import AudioSegmentdef image_to_base64(image_path: str) - dict: å°†å›¾ç‰‡è½¬æ¢ä¸ºBase64æ ¼å¼ try: with Image.open(image_path) as img: # ç»Ÿä¸€æ ¼å¼å¤„ç† if img.mode in (RGBA, LA): background = Image.new(RGB, img.size, (255, 255, 255)) background.paste(img, mask=img.split()[-1]) img = background buf = io.BytesIO() img.save(buf, format=JPEG, quality=85) b64 = base64.b64encode(buf.getvalue()).decode(utf-8) return type: image_url, image_url: url: fdata:image/jpeg;base64,b64, detail: low # å¯é€‰: low, high, auto except Exception as e: print(f[ERROR] å›¾ç‰‡å¤„ç†å¤±è´¥: e) return Nonedef audio_to_base64(audio_path: str) - dict: å°†éŸ³é¢‘è½¬æ¢ä¸ºBase64æ ¼å¼ try: # ç»Ÿä¸€è½¬æ¢ä¸ºWAVæ ¼å¼ audio = AudioSegment.from_file(audio_path) audio = audio.set_frame_rate(16000).set_channels(1) with tempfile.NamedTemporaryFile(suffix=.wav, delete=False) as tmp: audio.export(tmp.name, format=wav) tmp_path = tmp.name # è¯»å–å¹¶ç¼–ç  with open(tmp_path, rb) as f: b64 = base64.b64encode(f.read()).decode(utf-8) # æ¸…ç†ä¸´æ—¶æ–‡ä»¶ os.unlink(tmp_path) return type: audio_url, audio_url: url: fdata:audio/wav;base64,b64, duration: len(audio) / 1000 # ç§’ except Exception as e: print(f[ERROR] éŸ³é¢‘å¤„ç†å¤±è´¥: e) return None 4. ä¸»ç¨‹åº (main.py)import uuidimport gradio as grfrom sqlalchemy import create_enginefrom langchain_core.messages import HumanMessagefrom langchain_core.prompts import ChatPromptTemplate, MessagesPlaceholderfrom langchain_core.runnables import RunnableWithMessageHistoryfrom langchain_community.chat_message_histories import SQLChatMessageHistoryfrom my_llm import multiModal_llmfrom utils import image_to_base64, audio_to_base64# ========== 1. å¯¹è¯é“¾é…ç½® ==========prompt = ChatPromptTemplate.from_messages([ (system, ä½ æ˜¯ä¸€ä¸ªå¤šæ¨¡æ€AIåŠ©æ‰‹ï¼Œå¯ä»¥å¤„ç†æ–‡æœ¬ã€å›¾ç‰‡å’Œè¯­éŸ³è¾“å…¥ã€‚è¯·ç”¨ä¸­æ–‡å‹å¥½åœ°å›ç­”ç”¨æˆ·çš„é—®é¢˜ã€‚), MessagesPlaceholder(variable_name=messages), (system, å½“å‰å¯¹è¯å†å²:), MessagesPlaceholder(variable_name=history),])chain = prompt | multiModal_llm# ========== 2. è®°å¿†ç®¡ç† ==========def get_session_history(session_id: str): è·å–æˆ–åˆ›å»ºä¼šè¯å†å² engine = create_engine(sqlite:///chat_history.db) return SQLChatMessageHistory( session_id=session_id, connection=engine, table_name=chat_history )# åŒ…è£…å¯¹è¯é“¾chain_with_history = RunnableWithMessageHistory( chain, get_session_history, input_messages_key=messages, history_messages_key=history)# ç”Ÿæˆå”¯ä¸€ä¼šè¯IDsession_id = str(uuid.uuid4())# ========== 3. æ ¸å¿ƒå¤„ç†å‡½æ•° ==========def process_inputs(text: str, audio: str, image: str, chat_history: list): å¤„ç†ç”¨æˆ·è¾“å…¥å¹¶ç”Ÿæˆå“åº” # æ„å»ºå¤šæ¨¡æ€å†…å®¹ content = [] user_display = [] # å¤„ç†å›¾ç‰‡ if image: img_data = image_to_base64(image) if img_data: content.append(img_data) user_display.append([å›¾ç‰‡]) # å¤„ç†éŸ³é¢‘ if audio: audio_data = audio_to_base64(audio) if audio_data: content.append(audio_data) user_display.append([è¯­éŸ³]) # å¤„ç†æ–‡æœ¬ if text and text.strip(): content.append(type: text, text: text) user_display.append(text) # æ— æœ‰æ•ˆè¾“å…¥ if not content: chat_history.append((, è¯·è¾“å…¥æ–‡æœ¬ã€ä¸Šä¼ å›¾ç‰‡æˆ–å½•åˆ¶è¯­éŸ³ï¼)) return , None, None, chat_history # æ„å»ºç”¨æˆ·æ¶ˆæ¯ user_message = HumanMessage(content=content) display_text = .join(user_display) if user_display else [å¤šåª’ä½“å†…å®¹] try: # è°ƒç”¨æ¨¡å‹ response = chain_with_history.invoke( messages: [user_message], config=configurable: session_id: session_id ) # æ›´æ–°èŠå¤©å†å² chat_history.append((display_text, response.content)) except Exception as e: error_msg = fè¯·æ±‚å¤±è´¥: str(e) print(f[ERROR] error_msg) chat_history.append((display_text, error_msg)) # æ¸…ç©ºè¾“å…¥ return , None, None, chat_history# ========== 4. å‰ç«¯ç•Œé¢ ==========def create_interface(): åˆ›å»ºGradioç•Œé¢ with gr.Blocks( title=å¤šæ¨¡æ€èŠå¤©æœºå™¨äºº, theme=gr.themes.Soft(), css= .chatbot min-height: 500px; .input-row margin-top: 20px; ) as demo: gr.Markdown( # ğŸ¤– å¤šæ¨¡æ€èŠå¤©æœºå™¨äºº æ”¯æŒ**æ–‡å­—**ã€**å›¾ç‰‡**ã€**è¯­éŸ³**è¾“å…¥ | å…·å¤‡ä¸Šä¸‹æ–‡è®°å¿† ) # èŠå¤©çª—å£ chatbot = gr.Chatbot( label=å¯¹è¯å†å², height=500, bubble_full_width=False, show_copy_button=True ) # è¾“å…¥åŒºåŸŸ with gr.Row(variant=panel, elem_classes=input-row): text_input = gr.Textbox( placeholder=è¾“å…¥æ–‡å­—æ¶ˆæ¯..., label=æ–‡æœ¬è¾“å…¥, scale=4, container=False ) submit_btn = gr.Button(å‘é€, variant=primary, scale=1) # å¤šåª’ä½“è¾“å…¥ with gr.Row(): audio_input = gr.Audio( sources=[microphone], type=filepath, label=è¯­éŸ³è¾“å…¥, interactive=True ) image_input = gr.Image( type=filepath, label=å›¾ç‰‡ä¸Šä¼ , sources=[upload], interactive=True ) # ç»‘å®šäº‹ä»¶ submit_btn.click( fn=process_inputs, inputs=[text_input, audio_input, image_input, chatbot], outputs=[text_input, audio_input, image_input, chatbot], queue=True ) # å›è½¦é”®æäº¤ text_input.submit( fn=process_inputs, inputs=[text_input, audio_input, image_input, chatbot], outputs=[text_input, audio_input, image_input, chatbot], queue=True ) # æ¸…ç†æŒ‰é’® with gr.Row(): clear_btn = gr.Button(æ¸…ç©ºå¯¹è¯, variant=secondary) clear_btn.click( fn=lambda: ([], , None, None), outputs=[chatbot, text_input, audio_input, image_input], queue=False ) return demo# ========== 5. å¯åŠ¨åº”ç”¨ ==========if __name__ == __main__: demo = create_interface() demo.queue( max_size=20, default_concurrency_limit=5 ) demo.launch( server_name=0.0.0.0, server_port=7860, share=False, # è®¾ä¸ºTrueå¯ç”Ÿæˆå…¬ç½‘é“¾æ¥ show_error=True, debug=True ) ä¸‰ã€è¿è¡Œä¸æµ‹è¯•1. å¯åŠ¨åº”ç”¨python main.py 2. è®¿é—®åœ°å€ æœ¬åœ°: http://localhost:7860 å±€åŸŸç½‘: http://[æœåŠ¡å™¨IP]:7860 3. åŠŸèƒ½æµ‹è¯• âœ… æ–‡æœ¬å¯¹è¯ âœ… å›¾ç‰‡è¯†åˆ«ä¸æè¿° âœ… è¯­éŸ³è½¬æ–‡å­— âœ… ä¸Šä¸‹æ–‡è®°å¿† âœ… å¯¹è¯å†å²ä¿å­˜ å››ã€å¸¸è§é—®é¢˜Q1: æ˜¾å­˜ä¸è¶³ é™ä½ max_model_len å‚æ•° è®¾ç½® --gpu-memory-utilization 0.8 ä½¿ç”¨é‡åŒ–ç‰ˆæœ¬æ¨¡å‹ Q2: éŸ³é¢‘å¤„ç†å¤±è´¥ å®‰è£… ffmpeg: sudo apt install ffmpeg æ£€æŸ¥éŸ³é¢‘æ ¼å¼æ”¯æŒ Q3: å“åº”ç¼“æ…¢ è°ƒæ•´ max_tokens é™åˆ¶ ä½¿ç”¨ stream=True å¯ç”¨æµå¼è¾“å‡º å‡çº§æœåŠ¡å™¨é…ç½® é™„å½•ï¼šAPIè°ƒç”¨æ–¹æ¡ˆå¦‚æœä¸æ–¹ä¾¿éƒ¨ç½²ï¼Œå¯ä»¥ä½¿ç”¨é˜¿é‡Œäº‘ã€OpenAIç­‰APIæœåŠ¡ï¼š # é˜¿é‡Œäº‘é€šä¹‰åƒé—®from langchain_openai import ChatOpenAIllm = ChatOpenAI( model=qwen-max, base_url=https://dashscope.aliyuncs.com/compatible-mode/v1, api_key=your-api-key)# OpenAI GPT-4Vllm = ChatOpenAI( model=gpt-4-vision-preview, api_key=your-openai-key) æ€»ç»“æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†å¦‚ä½•ä»é›¶æ„å»ºä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„å¤šæ¨¡æ€èŠå¤©æœºå™¨äººã€‚é€šè¿‡ç§æœ‰åŒ–éƒ¨ç½²Qwen-2.5-Omniæ¨¡å‹ï¼Œç»“åˆLangChainå’ŒGradioï¼Œæˆ‘ä»¬å®ç°äº†ï¼š å¤šæ¨¡æ€æ”¯æŒï¼šæ–‡æœ¬ã€å›¾ç‰‡ã€è¯­éŸ³è¾“å…¥ ä¸Šä¸‹æ–‡è®°å¿†ï¼šSQLiteæŒä¹…åŒ–å­˜å‚¨ Webç•Œé¢ï¼šç›´è§‚çš„ç”¨æˆ·äº¤äº’ å¯æ‰©å±•æ¶æ„ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±• é¡¹ç›®ä»£ç å·²å¼€æºï¼Œå¯æ ¹æ®å®é™…éœ€æ±‚è¿›è¡Œè°ƒæ•´å’Œä¼˜åŒ–ã€‚æ¬¢è¿æ‚¨å®è´µçš„å»ºè®®~","categories":["ç¼–ç¨‹"]},{"title":"ç®€æ˜“AIäº”å­æ£‹ï¼ˆq-learningï¼‰","path":"/posts/37ac43b8/","content":"ç®€æ˜“äº”å­æ£‹AIå¯¹æˆ˜ç³»ç»Ÿï¼šQ-learningä¸ç›‘ç£å­¦ä¹ å…¨ç¨‹ä½¿ç”¨Pythonå®ç°ï¼Œä»£ç å¯ç›´æ¥è¿è¡Œã€‚ ä¸€ã€å‰è¨€åŸºäºå¼ºåŒ–å­¦ä¹ å’Œç›‘ç£å­¦ä¹ ï¼Œè®­ç»ƒäº”å­æ£‹å¯¹å¼ˆAI äºŒã€å‡†å¤‡æœ¬æ¬¡é¡¹ç›®æ‰€éœ€ä¾èµ–æå°‘ï¼Œæå‰é€šè¿‡pipå®‰è£…æ ¸å¿ƒä¾èµ–å³å¯ï¼Œæ— éœ€å¤æ‚çš„ç¯å¢ƒé…ç½®ï¼š pip install torch numpypip install tqdm` æ ¸å¿ƒä¾èµ–ï¼šPyTorchï¼ˆæ¨¡å‹è®­ç»ƒæ¨ç†ï¼‰ã€NumPyï¼ˆæ•°æ®å¤„ç†ä¸æ£‹ç›˜ç»´æŠ¤ï¼‰ï¼Œtqdm ç”¨äºè®­ç»ƒè¿‡ç¨‹è¿›åº¦æ¡å±•ç¤º ä¸‰ã€é¡¹ç›®æ•´ä½“æ¶æ„æ•´ä¸ªé¡¹ç›®åˆ†ä¸º3ä¸ªæ ¸å¿ƒæ–‡ä»¶ï¼Œä½è€¦åˆã€é«˜å†…èšï¼Œæ¯ä¸ªæ–‡ä»¶æ‰¿æ‹…æ˜ç¡®çš„èŒè´£ï¼Œæ–¹ä¾¿åç»­æ‰©å±•ä¸ä¿®æ”¹ï¼š gomoku_data.pyï¼šé«˜è´¨é‡è‡ªå¯¹å¼ˆæ ·æœ¬ç”Ÿæˆï¼Œä¸ºCNNæ¨¡å‹æä¾›â€å­¦ä¹ ç´ æâ€ï¼› train_model.pyï¼šCNNæ¨¡å‹å®šä¹‰ä¸è®­ç»ƒï¼Œç”Ÿæˆå¯ç”¨äºå¯¹å¼ˆçš„æ¨¡å‹æ–‡ä»¶ï¼› main.pyï¼šå¯è§†åŒ–å¯¹å¼ˆç•Œé¢ä¸AIæ ¸å¿ƒå†³ç­–ï¼Œå®ç°ç©å®¶ä¸AIçš„å®æ—¶å¯¹æˆ˜ã€‚ ä¸‰è€…çš„æ‰§è¡Œæµç¨‹ä¸ºï¼šç”Ÿæˆæ ·æœ¬ï¼ˆgomoku_data.pyï¼‰ â†’ è®­ç»ƒæ¨¡å‹ï¼ˆtrain_model.pyï¼‰ â†’ å¯åŠ¨å¯¹å¼ˆï¼ˆmain.pyï¼‰ å››ã€æ ¸å¿ƒæ€è·¯è®²è§£ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆé«˜è´¨é‡è‡ªå¯¹å¼ˆæ ·æœ¬æ ¸å¿ƒé€»è¾‘ å®ç°åŸºç¡€å·¥å…·ï¼šæ£‹ç›˜çŠ¶æ€ç®¡ç†ã€åˆæ³•è½å­æ ¡éªŒã€èƒœè´Ÿåˆ¤æ–­ã€è¿å­æ£€æµ‹ï¼ˆ345è¿ï¼‰ï¼› è®¾è®¡ä¼˜å…ˆçº§è½å­ç­–ç•¥ï¼šç›´æ¥èµ¢æ£‹ é˜»æŒ¡å¯¹æ‰‹èµ¢æ£‹ è‡ªå·±è¿4 é˜»æŒ¡å¯¹æ‰‹è¿4 è‡ªå·±è¿3 ç›¸é‚»ä½ç½® éšæœºè½å­ï¼Œç¡®ä¿ç”Ÿæˆçš„æ ·æœ¬å¸¦æœ‰æ˜ç¡®çš„æ”»é˜²é€»è¾‘ï¼› æ‰¹é‡ç”Ÿæˆå¯¹å±€ï¼šè¿è¡Œ2000å±€è‡ªå¯¹å¼ˆï¼Œè®°å½•æ¯ä¸€æ­¥çš„â€æ£‹ç›˜çŠ¶æ€ + è½å­ä½ç½®â€ï¼Œä¿å­˜ä¸ºnpzæ ¼å¼ï¼ˆæ–¹ä¾¿PyTorché«˜æ•ˆåŠ è½½ï¼‰ã€‚ å…³é”®äº®ç‚¹ æ ·æœ¬å¸¦æœ‰æ˜ç¡®çš„ç­–ç•¥æ€§ï¼Œé¿å…æ— æ„ä¹‰çš„éšæœºè½å­ï¼Œæå‡æ¨¡å‹è®­ç»ƒæ•ˆç‡ï¼› è‡ªåŠ¨è¿‡æ»¤æ— æ•ˆå¯¹å±€ï¼Œç¡®ä¿ç”Ÿæˆçš„æ ·æœ¬å…·å¤‡å¯ç”¨æ€§ï¼› è¾“å‡ºæ–‡ä»¶gomoku_train_data.npzåŒ…å«â€æ£‹ç›˜çŠ¶æ€æ•°ç»„â€å’Œâ€è½å­ç´¢å¼•æ•°ç»„â€ï¼Œç›´æ¥é€‚é…åç»­æ¨¡å‹è®­ç»ƒã€‚ ç¬¬äºŒæ­¥ï¼šè®­ç»ƒCNNäº”å­æ£‹è½å­é¢„æµ‹æ¨¡å‹æœ‰äº†æ ·æœ¬ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦è®­ç»ƒä¸€ä¸ªæ¨¡å‹ï¼Œè®©å®ƒä»æ ·æœ¬ä¸­å­¦ä¹ â€åœ¨æŸä¸ªæ£‹ç›˜çŠ¶æ€ä¸‹ï¼Œåº”è¯¥è½å­åœ¨å“ªé‡Œâ€ã€‚ æ ¸å¿ƒé€»è¾‘ å®šä¹‰è½»é‡çº§CNNæ¨¡å‹ï¼šè¾“å…¥ä¸º3é€šé“15x15æ£‹ç›˜ï¼ˆå¯¹åº”â€ç©å®¶æ£‹å­ã€AIæ£‹å­ã€ç©ºä½ç½®â€ï¼‰ï¼Œè¾“å‡ºä¸º225ä¸ªè½å­ä½ç½®çš„å¾—åˆ†ï¼ˆ15x15225ï¼‰ï¼› é‡‡ç”¨ä¸¤å±‚å·ç§¯å±‚æå–æ£‹ç›˜ç©ºé—´ç‰¹å¾ï¼Œé…åˆæ‰¹å½’ä¸€åŒ–æå‡è®­ç»ƒç¨³å®šæ€§ï¼› é‡‡ç”¨ä¸¤å±‚å…¨è¿æ¥å±‚ï¼Œå°†å·ç§¯ç‰¹å¾æ˜ å°„ä¸ºè½å­ä½ç½®å¾—åˆ†ï¼› æ¨¡å‹ç»“æ„ç®€æ´ï¼Œæ–°æ‰‹æ˜“ç†è§£ï¼Œè®­ç»ƒé€Ÿåº¦å¿«ï¼Œæ— éœ€é«˜ç«¯GPUã€‚ åŠ è½½è‡ªå¯¹å¼ˆæ ·æœ¬ï¼šå®ç°è‡ªå®šä¹‰GomokuDatasetç±»ï¼Œè§£ænpzæ–‡ä»¶ï¼Œè½¬æ¢ä¸ºPyTorchå¯å¤„ç†çš„å¼ é‡ï¼› æ¨¡å‹è®­ç»ƒé…ç½®ï¼šé‡‡ç”¨CrossEntropyLossæŸå¤±å‡½æ•°ï¼ˆé€‚é…åˆ†ç±»ä»»åŠ¡ï¼Œè½å­ä½ç½®å¯è§†ä¸º225åˆ†ç±»ï¼‰ã€Adamä¼˜åŒ–å™¨ï¼ˆæ”¶æ•›é€Ÿåº¦å¿«ï¼‰ã€å­¦ä¹ ç‡è°ƒåº¦å™¨ï¼ˆé˜²æ­¢è®­ç»ƒåæœŸéœ‡è¡ï¼‰ï¼› ä¿å­˜è®­ç»ƒæ¨¡å‹ï¼šè®­ç»ƒå®Œæˆåï¼Œä¿å­˜æ¨¡å‹å‚æ•°ä¸ºgomoku_model.pthï¼Œä¾›åç»­å¯¹å¼ˆç•Œé¢åŠ è½½ã€‚ å…³é”®äº®ç‚¹ æ¨¡å‹ç»“æ„ä¸åç»­å¯¹å¼ˆç•Œé¢çš„æ¨¡å‹å®šä¹‰å®Œå…¨ä¸€è‡´ï¼Œé¿å…åŠ è½½æ—¶å‡ºç°â€ç»“æ„ä¸åŒ¹é…â€é”™è¯¯ï¼› è®­ç»ƒè¿‡ç¨‹å¸¦æœ‰è¿›åº¦æ¡å±•ç¤ºï¼Œå®æ—¶è¾“å‡ºæŸå¤±å€¼ï¼Œæ–¹ä¾¿ç›‘æ§è®­ç»ƒæ•ˆæœï¼› æ”¯æŒCPUè®­ç»ƒï¼Œæ™®é€šç”µè„‘å³å¯å®Œæˆï¼Œé—¨æ§›ä½ã€‚ ç¬¬ä¸‰æ­¥ï¼šæ­å»ºå¯è§†åŒ–å¯¹å¼ˆç•Œé¢ä¸AIæ ¸å¿ƒå†³ç­–â€‹\tæˆ‘ä»¬é€šè¿‡Tkinteræ­å»ºå¯è§†åŒ–ç•Œé¢ï¼ŒåŒæ—¶å®ç° æ¨¡å‹é¢„æµ‹ä¸Q-Learningä¼˜åŒ–çš„AIå†³ç­–é€»è¾‘ã€‚ Part 1ï¼šå¯è§†åŒ–ç•Œé¢æ­å»º æ£‹ç›˜ç»˜åˆ¶ï¼šç»˜åˆ¶15x15æ ‡å‡†äº”å­æ£‹æ£‹ç›˜ï¼ŒåŒ…å«æ¨ªçº¿ã€ç«–çº¿ä¸æ˜Ÿä½ï¼ˆ3ã€7ã€11ä½ç½®ï¼‰ï¼Œè¿˜åŸçœŸå®äº”å­æ£‹åœºæ™¯ï¼› æ£‹å­ç»˜åˆ¶ï¼šåŒºåˆ†ç©å®¶é»‘æ£‹ä¸AIç™½æ£‹ï¼Œé€šè¿‡é¼ æ ‡ç‚¹å‡»äº‹ä»¶å®ç°ç©å®¶è½å­ï¼Œè‡ªåŠ¨æ ¡éªŒè½å­åˆæ³•æ€§ï¼ˆè¶Šç•Œã€é‡å¤è½å­ï¼‰ï¼› æ¸¸æˆæ§åˆ¶ï¼šå®ç°â€å¼€å§‹æ–°æ¸¸æˆâ€â€é‡ç½®æ£‹ç›˜â€æŒ‰é’®ï¼Œæ”¯æŒæ¸¸æˆçŠ¶æ€é‡ç½®ï¼› èƒœè´Ÿæç¤ºï¼šè½å­åè‡ªåŠ¨æ£€æµ‹æ¨ªã€ç«–ã€æ–œå››ä¸ªæ–¹å‘çš„äº”å­è¿ç ï¼Œå¼¹å‡ºæç¤ºæ¡†å‘ŠçŸ¥å¯¹å±€ç»“æœã€‚ Part 2ï¼šAIæ ¸å¿ƒå†³ç­–é€»è¾‘AIè½å­ä¼˜å…ˆçº§ä¸¥æ ¼éµå¾ªâ€å…ˆä¿å‘½ã€å†è·èƒœã€åå¸¸è§„â€ï¼Œå½»åº•é¿å…ä½çº§å¤±è¯¯ï¼Œå…·ä½“ä¼˜å…ˆçº§å¦‚ä¸‹ï¼š ä¼˜å…ˆè¡¥è‡ªå·±4è¿ï¼ˆè·èƒœï¼‰ï¼šå®æ—¶æ£€æµ‹è‡ªèº«çš„4è¿ä¼˜åŠ¿ï¼Œåªè¦æ£€æµ‹åˆ°ï¼Œç«‹å³è¡¥å­å½¢æˆ5è¿ï¼Œç›´æ¥è·èƒœ ä¼˜å…ˆå µå¯¹æ‰‹4è¿ï¼ˆä¿å‘½ï¼‰ï¼šå®æ—¶æ£€æµ‹å¯¹æ‰‹çš„4è¿å¨èƒï¼Œåªè¦æ£€æµ‹åˆ°ï¼Œç«‹å³è½å­å µå¡ï¼Œé˜²æ­¢å¯¹æ‰‹ä¸‹ä¸€æ­¥è·èƒœï¼› ä¼˜å…ˆå µå¯¹æ‰‹3è¿ï¼ˆé˜²å¨èƒï¼‰ï¼šæ£€æµ‹å¯¹æ‰‹çš„3è¿å¨èƒï¼Œå µå¡å…¶å½¢æˆ4è¿çš„å¯èƒ½ï¼Œéåˆ¶å¯¹æ‰‹è¿›æ”»ï¼› ä¼˜å…ˆè¡¥è‡ªå·±3è¿ï¼ˆé€ å¨èƒï¼‰ï¼šæ£€æµ‹è‡ªèº«çš„3è¿ä¼˜åŠ¿ï¼Œè¡¥å­å½¢æˆ4è¿ï¼Œç»™å¯¹æ‰‹æ–½åŠ é˜²å®ˆå‹åŠ›ï¼› æ¨¡å‹+Q-Learningé¢„æµ‹ï¼ˆå¸¸è§„å†³ç­–ï¼‰ï¼šæ— æ˜æ˜¾æ”»é˜²å¨èƒæ—¶ï¼ŒåŠ è½½è®­ç»ƒå¥½çš„CNNæ¨¡å‹è·å–è½å­å¾—åˆ†ï¼Œç»“åˆQ-Learningåœ¨çº¿ä¼˜åŒ–è½å­é€‰æ‹©ï¼Œæå‡å†³ç­–çµæ´»æ€§ï¼› éšæœºè½å­ï¼ˆæç«¯å…œåº•ï¼‰ï¼šæ— æ¨¡å‹æ–‡ä»¶æ—¶ï¼Œè‡ªåŠ¨é™çº§ä¸ºéšæœºè½å­ï¼Œä¸å½±å“æ¸¸æˆè¿è¡Œã€‚ å…³é”®äº®ç‚¹ é€šè¿‡check_opponent_threatï¼ˆæ£€æµ‹å¯¹æ‰‹å¨èƒï¼‰å’Œcheck_ai_advantageï¼ˆæ£€æµ‹è‡ªèº«ä¼˜åŠ¿ï¼‰ä¸¤ä¸ªæ–¹æ³•ï¼Œ100%è¯†åˆ«3è¿4è¿ï¼Œé¿å…æ¨¡å‹è®­ç»ƒä¸ç¡®å®šæ€§å¸¦æ¥çš„ä½çº§å¤±è¯¯ï¼› Q-Learningåœ¨çº¿ä¼˜åŒ–ï¼šé€šè¿‡Qè¡¨è®°å½•æ£‹ç›˜çŠ¶æ€ä¸è½å­ä»·å€¼ï¼Œåœ¨çº¿å¯¹å¼ˆè¿‡ç¨‹ä¸­ä¸æ–­æ›´æ–°Qå€¼ï¼Œæå‡AIçš„è‡ªé€‚åº”èƒ½åŠ›ï¼› å…¼å®¹æ€§å¼ºï¼šæ— gomoku_model.pthæ–‡ä»¶æ—¶ï¼ŒAIè‡ªåŠ¨é™çº§ä¸ºç¡¬ç¼–ç ç­–ç•¥è½å­ï¼Œä¾ç„¶å…·å¤‡æ”»é˜²èƒ½åŠ›ï¼Œä¸å½±å“å¯¹å¼ˆä½“éªŒï¼› äº”ã€é¡¹ç›®è¿è¡Œæ•ˆæœéªŒè¯ è¿è¡Œgomoku_data.pyï¼Œç”Ÿæˆgomoku_train_data.npzæ ·æœ¬æ–‡ä»¶ï¼› è¿è¡Œtrain_model.pyï¼Œè®­ç»ƒå®Œæˆåç”Ÿæˆgomoku_model.pthæ¨¡å‹æ–‡ä»¶ï¼› è¿è¡Œmain.pyï¼Œç‚¹å‡»â€å¼€å§‹æ–°æ¸¸æˆâ€ï¼Œå³å¯å¼€å§‹ä¸AIå¯¹å¼ˆï¼š ç©å®¶è½å­å½¢æˆ3è¿4è¿ï¼ŒAIä¼šç«‹å³å µå¡ï¼Œä¸ä¼šæ¼é˜²ï¼› AIå½¢æˆ3è¿4è¿åï¼Œä¼šä¼˜å…ˆè¡¥å­å†²5è·èƒœï¼Œä¸ä¼šæµªè´¹æœºä¼šï¼› æ— æ˜æ˜¾æ”»é˜²å¨èƒæ—¶ï¼ŒAIä¼šåŸºäºCNNæ¨¡å‹è½å­ï¼Œå…·å¤‡çµæ´»çš„å¸¸è§„ç­–ç•¥ã€‚ å…­ã€æ”¹é”™å†ç¨‹åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ï¼ŒAIçš„å†³ç­–é€»è¾‘ç»å†äº†ä¸‰æ¬¡æ ¸å¿ƒè¿­ä»£ï¼Œä»â€æ— ç­–ç•¥ä¹±è½å­â€é€æ­¥ä¼˜åŒ–ä¸ºâ€æ”»é˜²å…¼å¤‡ã€èƒ½æ”»å–„å®ˆâ€ï¼Œæ¯ä¸€æ¬¡æ”¹é”™éƒ½é’ˆå¯¹æ€§è§£å†³äº†å®é™…å¯¹å¼ˆä¸­çš„å…³é”®é—®é¢˜ï¼Œå…·ä½“å†ç¨‹å¦‚ä¸‹ï¼š 1. åˆå§‹é—®é¢˜ï¼šAIçº¯éšæœºè½å­ï¼Œå¼ºåŒ–å­¦ä¹ æ— æ•ˆé—®é¢˜è¡¨ç°é¡¹ç›®åˆæœŸï¼Œä»…å®ç°äº†Q-Learningå¼ºåŒ–å­¦ä¹ æ¡†æ¶å’ŒåŸºç¡€å¯è§†åŒ–ç•Œé¢ï¼ŒæœªåŠ å…¥ä»»ä½•ç­–ç•¥é€»è¾‘ï¼Œè¿è¡Œæ¸¸æˆåå‘ç°ï¼ŒAIè½å­å®Œå…¨éšæœºâ€”â€”æ— è®ºç©å®¶å¦‚ä½•è½å­ã€æ˜¯å¦å½¢æˆè¿å­å¨èƒï¼ŒAIéƒ½ä¸ä¼šé’ˆå¯¹æ€§é˜²å®ˆï¼Œä¹Ÿä¸ä¼šä¸»åŠ¨è¿å­ï¼Œç”šè‡³ä¼šè½åœ¨æ£‹ç›˜è¾¹ç¼˜æ— æ„ä¹‰çš„ä½ç½®ï¼Œå¯¹å¼ˆä½“éªŒæå·®ï¼›åŒæ—¶è§‚å¯ŸQ-Learningçš„Qè¡¨çš„æ›´æ–°æ—¥å¿—ï¼Œå‘ç°Qå€¼å§‹ç»ˆå¤„äºéšæœºæ³¢åŠ¨çŠ¶æ€ï¼Œå¹¶æœªéšç€å¯¹å±€æ¬¡æ•°å¢åŠ è€Œæ”¶æ•›ï¼Œå¼ºåŒ–å­¦ä¹ å®Œå…¨æ²¡æœ‰å‘æŒ¥ä½œç”¨ã€‚ æ’æŸ¥ä¸é”™è¯¯åŸå› é€šè¿‡é€è¡Œè°ƒè¯•ä»£ç ã€æ‰“å°å…³é”®å˜é‡ï¼Œæœ€ç»ˆå®šä½åˆ°ä¸¤ä¸ªæ ¸å¿ƒé”™è¯¯ï¼š é”™è¯¯1ï¼šQ-Learningçš„çŠ¶æ€å“ˆå¸Œç”Ÿæˆå¼‚å¸¸ï¼Œget_state_hashæ–¹æ³•ä¸­ï¼Œè¯¯ç”¨board.tostring()ï¼ˆNumPyæ–°ç‰ˆæœ¬å·²åºŸå¼ƒï¼‰ï¼Œå¯¼è‡´ä¸åŒæ£‹ç›˜çŠ¶æ€ç”Ÿæˆç›¸åŒçš„å“ˆå¸Œå€¼ï¼ŒQè¡¨æ— æ³•æ­£ç¡®è®°å½•â€æ£‹ç›˜çŠ¶æ€-è½å­åŠ¨ä½œâ€çš„å¯¹åº”å…³ç³»ï¼Œå¼ºåŒ–å­¦ä¹ æ— æ³•ç§¯ç´¯æœ‰æ•ˆç»éªŒï¼› é”™è¯¯2ï¼šæœªè®¾ç½®ä»»ä½•åŸºç¡€è½å­ç­–ç•¥ï¼Œä»…ä¾èµ–Q-Learningçš„Îµ-è´ªå¿ƒç­–ç•¥ï¼Œè€ŒåˆæœŸQè¡¨ä¸ºç©ºï¼ŒAIçš„â€æ¢ç´¢ç‡â€ï¼ˆepsilon0.1ï¼‰è™½ä½ï¼Œä½†æ— æœ‰æ•ˆQå€¼å¯åˆ©ç”¨ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯éšæœºè½å­ï¼›åŒæ—¶ï¼ŒæœªåŠ è½½ä»»ä½•è®­ç»ƒå¥½çš„CNNæ¨¡å‹ï¼Œç¼ºä¹åŸºç¡€å†³ç­–ä¾æ®ï¼Œå¼ºåŒ–å­¦ä¹ æ²¡æœ‰â€å­¦ä¹ æ–¹å‘â€ã€‚ ä¿®æ”¹æ–¹æ¡ˆ ä¿®å¤å“ˆå¸Œç”Ÿæˆé—®é¢˜ï¼šå°†board.tostring()æ›¿æ¢ä¸ºboard.tobytes()ï¼Œé€‚é…NumPyæ–°ç‰ˆæœ¬ï¼Œç¡®ä¿æ¯ä¸ªä¸åŒçš„æ£‹ç›˜çŠ¶æ€éƒ½èƒ½ç”Ÿæˆå”¯ä¸€çš„å“ˆå¸Œå€¼ï¼Œè®©Qè¡¨å¯ä»¥æ­£å¸¸æ›´æ–°å’ŒæŸ¥è¯¢ï¼› def get_state_hash(self, board): å°†æ£‹ç›˜çŠ¶æ€è½¬æ¢ä¸ºå“ˆå¸Œå€¼ï¼ˆç”¨äºQè¡¨å­˜å‚¨ï¼‰ # ä¿®å¤å‰ï¼šä½¿ç”¨å·²åºŸå¼ƒçš„tostring()æ–¹æ³• # return hash(board.tostring()) # âŒ è€ç‰ˆæœ¬NumPyæ–¹æ³• # ä¿®å¤åï¼šä½¿ç”¨tobytes()æ–¹æ³• return hash(board.tobytes()) # âœ… æ–°ç‰ˆæœ¬NumPyæ–¹æ³• æ–°å¢åŸºç¡€è½å­é€»è¾‘ï¼šåœ¨ai_choose_actionæ–¹æ³•ä¸­ï¼Œå…ˆç­›é€‰â€ç›¸é‚»å·²æœ‰æ£‹å­â€çš„åˆæ³•ä½ç½®ï¼Œä¼˜å…ˆä»è¿™äº›ä½ç½®ä¸­é€‰æ‹©è½å­ï¼ˆé¿å…æ— æ„ä¹‰çš„è¾¹ç¼˜è½å­ï¼‰ï¼Œç»™å¼ºåŒ–å­¦ä¹ æä¾›åŸºç¡€æ–¹å‘ï¼› å®Œå–„Q-Learningå‚æ•°é…ç½®ï¼šè°ƒæ•´å­¦ä¹ ç‡ï¼ˆlr0.1ï¼‰ã€æŠ˜æ‰£å› å­ï¼ˆgamma0.9ï¼‰ï¼Œå»¶é•¿Qå€¼çš„æ›´æ–°å‘¨æœŸï¼Œç¡®ä¿Qè¡¨èƒ½éšç€å¯¹å±€æ¬¡æ•°å¢åŠ é€æ­¥æ”¶æ•›ï¼Œè®©å¼ºåŒ–å­¦ä¹ é€æ­¥ç§¯ç´¯æœ‰æ•ˆè½å­ç»éªŒã€‚ ä¿®æ”¹æ•ˆæœAIä¸å†å®Œå…¨éšæœºè½å­ï¼Œä¼šä¼˜å…ˆé€‰æ‹©å·²æœ‰æ£‹å­é™„è¿‘çš„ä½ç½®ï¼Œè½å­æ›´å…·åˆç†æ€§ï¼›Qè¡¨èƒ½å¤Ÿæ­£å¸¸æ›´æ–°ï¼Œéšç€å¯¹å±€æ¬¡æ•°å¢åŠ ï¼ŒAIä¼šé€æ­¥é¿å¼€æ— æ„ä¹‰çš„è½å­ä½ç½®ï¼Œå¼ºåŒ–å­¦ä¹ å¼€å§‹å‘æŒ¥ä½œç”¨ï¼Œä½†æ­¤æ—¶AIä»ä¸ä¼šåˆ¤æ–­å±€åŠ¿ã€ä¸ä¼šè¿å­å’Œé˜²å®ˆï¼Œä»…è§£å†³äº†â€ä¹±è½å­â€çš„åŸºç¡€é—®é¢˜ã€‚ 2. è¿›é˜¶é—®é¢˜ï¼šAIä¼˜å…ˆé™„è¿‘è½å­ï¼Œä½†ä¸ä¼šåˆ¤æ–­å±€åŠ¿é—®é¢˜è¡¨ç°è§£å†³éšæœºè½å­é—®é¢˜åï¼ŒAIèƒ½å¤Ÿä¼˜å…ˆé€‰æ‹©å·²æœ‰æ£‹å­é™„è¿‘çš„ä½ç½®è½å­ï¼Œä½†ä¾ç„¶å­˜åœ¨æ˜æ˜¾ç¼ºé™·â€”â€”ä¸ä¼šåˆ¤æ–­å¯¹å±€å±€åŠ¿ï¼šæ—¢ä¸ä¼šä¸»åŠ¨å½¢æˆ3è¿ã€4è¿çš„è¿›æ”»æ€åŠ¿ï¼Œä¹Ÿä¸ä¼šè¯†åˆ«ç©å®¶çš„è¿å­å¨èƒå¹¶å µå¡ï¼›æ¯”å¦‚ç©å®¶è¿ç»­è½å­å½¢æˆ3è¿ï¼ŒAIä¾ç„¶ä¼šåœ¨æ— å…³ä½ç½®è½å­ï¼Œä¸ä¼šé’ˆå¯¹æ€§é˜²å®ˆï¼›AIè‡ªèº«æœ‰æœºä¼šå½¢æˆ3è¿æ—¶ï¼Œä¹Ÿä¼šé”™è¿‡æœºä¼šï¼Œå§‹ç»ˆå¤„äºâ€è¢«åŠ¨è·Ÿéšâ€çŠ¶æ€ï¼Œå¯¹å¼ˆæ¯«æ— æŒ‘æˆ˜æ€§ã€‚ æ’æŸ¥ä¸é”™è¯¯åŸå› æ ¸å¿ƒåŸå› æ˜¯ç¼ºä¹å±€åŠ¿åˆ¤æ–­é€»è¾‘ï¼ŒAIä»…èƒ½æ ¹æ®â€ä½ç½®æ˜¯å¦ç›¸é‚»â€é€‰æ‹©è½å­ï¼Œæ— æ³•è¯†åˆ«â€è¿å­å¨èƒâ€å’Œâ€è¿å­ä¼˜åŠ¿â€ï¼Œå…·ä½“ä½“ç°åœ¨ï¼š æœªå®ç°è¿å­æ£€æµ‹åŠŸèƒ½ï¼šæ²¡æœ‰ç¼–å†™count_continuous_piecesï¼ˆè¿ç»­æ£‹å­è®¡æ•°ï¼‰ã€check_opponent_threatï¼ˆå¯¹æ‰‹å¨èƒæ£€æµ‹ï¼‰ç­‰æ–¹æ³•ï¼Œæ— æ³•è¯†åˆ«ç©å®¶å’ŒAIè‡ªèº«çš„3è¿ã€4è¿çŠ¶æ€ï¼› è½å­ä¼˜å…ˆçº§æ··ä¹±ï¼šä»…è®¾ç½®äº†â€ç›¸é‚»ä½ç½®ä¼˜å…ˆâ€ï¼Œæœªå®šä¹‰â€é˜²å®ˆè¿›æ”»å¸¸è§„è½å­â€çš„ä¼˜å…ˆçº§ï¼ŒAIæ— æ³•åˆ¤æ–­â€å“ªä¸ªä½ç½®æ›´é‡è¦â€ï¼› å¼ºåŒ–å­¦ä¹ ä¸å±€åŠ¿åˆ¤æ–­è„±èŠ‚ï¼šQ-Learningä»…èƒ½æ ¹æ®å†å²è½å­ç»éªŒä¼˜åŒ–é€‰æ‹©ï¼Œä½†æ— æ³•ç†è§£â€è¿å­ä¼˜åŠ¿â€â€æ¼å µè¾“æ£‹â€çš„æ ¸å¿ƒè§„åˆ™ï¼Œç»éªŒç§¯ç´¯æ•ˆç‡æä½ã€‚ ä¿®æ”¹æ–¹æ¡ˆ æ–°å¢å±€åŠ¿åˆ¤æ–­æ ¸å¿ƒæ–¹æ³•ï¼šåœ¨BoardManagerç±»ä¸­ï¼Œå®ç°count_continuous_piecesæ–¹æ³•ï¼Œç”¨äºç»Ÿè®¡æŸä¸€æ–¹å‘ä¸Šçš„è¿ç»­æ£‹å­æ•°ï¼›æ–°å¢check_opponent_threatæ–¹æ³•ï¼Œä¸“é—¨æ£€æµ‹ç©å®¶çš„3è¿ã€4è¿å¨èƒï¼Œä¸ºé˜²å®ˆç­–ç•¥æä¾›æ”¯æ’‘ï¼› def count_continuous_pieces(self, x, y, player, dx, dy): ç»Ÿè®¡æŸæ–¹å‘ä¸Šçš„è¿ç»­æ£‹å­æ•°ï¼ˆå«å½“å‰ä½ç½®ï¼‰ count = 0 nx, ny = x, y while 0 = nx self.size and 0 = ny self.size and self.board[nx, ny] == player: count += 1 nx += dx ny += dy return countdef check_opponent_threat(self): æ£€æµ‹å¯¹æ‰‹ï¼ˆç©å®¶ï¼‰çš„3è¿/4è¿å¨èƒï¼Œè¿”å›ä¼˜å…ˆçº§å µå¡ä½ç½® opponent = 1 four_threats = [] # å¯¹æ‰‹4è¿ï¼ˆå¿…å µï¼‰ three_threats = [] # å¯¹æ‰‹3è¿ï¼ˆæ¬¡å¿…å µï¼‰ directions = [(0, 1), (1, 0), (1, 1), (1, -1)] for x in range(self.size): for y in range(self.size): if self.board[x, y] == 0: for dx, dy in directions: left_count = self.count_continuous_pieces(x - dx, y - dy, opponent, -dx, -dy) right_count = self.count_continuous_pieces(x + dx, y + dy, opponent, dx, dy) total = left_count + right_count if total == 4: if (x, y) not in four_threats: four_threats.append((x, y)) elif total == 3: left_block = not (0 = x - (left_count + 1)*dx self.size and 0 = y - (left_count + 1)*dy self.size) right_block = not (0 = x + (right_count + 1)*dx self.size and 0 = y + (right_count + 1)*dy self.size) if not (left_block and right_block) and (x, y) not in three_threats: three_threats.append((x, y)) if four_threats: return four_threats[0] elif three_threats: return three_threats[0] return None ä¼˜åŒ–è½å­ä¼˜å…ˆçº§ï¼šåœ¨ai_choose_actionæ–¹æ³•ä¸­ï¼Œæ–°å¢â€å µå¡å¯¹æ‰‹4è¿â†’å µå¡å¯¹æ‰‹3è¿â€çš„é˜²å®ˆä¼˜å…ˆçº§ï¼Œä¼˜å…ˆå¤„ç†ç©å®¶çš„è‡´å‘½å¨èƒï¼Œå†é€‰æ‹©å¸¸è§„è½å­ä½ç½®ï¼› è”åŠ¨å¼ºåŒ–å­¦ä¹ ä¸å±€åŠ¿åˆ¤æ–­ï¼šå°†å±€åŠ¿åˆ¤æ–­çš„ç»“æœèå…¥Q-Learningçš„å¥–åŠ±æœºåˆ¶ï¼Œè‹¥AIæˆåŠŸå µå¡ç©å®¶çš„4è¿ï¼Œç»™äºˆæ­£å‘å¥–åŠ±ï¼ˆreward10ï¼‰ï¼›è‹¥AIæ¼å µç©å®¶çš„4è¿å¯¼è‡´è¾“æ£‹ï¼Œç»™äºˆè´Ÿå‘å¥–åŠ±ï¼ˆreward-20ï¼‰ï¼Œå¼•å¯¼å¼ºåŒ–å­¦ä¹ å‘â€é˜²å®ˆä¼˜å…ˆâ€çš„æ–¹å‘ç§¯ç´¯ç»éªŒã€‚ ä¿®æ”¹æ•ˆæœAIå…·å¤‡äº†åŸºç¡€çš„å±€åŠ¿åˆ¤æ–­èƒ½åŠ›ï¼Œèƒ½å¤Ÿè¯†åˆ«ç©å®¶çš„3è¿ã€4è¿å¨èƒï¼Œå¹¶ä¼˜å…ˆè½å­å µå¡ï¼›è½å­ä¸å†å±€é™äºâ€ç›¸é‚»ä½ç½®â€ï¼Œä¼šä¸»åŠ¨é€‰æ‹©èƒ½éåˆ¶ç©å®¶è¿›æ”»çš„ä½ç½®ï¼Œå¯¹å¼ˆçš„æŒ‘æˆ˜æ€§æ˜¾è‘—æå‡ï¼›ä½†æ­¤æ—¶AIä»å­˜åœ¨ä¸€ä¸ªå…³é”®ç¼ºé™·â€”â€”åªä¼šé˜²å®ˆï¼Œä¸ä¼šä¸»åŠ¨è¿½æ±‚èƒœåˆ©ï¼Œå³ä¾¿è‡ªèº«å½¢æˆ4è¿ã€æœ‰æœºä¼šä¸€æ­¥è·èƒœï¼Œä¹Ÿä¼šé€‰æ‹©é˜²å®ˆæˆ–å¸¸è§„è½å­ï¼Œæµªè´¹è·èƒœæœºä¼šã€‚ 3. æœ€ç»ˆé—®é¢˜ï¼šAIä¼šå µå¡ä½ è½å­ï¼Œä½†ä¸ä¼šä¸»åŠ¨èƒœåˆ©é—®é¢˜è¡¨ç°ç»è¿‡å‰ä¸¤æ¬¡ä¿®æ”¹ï¼ŒAIçš„é˜²å®ˆèƒ½åŠ›å·²ç»åŸºæœ¬å®Œå–„ï¼Œèƒ½å¤Ÿç²¾å‡†å µå¡ç©å®¶çš„3è¿ã€4è¿å¨èƒï¼Œä¸ä¼šå‡ºç°â€æ¼å µè‡´å‘½å¨èƒâ€çš„ä½çº§å¤±è¯¯ï¼Œä½†æ–°çš„é—®é¢˜éšä¹‹å‡ºç°ï¼šAIåªä¼šè¢«åŠ¨é˜²å®ˆï¼Œä¸ä¼šä¸»åŠ¨è¿›æ”»ã€è¿½æ±‚èƒœåˆ©ï¼›æ¯”å¦‚AIè‡ªèº«å·²ç»å½¢æˆ4è¿ï¼Œåªéœ€è¡¥å­ä¸€æ­¥å°±èƒ½å½¢æˆ5è¿è·èƒœï¼Œä½†AIä¾ç„¶ä¼šé€‰æ‹©å µå¡ç©å®¶çš„æ— å…³3è¿ï¼Œæˆ–è½åœ¨å…¶ä»–æ— æ„ä¹‰çš„ä½ç½®ï¼›å³ä¾¿æ²¡æœ‰ç©å®¶çš„å¨èƒï¼ŒAIä¹Ÿä¸ä¼šä¸»åŠ¨å½¢æˆ3è¿ã€4è¿ï¼Œå§‹ç»ˆå¤„äºâ€è¢«åŠ¨é˜²å®ˆâ€çŠ¶æ€ï¼Œæ— æ³•ä¸»åŠ¨ç»“æŸå¯¹å±€ã€‚ æ’æŸ¥ä¸é”™è¯¯åŸå› æ ¸å¿ƒåŸå› æ˜¯ç¼ºä¹AIè‡ªèº«è¿›æ”»ä¼˜åŠ¿çš„æ£€æµ‹é€»è¾‘ï¼Œè½å­ä¼˜å…ˆçº§ä»…ä¾§é‡é˜²å®ˆï¼Œæœªå…¼é¡¾è¿›æ”»ï¼Œå…·ä½“ä½“ç°åœ¨ï¼š æœªæ£€æµ‹AIè‡ªèº«çš„è¿å­ä¼˜åŠ¿ï¼šä»…å®ç°äº†check_opponent_threatï¼ˆæ£€æµ‹ç©å®¶å¨èƒï¼‰ï¼Œæœªç¼–å†™æ£€æµ‹AIè‡ªèº«3è¿ã€4è¿ä¼˜åŠ¿çš„æ–¹æ³•ï¼ŒAIæ— æ³•çŸ¥æ™“è‡ªå·±çš„è¿å­çŠ¶æ€ï¼Œè‡ªç„¶ä¸ä¼šä¸»åŠ¨è¡¥å­å†²5ï¼› è½å­ä¼˜å…ˆçº§å¤±è¡¡ï¼šä»…è®¾ç½®äº†â€é˜²å®ˆä¼˜å…ˆçº§â€ï¼Œæœªå°†â€AIè‡ªèº«å†²5ã€å†²4â€çº³å…¥é«˜ä¼˜å…ˆçº§ï¼Œå¯¼è‡´AIå³ä¾¿æœ‰è·èƒœæœºä¼šï¼Œä¹Ÿä¼šä¼˜å…ˆé€‰æ‹©é˜²å®ˆï¼Œå¿½è§†è¿›æ”»ï¼› å¼ºåŒ–å­¦ä¹ å¥–åŠ±æœºåˆ¶åå‘é˜²å®ˆï¼šä¹‹å‰çš„å¥–åŠ±æœºåˆ¶ä»…é’ˆå¯¹é˜²å®ˆè¡Œä¸ºç»™äºˆæ­£å‘å¥–åŠ±ï¼Œæœªå¯¹AIä¸»åŠ¨è¿å­ã€å†²5è·èƒœçš„è¡Œä¸ºç»™äºˆå¥–åŠ±ï¼Œå¯¼è‡´AIç¼ºä¹â€è¿›æ”»åŠ¨åŠ›â€ã€‚ ä¿®æ”¹æ–¹æ¡ˆ æ–°å¢AIè¿›æ”»ä¼˜åŠ¿æ£€æµ‹æ–¹æ³•ï¼šåœ¨BoardManagerç±»ä¸­ï¼Œæ–°å¢check_ai_advantageæ–¹æ³•ï¼Œä¸check_opponent_threatå¯¹ç§°ï¼Œä¸“é—¨æ£€æµ‹AIè‡ªèº«çš„3è¿ã€4è¿ä¼˜åŠ¿ï¼Œè¯†åˆ«â€è¡¥å­å³è·èƒœâ€â€è¡¥å­å³å½¢æˆ4è¿â€çš„å…³é”®ä½ç½®ï¼› def check_ai_advantage(self): æ£€æµ‹AIè‡ªèº«çš„3è¿/4è¿ä¼˜åŠ¿ï¼Œè¿”å›ä¼˜å…ˆçº§å†²5ä½ç½® ai = 2 four_advantages = [] # AI4è¿ï¼ˆè¡¥å­å³5è¿è·èƒœï¼‰ three_advantages = [] # AI3è¿ï¼ˆè¡¥å­å³4è¿ï¼‰ directions = [(0, 1), (1, 0), (1, 1), (1, -1)] for x in range(self.size): for y in range(self.size): if self.board[x, y] == 0: for dx, dy in directions: left_count = self.count_continuous_pieces(x - dx, y - dy, ai, -dx, -dy) right_count = self.count_continuous_pieces(x + dx, y + dy, ai, dx, dy) total = left_count + right_count if total == 4: if (x, y) not in four_advantages: four_advantages.append((x, y)) elif total == 3: left_block = not (0 = x - (left_count + 1)*dx self.size and 0 = y - (left_count + 1)*dy self.size) right_block = not (0 = x + (right_count + 1)*dx self.size and 0 = y + (right_count + 1)*dy self.size) if not (left_block and right_block) and (x, y) not in three_advantages: three_advantages.append((x, y)) if four_advantages: return four_advantages[0] elif three_advantages: return three_advantages[0] return None è°ƒæ•´è½å­ä¼˜å…ˆçº§ï¼ˆæ ¸å¿ƒä¿®æ”¹ï¼‰ï¼šé‡æ–°å®šä¹‰AIè½å­ä¼˜å…ˆçº§ï¼Œå…¼é¡¾é˜²å®ˆä¸è¿›æ”»ï¼Œæœ€ç»ˆç¡®å®šä¼˜å…ˆçº§ä¸ºï¼šå µå¯¹æ‰‹4è¿ï¼ˆä¿å‘½ï¼‰â†’ è¡¥è‡ªå·±4è¿ï¼ˆå†²5è·èƒœï¼‰â†’ å µå¯¹æ‰‹3è¿ï¼ˆé˜²å¨èƒï¼‰â†’ è¡¥è‡ªå·±3è¿ï¼ˆé€ å¨èƒï¼‰â†’ æ¨¡å‹+Q-Learningé¢„æµ‹ â†’ éšæœºè½å­ï¼Œç¡®ä¿AIåœ¨å®ˆä½è‡´å‘½å¨èƒçš„å‰æä¸‹ï¼Œä¼˜å…ˆè¿½æ±‚è‡ªèº«è·èƒœï¼› def ai_choose_action(self): AIè½å­é€»è¾‘ï¼šé˜²è‡´å‘½ è¿½è·èƒœ åŸºç¡€ç­–ç•¥ # ç¬¬ä¸€æ­¥ï¼šä¼˜å…ˆå µå¯¹æ‰‹4è¿ï¼ˆä¿å‘½ï¼‰ opponent_four_threat = self.board_manager.check_opponent_threat() if opponent_four_threat is not None: x, y = opponent_four_threat if self.board_manager.board[x, y] == 0: return x, y # ç¬¬äºŒæ­¥ï¼šä¼˜å…ˆè¡¥è‡ªå·±4è¿ï¼ˆå†²5è·èƒœï¼‰ ai_four_advantage = self.board_manager.check_ai_advantage() if ai_four_advantage is not None: x, y = ai_four_advantage if self.board_manager.board[x, y] == 0: return x, y # ç¬¬ä¸‰æ­¥ï¼šå µå¯¹æ‰‹3è¿ï¼ˆé˜²å¨èƒï¼‰ opponent_three_threat = self.board_manager.check_opponent_threat() if opponent_three_threat is not None and opponent_three_threat != opponent_four_threat: x, y = opponent_three_threat if self.board_manager.board[x, y] == 0: return x, y # ç¬¬å››æ­¥ï¼šè¡¥è‡ªå·±3è¿ï¼ˆé€ å¨èƒï¼‰ ai_three_advantage = self.board_manager.check_ai_advantage() if ai_three_advantage is not None and ai_three_advantage != ai_four_advantage: x, y = ai_three_advantage if self.board_manager.board[x, y] == 0: return x, y # ç¬¬äº”æ­¥ï¼šæ¨¡å‹+Q-Learningå†³ç­–ï¼ˆæ— æ”»é˜²å¨èƒæ—¶ï¼‰ # ...ï¼ˆåç»­ä»£ç ï¼‰ ä¼˜åŒ–å¼ºåŒ–å­¦ä¹ å¥–åŠ±æœºåˆ¶ï¼šæ–°å¢è¿›æ”»ç›¸å…³å¥–åŠ±ï¼Œè‹¥AIè¡¥è‡ªå·±4è¿è·èƒœï¼Œç»™äºˆé«˜é¢æ­£å‘å¥–åŠ±ï¼ˆreward50ï¼‰ï¼›è‹¥AIè¡¥è‡ªå·±3è¿å½¢æˆ4è¿ï¼Œç»™äºˆæ­£å‘å¥–åŠ±ï¼ˆreward20ï¼‰ï¼Œå¼•å¯¼AIä¸»åŠ¨è¿›æ”»ã€ç§¯ç´¯è¿›æ”»ç»éªŒï¼›åŒæ—¶ï¼ŒåŠ è½½è®­ç»ƒå¥½çš„CNNæ¨¡å‹ï¼Œè®©AIåœ¨æ— æ”»é˜²å¨èƒæ—¶ï¼Œèƒ½å¤ŸåŸºäºæ¨¡å‹é¢„æµ‹é€‰æ‹©æœ€ä¼˜è¿›æ”»ä½ç½®ã€‚ ä¿®æ”¹æ•ˆæœAIå½»åº•å®ç°â€æ”»é˜²å…¼å¤‡â€ï¼šæ—¢èƒ½ç²¾å‡†å µå¡ç©å®¶çš„3è¿ã€4è¿å¨èƒï¼Œé¿å…è‡ªèº«è¾“æ£‹ï¼›ä¹Ÿèƒ½ä¸»åŠ¨è¯†åˆ«è‡ªèº«çš„3è¿ã€4è¿ä¼˜åŠ¿ï¼Œä¼˜å…ˆè¡¥å­å†²5è·èƒœã€å†²4é€ å¨èƒï¼›å½“ç©å®¶ä¸AIåŒæ—¶æœ‰è‡´å‘½å¨èƒæ—¶ï¼ŒAIä¼šå…ˆå µå¯¹æ‰‹4è¿ï¼ˆä¿å‘½ï¼‰ï¼Œå†è¡¥è‡ªå·±4è¿ï¼ˆè·èƒœï¼‰ï¼Œç¬¦åˆäº”å­æ£‹çš„å¯¹å¼ˆé€»è¾‘ï¼›å¼ºåŒ–å­¦ä¹ çš„Qè¡¨ä¹Ÿèƒ½åŒæ—¶ç§¯ç´¯é˜²å®ˆå’Œè¿›æ”»ç»éªŒï¼ŒAIçš„å†³ç­–è¶Šæ¥è¶Šçµæ´»ï¼Œå¯¹å¼ˆä½“éªŒè¾¾åˆ°é¢„æœŸã€‚ é™„å½•ï¼šå®Œæ•´é¡¹ç›®ä»£ç é™„å½•1ï¼šgomoku_data.pyï¼ˆé«˜è´¨é‡è‡ªå¯¹å¼ˆæ ·æœ¬ç”Ÿæˆï¼‰import numpy as npimport random# æ£‹ç›˜ç®¡ç†ç±»ï¼šè´Ÿè´£æ£‹ç›˜çŠ¶æ€ç»´æŠ¤ä¸æ›´æ–°class BoardManager: def __init__(self): self.size = 15 # 3é€šé“æ£‹ç›˜ï¼š[0]ç©å®¶1ï¼ˆé»‘ï¼‰ã€[1]ç©å®¶2ï¼ˆç™½ï¼‰ã€[2]ç©ºä½ç½®ï¼ˆè¾…åŠ©æ ‡è¯†ï¼‰ self.board = np.zeros((self.size, self.size, 3), dtype=np.int8) self.history = [] def update_board(self, x, y, player): æ›´æ–°æ£‹ç›˜ï¼šè½å­åæ›´æ–°å¯¹åº”é€šé“ï¼Œè®°å½•å†å²çŠ¶æ€ if not (0 = x self.size and 0 = y self.size): return False # ç¡®ä¿å½“å‰ä½ç½®ä¸ºç©º if self.board[x, y, 0] == 1 or self.board[x, y, 1] == 1: return False # è®°å½•å†å² self.history.append(np.copy(self.board)) # é‡ç½®å½“å‰ä½ç½®æ‰€æœ‰é€šé“ï¼Œè®¾ç½®å¯¹åº”ç©å®¶é€šé“ self.board[x, y, :] = 0 self.board[x, y, player-1] = 1 self.board[x, y, 2] = 0 # ç©ºä½ç½®é€šé“ç½®0 # è¡¥å……ç©ºä½ç½®é€šé“ï¼ˆå¯é€‰ï¼Œä¼˜åŒ–æ ·æœ¬ç‰¹å¾ï¼‰ for i in range(self.size): for j in range(self.size): if self.board[i, j, 0] == 0 and self.board[i, j, 1] == 0: self.board[i, j, 2] = 1 return True def get_state(self): è·å–å½“å‰æ£‹ç›˜çŠ¶æ€å‰¯æœ¬ return np.copy(self.board)# åˆæ³•è½å­æ ¡éªŒç±»class Validator: def __init__(self, board_manager): self.board_manager = board_manager self.size = board_manager.size def check_valid(self, x, y): åˆ¤æ–­å•ä¸ªä½ç½®æ˜¯å¦åˆæ³•ï¼ˆç©ºä½ç½®ä¸”åœ¨æ£‹ç›˜å†…ï¼‰ if not (0 = x self.size and 0 = y self.size): return False return self.board_manager.board[x, y, 0] == 0 and self.board_manager.board[x, y, 1] == 0 def get_all_valid_positions(self): è·å–æ‰€æœ‰åˆæ³•è½å­ä½ç½® valid_pos = [] for x in range(self.size): for y in range(self.size): if self.check_valid(x, y): valid_pos.append((x, y)) return valid_pos# èƒœè´Ÿåˆ¤æ–­å‡½æ•°ï¼šæ£€æµ‹äº”å­è¿ç def judge_win(board, x, y, player): size = board.shape[0] directions = [(0, 1), (1, 0), (1, 1), (1, -1)] # æ¨ªã€ç«–ã€æ­£æ–œã€åæ–œ player_channel = player - 1 for dx, dy in directions: count = 1 # æ­£å‘éå† nx, ny = x + dx, y + dy while 0 = nx size and 0 = ny size and board[nx, ny, player_channel] == 1: count += 1 nx += dx ny += dy # åå‘éå† nx, ny = x - dx, y - dy while 0 = nx size and 0 = ny size and board[nx, ny, player_channel] == 1: count += 1 nx -= dx ny -= dy # äº”å­è¿ç åˆ¤å®š if count = 5: return True return False# è¿å­åˆ¤æ–­å‡½æ•°ï¼šæ£€æµ‹nè¿å­ï¼ˆn=3/4ï¼‰def has_n_pieces(board, x, y, player, n): size = board.shape[0] directions = [(0, 1), (1, 0), (1, 1), (1, -1)] player_channel = player - 1 for dx, dy in directions: count = 1 # æ­£å‘éå† nx, ny = x + dx, y + dy while 0 = nx size and 0 = ny size and board[nx, ny, player_channel] == 1: count += 1 nx += dx ny += dy # åå‘éå† nx, ny = x - dx, y - dy while 0 = nx size and 0 = ny size and board[nx, ny, player_channel] == 1: count += 1 nx -= dx ny -= dy # nè¿å­åˆ¤å®š if count = n: return True return False# é«˜ä¼˜å…ˆçº§è½å­ç­–ç•¥ï¼šç”Ÿæˆå¸¦é€»è¾‘çš„è‡ªå¯¹å¼ˆè½å­def get_better_action(validator, board_manager, current_player): valid_pos = validator.get_all_valid_positions() if not valid_pos: return None, None board = board_manager.get_state() size = board_manager.size opponent = 2 if current_player == 1 else 1 # å®šä¹‰å„ä¼˜å…ˆçº§è½å­åˆ—è¡¨ win_pos = [] # ç›´æ¥èµ¢æ£‹ï¼ˆ5è¿ï¼‰ block_win_pos = [] # é˜»æŒ¡å¯¹æ‰‹èµ¢æ£‹ four_pos = [] # è‡ªå·±è¿4 block_four_pos = [] # é˜»æŒ¡å¯¹æ‰‹è¿4 three_pos = [] # è‡ªå·±è¿3 # éå†æ‰€æœ‰åˆæ³•ä½ç½®ï¼Œè¯„ä¼°è½å­ä»·å€¼ for (x, y) in valid_pos: # è¯„ä¼°è‡ªå·±è½å­ä»·å€¼ temp_board_self = board.copy() temp_board_self[x, y, :] = 0 temp_board_self[x, y, current_player-1] = 1 is_self_win = judge_win(temp_board_self, x, y, current_player) has_self_four = has_n_pieces(temp_board_self, x, y, current_player, 4) has_self_three = has_n_pieces(temp_board_self, x, y, current_player, 3) # è¯„ä¼°é˜»æŒ¡å¯¹æ‰‹ä»·å€¼ temp_board_opp = board.copy() temp_board_opp[x, y, :] = 0 temp_board_opp[x, y, opponent-1] = 1 is_opp_win = judge_win(temp_board_opp, x, y, opponent) has_opp_four = has_n_pieces(temp_board_opp, x, y, opponent, 4) # æŒ‰ä¼˜å…ˆçº§å½’ç±» if is_self_win: win_pos.append((x, y)) elif is_opp_win: block_win_pos.append((x, y)) elif has_self_four: four_pos.append((x, y)) elif has_opp_four: block_four_pos.append((x, y)) elif has_self_three: three_pos.append((x, y)) # æŒ‰ä¼˜å…ˆçº§é€‰æ‹©è½å­ if win_pos: return random.choice(win_pos) elif block_win_pos: return random.choice(block_win_pos) elif four_pos: return random.choice(four_pos) elif block_four_pos: return random.choice(block_four_pos) elif three_pos: return random.choice(three_pos) # æ— è¿å­æœºä¼šï¼Œé€‰ç›¸é‚»ä½ç½®ï¼ˆæå‡æ ·æœ¬ç­–ç•¥æ€§ï¼‰ adjacent_pos = [] for (x, y) in valid_pos: has_adjacent = False for dx in [-1, 0, 1]: for dy in [-1, 0, 1]: if dx == 0 and dy == 0: continue nx, ny = x + dx, y + dy if 0 = nx size and 0 = ny size: if board[nx, ny, 0] == 1 or board[nx, ny, 1] == 1: has_adjacent = True break if has_adjacent: break if has_adjacent: adjacent_pos.append((x, y)) if adjacent_pos: return random.choice(adjacent_pos) else: return random.choice(valid_pos)# ç”Ÿæˆè‡ªå¯¹å¼ˆæ•°æ®ä¸»å‡½æ•°def generate_self_play_data(num_games=2000): data = [] for game_idx in range(num_games): # è¿›åº¦æç¤º if (game_idx + 1) % 200 == 0: print(få·²ç”Ÿæˆ game_idx+1/num_games å±€å¯¹å±€) # åˆå§‹åŒ–æ¯å±€æ¸¸æˆ board_manager = BoardManager() validator = Validator(board_manager) current_player = 1 game_over = False while not game_over: valid_pos = validator.get_all_valid_positions() if not valid_pos: # æ£‹ç›˜ä¸‹æ»¡ï¼Œå¹³å±€ break # è·å–é«˜ä¼˜å…ˆçº§è½å­ x, y = get_better_action(validator, board_manager, current_player) if x is None or y is None: break # è®°å½•æ ·æœ¬ï¼šè½å­å‰çŠ¶æ€ + è½å­ä½ç½®ç´¢å¼•ï¼ˆx*15 + yï¼‰ state = board_manager.get_state() action_idx = x * board_manager.size + y data.append((state, action_idx)) # æ›´æ–°æ£‹ç›˜å¹¶åˆ¤æ–­èƒœè´Ÿ board_manager.update_board(x, y, current_player) if judge_win(board_manager.get_state(), x, y, current_player): game_over = True break # åˆ‡æ¢ç©å®¶ current_player = 2 if current_player == 1 else 1 # ä¿å­˜æ•°æ®åˆ°npzæ–‡ä»¶ if len(data) == 0: print(è­¦å‘Šï¼šæœªç”Ÿæˆä»»ä½•è®­ç»ƒæ•°æ®ï¼) return # è½¬æ¢ä¸ºnumpyæ•°ç»„ï¼Œé€‚é…PyTorchè®­ç»ƒ states = np.array([d[0] for d in data], dtype=np.float32) actions = np.array([d[1] for d in data], dtype=np.int64) np.savez(gomoku_train_data.npz, states=states, actions=actions) print(fæ•°æ®ç”Ÿæˆå®Œæˆï¼å…± len(states) ä¸ªæ ·æœ¬ï¼Œä¿å­˜ä¸º gomoku_train_data.npz)if __name__ == __main__: generate_self_play_data(num_games=2000) é™„å½•2ï¼štrain_model.pyï¼ˆCNNæ¨¡å‹è®­ç»ƒï¼‰import numpy as npimport torchimport torch.nn as nnimport torch.optim as optimfrom torch.utils.data import Dataset, DataLoaderfrom torch.optim.lr_scheduler import StepLRfrom tqdm import tqdm# è®¾å¤‡é…ç½®ï¼šä¼˜å…ˆä½¿ç”¨GPUï¼Œæ— GPUåˆ™ä½¿ç”¨CPUdevice = torch.device(cuda if torch.cuda.is_available() else cpu)# 1. å®šä¹‰CNNæ¨¡å‹ï¼ˆä¸main.pyä¸­æ¨¡å‹ç»“æ„å®Œå…¨ä¸€è‡´ï¼Œé¿å…åŠ è½½ä¸åŒ¹é…ï¼‰class GomokuModel(nn.Module): def __init__(self): super(GomokuModel, self).__init__() # å·ç§¯å±‚ï¼šæå–æ£‹ç›˜ç©ºé—´ç‰¹å¾ self.conv1 = nn.Conv2d(3, 16, kernel_size=3, padding=1) self.bn1 = nn.BatchNorm2d(16) self.conv2 = nn.Conv2d(16, 32, kernel_size=3, padding=1) self.bn2 = nn.BatchNorm2d(32) # å…¨è¿æ¥å±‚ï¼šæ˜ å°„ä¸ºè½å­ä½ç½®å¾—åˆ† self.fc1 = nn.Linear(32 * 15 * 15, 128) self.fc2 = nn.Linear(128, 15 * 15) # è¾“å‡º225ä¸ªè½å­ä½ç½®çš„å¾—åˆ† # æ¿€æ´»å‡½æ•°ä¸Dropout self.relu = nn.ReLU() self.dropout = nn.Dropout(0.3) def forward(self, x): # å·ç§¯å±‚ + æ‰¹å½’ä¸€åŒ– + æ¿€æ´»å‡½æ•° x = self.relu(self.bn1(self.conv1(x))) x = self.relu(self.bn2(self.conv2(x))) # å±•å¹³ç‰¹å¾å›¾ x = x.view(-1, 32 * 15 * 15) # å…¨è¿æ¥å±‚ + Dropout x = self.relu(self.fc1(x)) x = self.dropout(x) x = self.fc2(x) return x# 2. è‡ªå®šä¹‰Datasetç±»ï¼šåŠ è½½è‡ªå¯¹å¼ˆæ ·æœ¬class GomokuDataset(Dataset): def __init__(self, data_path): # åŠ è½½npzæ–‡ä»¶ data = np.load(data_path) self.states = data[states] self.actions = data[actions] # è°ƒæ•´æ•°æ®å½¢çŠ¶ï¼š(N, H, W, C) â†’ (N, C, H, W)ï¼ˆé€‚é…PyTorchå·ç§¯å±‚è¾“å…¥æ ¼å¼ï¼‰ self.states = np.transpose(self.states, (0, 3, 1, 2)) def __len__(self): è¿”å›æ ·æœ¬æ€»æ•° return len(self.actions) def __getitem__(self, idx): è¿”å›å•ä¸ªæ ·æœ¬ï¼ˆçŠ¶æ€å¼ é‡ + åŠ¨ä½œæ ‡ç­¾ï¼‰ state = torch.tensor(self.states[idx], dtype=torch.float32) action = torch.tensor(self.actions[idx], dtype=torch.long) return state, action# 3. æ¨¡å‹è®­ç»ƒå‡½æ•°def train_model(data_path=gomoku_train_data.npz, epochs=50, batch_size=64, lr=0.001): # åŠ è½½æ•°æ®é›† dataset = GomokuDataset(data_path) dataloader = DataLoader(dataset, batch_size=batch_size, shuffle=True, num_workers=0) # åˆå§‹åŒ–æ¨¡å‹ã€æŸå¤±å‡½æ•°ã€ä¼˜åŒ–å™¨ model = GomokuModel().to(device) criterion = nn.CrossEntropyLoss() # åˆ†ç±»æŸå¤±å‡½æ•°ï¼Œé€‚é…è½å­ä½ç½®é¢„æµ‹ optimizer = optim.Adam(model.parameters(), lr=lr) scheduler = StepLR(optimizer, step_size=10, gamma=0.8) # å­¦ä¹ ç‡è°ƒåº¦å™¨ # å¼€å§‹è®­ç»ƒ model.train() for epoch in range(epochs): total_loss = 0.0 # è¿›åº¦æ¡å±•ç¤ºè®­ç»ƒè¿‡ç¨‹ with tqdm(total=len(dataloader), desc=fEpoch epoch+1/epochs) as pbar: for batch_idx, (states, actions) in enumerate(dataloader): # æ•°æ®ç§»è‡³è®¾å¤‡ï¼ˆGPU/CPUï¼‰ states = states.to(device) actions = actions.to(device) # å‰å‘ä¼ æ’­ outputs = model(states) loss = criterion(outputs, actions) # åå‘ä¼ æ’­ä¸ä¼˜åŒ– optimizer.zero_grad() loss.backward() optimizer.step() # ç´¯è®¡æŸå¤±å€¼ total_loss += loss.item() pbar.update(1) pbar.set_postfix(batch_loss: loss.item(), avg_loss: total_loss/(batch_idx+1)) # æ›´æ–°å­¦ä¹ ç‡ scheduler.step() # è¾“å‡ºæ¯è½®å¹³å‡æŸå¤± avg_loss = total_loss / len(dataloader) print(fEpoch epoch+1 å¹³å‡æŸå¤±ï¼šavg_loss:.6f) # ä¿å­˜è®­ç»ƒå¥½çš„æ¨¡å‹ torch.save(model.state_dict(), gomoku_model.pth) print(æ¨¡å‹è®­ç»ƒå®Œæˆï¼å·²ä¿å­˜ä¸º gomoku_model.pth)if __name__ == __main__: train_model(epochs=50, batch_size=64, lr=0.001) é™„å½•3ï¼šmain.pyï¼ˆå¯è§†åŒ–å¯¹å¼ˆä¸AIæ ¸å¿ƒå†³ç­–ï¼‰import tkinter as tk from tkinter import messagebox import numpy as np import torch import torch.nn as nn # ---------------------- 1. æ¨¡å‹å®šä¹‰ï¼ˆä¸ train_model.py å®Œå…¨ä¸€è‡´ï¼Œé¿å…åŠ è½½ä¸åŒ¹é…ï¼‰---------------------- class GomokuModel(nn.Module): def __init__(self): super(GomokuModel, self).__init__() self.conv1 = nn.Conv2d(3, 16, kernel_size=3, padding=1) self.conv2 = nn.Conv2d(16, 32, kernel_size=3, padding=1) self.bn1 = nn.BatchNorm2d(16) self.bn2 = nn.BatchNorm2d(32) self.fc1 = nn.Linear(32 * 15 * 15, 128) self.fc2 = nn.Linear(128, 15*15) self.relu = nn.ReLU() self.dropout = nn.Dropout(0.3) def forward(self, x): x = self.relu(self.bn1(self.conv1(x))) x = self.relu(self.bn2(self.conv2(x))) x = x.view(-1, 32 * 15 * 15) x = self.relu(self.fc1(x)) x = self.dropout(x) x = self.fc2(x) return x # ---------------------- 2. æ ¸å¿ƒå·¥å…·ç±»ï¼ˆæ£‹ç›˜ç®¡ç†ã€æ”»é˜²æ£€æµ‹ï¼‰---------------------- class BoardManager: def __init__(self, size=15): self.size = size # æ£‹ç›˜çŠ¶æ€ï¼š0=ç©ºï¼Œ1=ç©å®¶ï¼ˆé»‘æ£‹ï¼‰ï¼Œ2=AIï¼ˆç™½æ£‹ï¼‰ self.board = np.zeros((size, size), dtype=np.int8) # æ¨¡å‹è¾“å…¥ç”¨çš„3é€šé“çŠ¶æ€ï¼ˆone-hotç¼–ç ï¼‰ self.model_board = np.zeros((3, size, size), dtype=np.float32) def reset(self): é‡ç½®æ£‹ç›˜ self.board = np.zeros((self.size, self.size), dtype=np.int8) self.model_board = np.zeros((3, self.size, self.size), dtype=np.float32) def update_board(self, x, y, player): æ›´æ–°æ£‹ç›˜çŠ¶æ€ï¼ˆplayer=1/2ï¼‰ï¼Œè¿”å›æ˜¯å¦æ›´æ–°æˆåŠŸ if 0 = x self.size and 0 = y self.size and self.board[x, y] == 0: self.board[x, y] = player # æ›´æ–°æ¨¡å‹è¾“å…¥çš„3é€šé“æ£‹ç›˜ï¼ˆone-hotç¼–ç ï¼‰ self.model_board = np.zeros((3, self.size, self.size), dtype=np.float32) self.model_board[0][self.board == 1] = 1.0 # ç©å®¶æ£‹å­é€šé“ self.model_board[1][self.board == 2] = 1.0 # AIæ£‹å­é€šé“ self.model_board[2][self.board == 0] = 1.0 # ç©ºä½ç½®é€šé“ return True return False def get_model_input(self): è·å–æ¨¡å‹è¾“å…¥çš„å¼ é‡ï¼ˆå¢åŠ batchç»´åº¦ï¼Œé€‚é…PyTorchï¼‰ input_tensor = torch.from_numpy(self.model_board).unsqueeze(0) return input_tensor def is_win(self, x, y, player): åˆ¤æ–­è½å­åæ˜¯å¦è·èƒœï¼ˆäº”å­è¿ç ï¼‰ directions = [(0, 1), (1, 0), (1, 1), (1, -1)] # æ¨ªã€ç«–ã€æ­£æ–œã€åæ–œ for dx, dy in directions: count = 1 # æ­£å‘éå† nx, ny = x + dx, y + dy while 0 = nx self.size and 0 = ny self.size and self.board[nx, ny] == player: count += 1 nx += dx ny += dy # åå‘éå† nx, ny = x - dx, y - dy while 0 = nx self.size and 0 = ny self.size and self.board[nx, ny] == player: count += 1 nx -= dx ny -= dy if count = 5: return True return False def count_continuous_pieces(self, x, y, player, dx, dy): ç»Ÿè®¡æŸæ–¹å‘ä¸Šçš„è¿ç»­æ£‹å­æ•°ï¼ˆå«å½“å‰ä½ç½®ï¼‰ count = 0 nx, ny = x, y while 0 = nx self.size and 0 = ny self.size and self.board[nx, ny] == player: count += 1 nx += dx ny += dy return count def check_opponent_threat(self): æ£€æµ‹å¯¹æ‰‹ï¼ˆç©å®¶ï¼‰çš„3è¿/4è¿å¨èƒï¼Œè¿”å›ä¼˜å…ˆçº§å µå¡ä½ç½® opponent = 1 four_threats = [] # å¯¹æ‰‹4è¿ï¼ˆå¿…å µï¼‰ three_threats = [] # å¯¹æ‰‹3è¿ï¼ˆæ¬¡å¿…å µï¼‰ directions = [(0, 1), (1, 0), (1, 1), (1, -1)] for x in range(self.size): for y in range(self.size): if self.board[x, y] == 0: for dx, dy in directions: left_count = self.count_continuous_pieces(x - dx, y - dy, opponent, -dx, -dy) right_count = self.count_continuous_pieces(x + dx, y + dy, opponent, dx, dy) total = left_count + right_count if total == 4: if (x, y) not in four_threats: four_threats.append((x, y)) elif total == 3: left_block = not (0 = x - (left_count + 1)*dx self.size and 0 = y - (left_count + 1)*dy self.size) right_block = not (0 = x + (right_count + 1)*dx self.size and 0 = y + (right_count + 1)*dy self.size) if not (left_block and right_block) and (x, y) not in three_threats: three_threats.append((x, y)) if four_threats: return four_threats[0] elif three_threats: return three_threats[0] return None def check_ai_advantage(self): æ£€æµ‹AIè‡ªèº«çš„3è¿/4è¿ä¼˜åŠ¿ï¼Œè¿”å›ä¼˜å…ˆçº§å†²5ä½ç½® ai = 2 four_advantages = [] # AI4è¿ï¼ˆè¡¥å­å³5è¿è·èƒœï¼‰ three_advantages = [] # AI3è¿ï¼ˆè¡¥å­å³4è¿ï¼‰ directions = [(0, 1), (1, 0), (1, 1), (1, -1)] for x in range(self.size): for y in range(self.size): if self.board[x, y] == 0: for dx, dy in directions: left_count = self.count_continuous_pieces(x - dx, y - dy, ai, -dx, -dy) right_count = self.count_continuous_pieces(x + dx, y + dy, ai, dx, dy) total = left_count + right_count if total == 4: if (x, y) not in four_advantages: four_advantages.append((x, y)) elif total == 3: left_block = not (0 = x - (left_count + 1)*dx self.size and 0 = y - (left_count + 1)*dy self.size) right_block = not (0 = x + (right_count + 1)*dx self.size and 0 = y + (right_count + 1)*dy self.size) if not (left_block and right_block) and (x, y) not in three_advantages: three_advantages.append((x, y)) if four_advantages: return four_advantages[0] elif three_advantages: return three_advantages[0] return None # ---------------------- 3. Q-Learning ä¼˜åŒ–å™¨ï¼ˆåœ¨çº¿ä¼˜åŒ–è½å­é€‰æ‹©ï¼‰---------------------- class QLearningAgent: def __init__(self, size=15, lr=0.1, gamma=0.9, epsilon=0.1): self.size = size self.lr = lr # å­¦ä¹ ç‡ self.gamma = gamma # æŠ˜æ‰£å› å­ self.epsilon = epsilon # æ¢ç´¢ç‡ self.q_table = # Qè¡¨ï¼škey=æ£‹ç›˜çŠ¶æ€å“ˆå¸Œï¼Œvalue=åŠ¨ä½œQå€¼ def get_state_hash(self, board): å°†æ£‹ç›˜çŠ¶æ€è½¬æ¢ä¸ºå“ˆå¸Œå€¼ï¼ˆç”¨äºQè¡¨å­˜å‚¨ï¼‰ return hash(board.tobytes()) def get_q_value(self, state_hash, action): è·å–Qå€¼ï¼ˆä¸å­˜åœ¨åˆ™è¿”å›0ï¼‰ if state_hash not in self.q_table: self.q_table[state_hash] = np.zeros(self.size * self.size, dtype=np.float32) return self.q_table[state_hash][action] def update_q_value(self, state_hash, action, reward, next_state_hash): æ›´æ–°Qè¡¨ï¼ˆQ-Learningæ ¸å¿ƒå…¬å¼ï¼‰ current_q = self.get_q_value(state_hash, action) next_max_q = np.max(self.q_table.get(next_state_hash, np.zeros(self.size * self.size))) new_q = current_q + self.lr * (reward + self.gamma * next_max_q - current_q) self.q_table[state_hash][action] = new_q def choose_action(self, model_output, valid_actions): Îµ-è´ªå¿ƒç­–ç•¥ï¼šç»“åˆæ¨¡å‹è¾“å‡ºä¸Qå€¼é€‰æ‹©åŠ¨ä½œ if np.random.random() self.epsilon: # æ¢ç´¢ï¼šéšæœºé€‰æ‹©åˆæ³•åŠ¨ä½œ return np.random.choice(valid_actions) else: # åˆ©ç”¨ï¼šç»“åˆæ¨¡å‹å¾—åˆ†ä¸Qå€¼é€‰æ‹©æœ€ä¼˜åŠ¨ä½œ q_values = self.q_table.get(self.get_state_hash(model_output), np.zeros_like(model_output)) combined_scores = model_output + q_values valid_scores = combined_scores[valid_actions] best_idx = np.argmax(valid_scores) return valid_actions[best_idx] # ---------------------- 4. äº”å­æ£‹GUIç•Œé¢ä¸ä¸»é€»è¾‘---------------------- class GomokuGame: def __init__(self, root): self.root = root self.root.title(äº”å­æ£‹ï¼ˆAIå¯¹æˆ˜-æ”»é˜²å…¼å¤‡ï¼‰) self.size = 15 self.cell_size = 30 self.canvas_width = self.size * self.cell_size self.canvas_height = self.size * self.cell_size # åˆå§‹åŒ–æ ¸å¿ƒç»„ä»¶ self.board_manager = BoardManager(self.size) self.q_agent = QLearningAgent(self.size) self.device = torch.device(cuda if torch.cuda.is_available() else cpu) self.model = self.load_model() self.game_running = False # åˆ›å»ºGUIç»„ä»¶ self.create_widgets() def create_widgets(self): åˆ›å»ºGUIç•Œé¢å…ƒç´  # æ£‹ç›˜ç”»å¸ƒ self.canvas = tk.Canvas( self.root, width=self.canvas_width, height=self.canvas_height, bg=#F0D9B5 ) self.canvas.pack(padx=10, pady=10) self.canvas.bind(Button-1, self.on_click) # ç»‘å®šé¼ æ ‡ç‚¹å‡»è½å­äº‹ä»¶ # æŒ‰é’®æ¡†æ¶ self.btn_frame = tk.Frame(self.root) self.btn_frame.pack(pady=5) # å¼€å§‹æ–°æ¸¸æˆæŒ‰é’® self.start_btn = tk.Button( self.btn_frame, text=å¼€å§‹æ–°æ¸¸æˆ, command=self.start_game, width=15 ) self.start_btn.grid(row=0, column=0, padx=5) # é‡ç½®æ£‹ç›˜æŒ‰é’® self.reset_btn = tk.Button( self.btn_frame, text=é‡ç½®æ£‹ç›˜, command=self.reset_game, width=15 ) self.reset_btn.grid(row=0, column=1, padx=5) # ç»˜åˆ¶åˆå§‹æ£‹ç›˜ self.draw_board() def draw_board(self): ç»˜åˆ¶æ£‹ç›˜ç½‘æ ¼ä¸æ˜Ÿä½ self.canvas.delete(all) # ç»˜åˆ¶æ¨ªçº¿ä¸ç«–çº¿ for i in range(self.size): # æ¨ªçº¿ self.canvas.create_line( self.cell_size // 2, self.cell_size // 2 + i * self.cell_size, self.canvas_width - self.cell_size // 2, self.cell_size // 2 + i * self.cell_size, fill=#000000 ) # ç«–çº¿ self.canvas.create_line( self.cell_size // 2 + i * self.cell_size, self.cell_size // 2, self.cell_size // 2 + i * self.cell_size, self.canvas_height - self.cell_size // 2, fill=#000000 ) # ç»˜åˆ¶æ˜Ÿä½ï¼ˆäº”å­æ£‹æ ‡å‡†æ˜Ÿä½ï¼‰ star_positions = [3, 7, 11] for x in star_positions: for y in star_positions: self.canvas.create_oval( self.cell_size // 2 + x * self.cell_size - 5, self.cell_size // 2 + y * self.cell_size - 5, self.cell_size // 2 + x * self.cell_size + 5, self.cell_size // 2 + y * self.cell_size + 5, fill=#000000 ) def draw_piece(self, x, y, player): ç»˜åˆ¶æ£‹å­ï¼ˆ1=é»‘æ£‹ï¼Œ2=ç™½æ£‹ï¼‰ center_x = self.cell_size // 2 + x * self.cell_size center_y = self.cell_size // 2 + y * self.cell_size radius = self.cell_size // 2 - 2 if player == 1: # ç©å®¶ï¼šé»‘æ£‹ self.canvas.create_oval( center_x - radius, center_y - radius, center_x + radius, center_y + radius, fill=#000000, outline=#000000 ) else: # AIï¼šç™½æ£‹ self.canvas.create_oval( center_x - radius, center_y - radius, center_x + radius, center_y + radius, fill=#FFFFFF, outline=#000000 ) def load_model(self): åŠ è½½è®­ç»ƒå¥½çš„äº”å­æ£‹æ¨¡å‹ model = GomokuModel().to(self.device) try: model.load_state_dict(torch.load(gomoku_model.pth, map_location=self.device)) model.eval() # åˆ‡æ¢ä¸ºè¯„ä¼°æ¨¡å¼ï¼ˆå…³é—­Dropoutï¼‰ messagebox.showinfo(æ¨¡å‹åŠ è½½, æˆåŠŸåŠ è½½è®­ç»ƒå¥½çš„äº”å­æ£‹æ¨¡å‹ï¼) except FileNotFoundError: messagebox.showwarning(æ¨¡å‹åŠ è½½, æœªæ‰¾åˆ° gomoku_model.pthï¼ŒAIå°†ä½¿ç”¨ç­–ç•¥è½å­ï¼) model = None except RuntimeError as e: messagebox.showerror(æ¨¡å‹åŠ è½½å¤±è´¥, fæ¨¡å‹ç»“æ„ä¸åŒ¹é…ï¼šstr(e)) model = None return model def ai_choose_action(self): AIè½å­é€»è¾‘ï¼šé˜²è‡´å‘½ è¿½è·èƒœ åŸºç¡€ç­–ç•¥ # ç¬¬ä¸€æ­¥ï¼šä¼˜å…ˆå µå¯¹æ‰‹4è¿ï¼ˆä¿å‘½ï¼‰ opponent_four_threat = self.board_manager.check_opponent_threat() if opponent_four_threat is not None: x, y = opponent_four_threat if self.board_manager.board[x, y] == 0: return x, y # ç¬¬äºŒæ­¥ï¼šä¼˜å…ˆè¡¥è‡ªå·±4è¿ï¼ˆå†²5è·èƒœï¼‰ ai_four_advantage = self.board_manager.check_ai_advantage() if ai_four_advantage is not None: x, y = ai_four_advantage if self.board_manager.board[x, y] == 0: return x, y # ç¬¬ä¸‰æ­¥ï¼šå µå¯¹æ‰‹3è¿ï¼ˆé˜²å¨èƒï¼‰ opponent_three_threat = self.board_manager.check_opponent_threat() if opponent_three_threat is not None and opponent_three_threat != opponent_four_threat: x, y = opponent_three_threat if self.board_manager.board[x, y] == 0: return x, y # ç¬¬å››æ­¥ï¼šè¡¥è‡ªå·±3è¿ï¼ˆé€ å¨èƒï¼‰ ai_three_advantage = self.board_manager.check_ai_advantage() if ai_three_advantage is not None and ai_three_advantage != ai_four_advantage: x, y = ai_three_advantage if self.board_manager.board[x, y] == 0: return x, y # ç¬¬äº”æ­¥ï¼šæ¨¡å‹+Q-Learningå†³ç­–ï¼ˆæ— æ”»é˜²å¨èƒæ—¶ï¼‰ valid_positions = np.argwhere(self.board_manager.board == 0) if len(valid_positions) == 0: return None, None valid_actions = [x * self.size + y for (x, y) in valid_positions] if self.model is not None: with torch.no_grad(): # å…³é—­æ¢¯åº¦è®¡ç®—ï¼Œæå‡æ¨ç†é€Ÿåº¦ input_tensor = self.board_manager.get_model_input().to(self.device) model_output = self.model(input_tensor).squeeze().cpu().numpy() best_action_idx = self.q_agent.choose_action(model_output, valid_actions) x = best_action_idx // self.size y = best_action_idx % self.size else: # æ— æ¨¡å‹ï¼šéšæœºé€‰æ‹©åˆæ³•ä½ç½® x, y = valid_positions[np.random.randint(0, len(valid_positions))] return x, y def on_click(self, event): é¼ æ ‡ç‚¹å‡»äº‹ä»¶ï¼ˆç©å®¶è½å­ï¼‰ if not self.game_running: return # è½¬æ¢é¼ æ ‡åæ ‡ä¸ºæ£‹ç›˜åæ ‡ x = int((event.x - self.cell_size // 2) // self.cell_size) y = int((event.y - self.cell_size // 2) // self.cell_size) # éªŒè¯å¹¶æ›´æ–°ç©å®¶è½å­ if 0 = x self.size and 0 = y self.size and self.board_manager.board[x, y] == 0: self.board_manager.update_board(x, y, 1) self.draw_piece(x, y, 1) # åˆ¤æ–­ç©å®¶æ˜¯å¦è·èƒœ if self.board_manager.is_win(x, y, 1): messagebox.showinfo(æ¸¸æˆç»“æŸ, æ­å–œä½ ï¼è·èƒœäº†ï¼) self.game_running = False return # AIè½å­ï¼ˆåŒ…å«æ”»é˜²å…œåº•ç­–ç•¥ï¼‰ ai_x, ai_y = self.ai_choose_action() if ai_x is not None and ai_y is not None: self.board_manager.update_board(ai_x, ai_y, 2) self.draw_piece(ai_x, ai_y, 2) # åˆ¤æ–­AIæ˜¯å¦è·èƒœ if self.board_manager.is_win(ai_x, ai_y, 2): messagebox.showinfo(æ¸¸æˆç»“æŸ, AIè·èƒœï¼å†è¯•ä¸€æ¬¡å§ï¼) self.game_running = False return def start_game(self): å¼€å§‹æ–°æ¸¸æˆ self.reset_game() self.game_running = True messagebox.showinfo(æ¸¸æˆå¼€å§‹, AIä¼šä¼˜å…ˆå µä½ çš„3è¿/4è¿ï¼Œä¹Ÿä¼šä¼˜å…ˆè¡¥è‡ªå·±çš„3è¿/4è¿å†²5è·èƒœï¼) def reset_game(self): é‡ç½®æ¸¸æˆ self.board_manager.reset() self.draw_board() self.game_running = False # ---------------------- 5. ç¨‹åºå…¥å£ ---------------------- if __name__ == __main__: root = tk.Tk() game = GomokuGame(root) root.mainloop()","categories":["ç¼–ç¨‹"]},{"title":"åŸºäºè½»é‡åŒ–CNNå®ç°è‡ªåŠ¨é©¾é©¶æ–¹å‘é¢„æµ‹","path":"/posts/105e3bfd/","content":"åŸºäºè½»é‡åŒ–CNNå®ç°è‡ªåŠ¨é©¾é©¶æ–¹å‘é¢„æµ‹åœ¨æ·±åº¦å­¦ä¹ è®¡ç®—æœºè§†è§‰é¢†åŸŸï¼ŒCNNï¼ˆå·ç§¯ç¥ç»ç½‘ç»œï¼‰å‡­å€Ÿå¼ºå¤§çš„ç©ºé—´ç‰¹å¾æå–èƒ½åŠ›ï¼Œæˆä¸ºè‡ªåŠ¨é©¾é©¶ç¯å¢ƒæ„ŸçŸ¥ä»»åŠ¡çš„æ ¸å¿ƒæŠ€æœ¯æ”¯æ’‘ã€‚çœŸå®è‡ªåŠ¨é©¾é©¶åœºæ™¯å¤æ‚ä¸”æ•°æ®è·å–æˆæœ¬é«˜ï¼Œå¯¹äºæ–°æ‰‹è€Œè¨€ï¼Œå¾ˆéš¾å¿«é€Ÿä¸Šæ‰‹å¹¶éªŒè¯æ¨¡å‹æ•ˆæœã€‚ æœ¬æ¬¡æˆ‘ä»¬å°†é€šè¿‡æè‡´ç®€åŒ–ä½†è´´åˆæ ¸å¿ƒé€»è¾‘çš„åœºæ™¯ï¼Œä»é›¶æ­å»ºä¸€ä¸ªè½»é‡åŒ–CNNæ¨¡å‹ï¼Œå®ç°ã€Œè½¦è¾†å§¿æ€è‡ªé€‚åº”ï¼ˆçºµå‘æ¨ªå‘åˆ‡æ¢ï¼‰+ è½¦å¤´ä¸è¡Œé©¶æ–¹å‘å¼ºç»‘å®šã€çš„è‡ªåŠ¨é©¾é©¶æ–¹å‘é¢„æµ‹ï¼Œå…¨ç¨‹ä»£ç å¯å¤ç°ã€æ— ç¯å¢ƒå‘ï¼Œæœ€ç»ˆè¾¾æˆæµ‹è¯•é›†99.2%çš„é«˜å‡†ç¡®ç‡ï¼Œå¸®ä½ å¿«é€Ÿæ‰“é€šã€Œæ•°æ®ç”Ÿæˆâ†’æ¨¡å‹æ­å»ºâ†’è®­ç»ƒè¯„ä¼°ã€çš„æ·±åº¦å­¦ä¹ å®æˆ˜é—­ç¯ã€‚ ä¸€ã€é¡¹ç›®æ ¸å¿ƒèƒŒæ™¯ä¸ç›®æ ‡1. é¡¹ç›®èƒŒæ™¯è‡ªåŠ¨é©¾é©¶çš„æ ¸å¿ƒæµç¨‹å¯æ‹†è§£ä¸ºã€Œç¯å¢ƒæ„ŸçŸ¥â†’å†³ç­–è§„åˆ’â†’æ‰§è¡Œæ§åˆ¶ã€ï¼Œå…¶ä¸­ç¯å¢ƒæ„ŸçŸ¥æ˜¯åŸºç¡€â€”â€”è½¦è¾†éœ€è¦é€šè¿‡æ‘„åƒå¤´ã€æ¿€å…‰é›·è¾¾ç­‰è®¾å¤‡è·å–è‡ªèº«ä¸ç¯å¢ƒçš„ç›¸å¯¹ä½ç½®ï¼Œå†é€šè¿‡æ¨¡å‹è¾“å‡ºæœ€ä¼˜è¡Œé©¶ç­–ç•¥ã€‚çœŸå®åœºæ™¯ä¸­ï¼Œè½¦è¾†å§¿æ€ã€é“è·¯ç¯å¢ƒã€éšœç¢ç‰©ã€å…‰ç…§å˜åŒ–ç­‰å› ç´ éƒ½ä¼šå¢åŠ æ¨¡å‹å­¦ä¹ éš¾åº¦ï¼Œç”šè‡³å¯¼è‡´æ•°æ®æ ‡æ³¨æˆæœ¬æ¿€å¢ï¼ˆéœ€äººå·¥æ ‡æ³¨å¤§é‡è½¦è¾†ä½ç½®ã€è¡Œé©¶æ–¹å‘æ ·æœ¬ï¼‰ã€‚ ä¸ºé™ä½å®æˆ˜é—¨æ§›ï¼ŒåŒæ—¶ä¿ç•™æ ¸å¿ƒé€»è¾‘ï¼Œæœ¬æ¬¡é¡¹ç›®åšäº†é’ˆå¯¹æ€§ç®€åŒ–è®¾è®¡ï¼Œèšç„¦ã€Œè½¦è¾†ä½ç½®â†’è¡Œé©¶æ–¹å‘ã€çš„æ˜ å°„å…³ç³»ï¼Œå‰¥ç¦»æ— å…³å¹²æ‰°ï¼š ç¯å¢ƒç®€åŒ–ï¼šç”¨ã€Œ32Ã—32é»‘ç™½æ–¹æ ¼å›¾ã€æ¨¡æ‹Ÿå¹³å¦æ— éšœç¢ç‰©çš„è¡Œé©¶é“è·¯ï¼Œæ–¹æ ¼çº¿æ¸…æ™°å¯è¾¨ï¼Œä¾¿äºæ¨¡å‹æ•æ‰è½¦è¾†ä¸ç¯å¢ƒçš„ç›¸å¯¹ä½ç½®ï¼› è½¦è¾†ç®€åŒ–ï¼šç”¨ã€Œè‡ªé€‚åº”å§¿æ€é•¿æ–¹ä½“ã€æ¨¡æ‹Ÿè½¦è¾†ï¼Œé¿å…å¤æ‚è½¦è¾†è½®å»“å»ºæ¨¡ï¼ŒåŒæ—¶æ”¯æŒå§¿æ€åˆ‡æ¢ï¼ˆä¸Šä¸‹è¡Œé©¶çºµæ”¾ã€å·¦å³è¡Œé©¶æ¨ªæ”¾ï¼‰ï¼Œè´´åˆçœŸå®è½¦è¾†è¡Œé©¶é€»è¾‘ï¼› æ–¹å‘æ ‡è®°ï¼šç”¨ã€Œå†…ç½®æ·±ç°è‰²å°æ–¹å—ã€æ ‡è®°è½¦å¤´ï¼Œä¸é»‘è‰²è½¦èº«å½¢æˆæ˜æ˜¾è§†è§‰åŒºåˆ†ï¼Œä¸”è½¦å¤´æ–¹å‘ç›´æ¥å¯¹åº”è½¦è¾†è¡Œé©¶æ–¹å‘ï¼Œé¿å…æ–¹å‘æ­§ä¹‰ï¼› æ ‡æ³¨ç®€åŒ–ï¼šé€šè¿‡ä»£ç è‡ªåŠ¨ç”Ÿæˆæ ‡æ³¨æ•°æ®ï¼Œæ— éœ€äººå·¥æ ‡æ³¨ï¼Œé™ä½å®æˆ˜æˆæœ¬ï¼ŒåŒæ—¶ä¿è¯æ•°æ®æ ‡æ³¨çš„å‡†ç¡®æ€§å’Œä¸€è‡´æ€§ã€‚ é€šè¿‡ä»¥ä¸Šç®€åŒ–ï¼Œæˆ‘ä»¬å¯ä¸“æ³¨äºç†è§£CNNçš„ç©ºé—´ç‰¹å¾æå–é€»è¾‘ã€æ•°æ®é›†ç”ŸæˆåŸç†ã€æ¨¡å‹è®­ç»ƒä¸ä¼˜åŒ–æµç¨‹ï¼Œä¸ºåç»­å­¦ä¹ å¤æ‚è‡ªåŠ¨é©¾é©¶åœºæ™¯æ‰“ä¸‹åšå®åŸºç¡€ã€‚ 2. æ ¸å¿ƒç›®æ ‡ å®ç°è½¦è¾†å§¿æ€è‡ªé€‚åº”ç”Ÿæˆï¼šæ ¹æ®è½¦è¾†è¡Œé©¶æ–¹å‘ï¼ˆä¸Šä¸‹å·¦å³ï¼‰è‡ªåŠ¨åˆ‡æ¢è½¦èº«å§¿æ€ï¼Œä¸Šä¸‹è¡Œé©¶æ—¶çºµæ”¾ï¼ˆå°ºå¯¸8Ã—4ï¼‰ã€å·¦å³è¡Œé©¶æ—¶æ¨ªæ”¾ï¼ˆå°ºå¯¸4Ã—8ï¼‰ï¼Œä¿è¯è§†è§‰åˆç†æ€§ä¸çœŸå®è¡Œé©¶é€»è¾‘ä¸€è‡´ï¼› å®Œæˆè½¦å¤´ä¸è¡Œé©¶æ–¹å‘å¼ºç»‘å®šï¼šè½¦å¤´æœå‘ç›´æ¥å†³å®šè½¦è¾†å¯è¡Œé©¶èŒƒå›´ï¼Œæ¨¡å‹ä»…è¾“å‡ºã€Œè½¦å¤´æ–¹å‘ã€æˆ–ã€Œç›´è¡Œã€ä¸¤ç§ç»“æœï¼Œæ— è·¨æ–¹å‘ã€ä¸åˆç†çš„é¢„æµ‹è¾“å‡ºï¼Œè´´åˆçœŸå®é©¾é©¶å†³ç­–é€»è¾‘ï¼› æ„å»ºè‡ªåŠ¨åŒ–æ•°æ®é›†ç”Ÿæˆæµç¨‹ï¼šé€šè¿‡ä»£ç éšæœºç”ŸæˆæŒ‡å®šæ•°é‡ï¼ˆ5000å¼ ï¼‰çš„æ ·æœ¬å›¾ï¼Œè‡ªåŠ¨å®Œæˆç¯å¢ƒã€è½¦è¾†ã€è½¦å¤´çš„ç»˜åˆ¶åŠæ–¹å‘æ ‡ç­¾æ ‡æ³¨ï¼Œä¿è¯æ•°æ®é›†çš„ç»“æ„åŒ–ä¸å¯å¤ç°æ€§ï¼› æ­å»ºè½»é‡åŒ–CNNæ¨¡å‹å¹¶æŒæ¡å…¶è®¾è®¡é€»è¾‘ï¼šç†è§£å·ç§¯å±‚ã€æ± åŒ–å±‚ã€å…¨è¿æ¥å±‚çš„ä½œç”¨ï¼ŒæŒæ¡å‚æ•°è®¾ç½®ï¼ˆæ»¤æ³¢å™¨æ•°é‡ã€ kernelå°ºå¯¸ã€ dropoutæ¯”ä¾‹ç­‰ï¼‰çš„è®¾è®¡è€ƒé‡ï¼Œå®ç°æ¨¡å‹è½»é‡åŒ–ï¼ˆä½å‚æ•°ã€å¿«è®­ç»ƒï¼‰ï¼› å®Œæˆæ¨¡å‹è®­ç»ƒã€ä¼˜åŒ–ä¸å…¨é¢è¯„ä¼°ï¼šæŒæ¡æ¨¡å‹ç¼–è¯‘ã€è®­ç»ƒå›è°ƒå‡½æ•°çš„ä½¿ç”¨ï¼Œé€šè¿‡æµ‹è¯•é›†éªŒè¯æ¨¡å‹æ•ˆæœï¼Œåˆ†æè®­ç»ƒæ›²çº¿ï¼Œè¾¾æˆé«˜å‡†ç¡®ç‡ï¼ˆâ‰¥99%ï¼‰ï¼Œå½¢æˆå®Œæ•´çš„æ·±åº¦å­¦ä¹ å®æˆ˜é—­ç¯ã€‚ äºŒã€å‰æœŸå‡†å¤‡1. ç¯å¢ƒé…ç½®æœ¬æ¬¡é¡¹ç›®é‡‡ç”¨ã€ŒPython 3.11 + TensorFlow 2.20.0ã€ç»„åˆï¼Œè¯¥ç»„åˆå…¼å®¹æ€§å¼ºã€ç¨³å®šæ€§é«˜ï¼Œå¯æœ‰æ•ˆé¿å…æ–°ç‰ˆPythonä¸TensorFlowçš„é€‚é…é—®é¢˜ï¼Œæ ¸å¿ƒä¾èµ–åº“åŠä½œç”¨å¦‚ä¸‹ï¼ˆæ˜ç¡®æ¯ä¸€æ­¥ä¾èµ–çš„å¿…è¦æ€§ï¼Œä¾¿äºæ–°æ‰‹ç†è§£ï¼‰ï¼š tensorflow==2.20.0ï¼šæ ¸å¿ƒæ¡†æ¶ï¼Œç”¨äºæ­å»ºã€ç¼–è¯‘ã€è®­ç»ƒè½»é‡åŒ–CNNæ¨¡å‹ï¼Œæä¾›ä¸°å¯Œçš„ç¥ç»ç½‘ç»œå±‚ï¼ˆå·ç§¯å±‚ã€æ± åŒ–å±‚ç­‰ï¼‰ä¸å›è°ƒå‡½æ•°ï¼Œç®€åŒ–æ¨¡å‹å¼€å‘æµç¨‹ï¼› numpyï¼šç”¨äºæ•°æ®å¤„ç†ä¸çŸ©é˜µè¿ç®—ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯å°†ç”Ÿæˆçš„å›¾åƒè½¬æ¢ä¸ºæ•°ç»„æ ¼å¼ã€å¤„ç†æ•°æ®ç»´åº¦ï¼ˆå¦‚å¢åŠ é€šé“ç»´åº¦ï¼‰ã€ç”Ÿæˆéšæœºåæ ‡ç­‰ï¼Œæ˜¯æ·±åº¦å­¦ä¹ æ•°æ®å¤„ç†çš„åŸºç¡€ï¼› opencv-pythonï¼šç”¨äºå›¾åƒç»˜åˆ¶ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯ç»˜åˆ¶æ–¹æ ¼èƒŒæ™¯ã€è‡ªé€‚åº”å§¿æ€è½¦è¾†ã€æ·±ç°è‰²è½¦å¤´ï¼Œå®ç°æ ·æœ¬å›¾çš„å¯è§†åŒ–ç”Ÿæˆï¼Œæ— éœ€æ‰‹åŠ¨åˆ¶ä½œå›¾åƒï¼› matplotlibï¼šç”¨äºç»“æœå¯è§†åŒ–ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯ç»˜åˆ¶è®­ç»ƒæŸå¤±å‡†ç¡®ç‡æ›²çº¿ã€å±•ç¤ºæ ·æœ¬éªŒè¯å›¾ï¼Œä¾¿äºåˆ†ææ¨¡å‹è®­ç»ƒæ•ˆæœä¸æ•°æ®ç”Ÿæˆè´¨é‡ï¼› scikit-learnï¼šç”¨äºæ•°æ®é›†åˆ’åˆ†ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯å°†ç”Ÿæˆçš„æ ·æœ¬æŒ‰7:2:1çš„æ¯”ä¾‹åˆ’åˆ†ä¸ºè®­ç»ƒé›†ã€éªŒè¯é›†ã€æµ‹è¯•é›†ï¼Œç¡®ä¿æ¨¡å‹è®­ç»ƒã€ä¼˜åŒ–ã€è¯„ä¼°çš„ç‹¬ç«‹æ€§ï¼Œé¿å…æ•°æ®æ³„éœ²ã€‚ ç¯å¢ƒæ­å»ºæ­¥éª¤ å®‰è£…Python 3.11ï¼šé¿å…å®‰è£…Python 3.12åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œæ­¤ç±»æ–°ç‰ˆæœ¬ä¸TensorFlow 2.20.0å­˜åœ¨é€‚é…é—®é¢˜ï¼Œå¯èƒ½å¯¼è‡´ä¾èµ–åº“å®‰è£…å¤±è´¥æˆ–æ¨¡å‹è®­ç»ƒæŠ¥é”™ï¼› æ–°å»ºè™šæ‹Ÿç¯å¢ƒå¹¶æ¿€æ´»ï¼šè™šæ‹Ÿç¯å¢ƒå¯éš”ç¦»ä¸åŒé¡¹ç›®çš„ä¾èµ–åº“ï¼Œé¿å…å› ä¾èµ–ç‰ˆæœ¬å†²çªå¯¼è‡´é¡¹ç›®æ— æ³•è¿è¡Œï¼Œå»ºè®®ä½¿ç”¨condaæˆ–venvåˆ›å»ºï¼ˆæ–°æ‰‹æ¨èvenvï¼Œæ“ä½œç®€å•ï¼‰ï¼›ã€‚ 2. æ ¸å¿ƒæ€è·¯æ¢³ç†ï¼ˆè¯¦ç»†æ‹†è§£ï¼Œé—­ç¯é€»è¾‘ï¼‰ï¼šTextæ•°æ®è‡ªåŠ¨ç”Ÿæˆï¼ˆç¯å¢ƒ+è½¦è¾†+è½¦å¤´+æ ‡ç­¾ï¼‰â†’ æ•°æ®é¢„å¤„ç†ï¼ˆæ ¼å¼è½¬æ¢+one-hotç¼–ç ï¼‰â†’ æ•°æ®é›†åˆ’åˆ† â†’ è½»é‡åŒ–CNNæ¨¡å‹æ­å»º â†’ æ¨¡å‹ç¼–è¯‘ä¸è®­ç»ƒï¼ˆæ·»åŠ å›è°ƒä¼˜åŒ–ï¼‰â†’ æ¨¡å‹è¯„ä¼°ï¼ˆæµ‹è¯•é›†éªŒè¯ï¼‰â†’ ç»“æœå¯è§†åŒ–ï¼ˆæ ·æœ¬+è®­ç»ƒæ›²çº¿ï¼‰ é€æ­¥éª¤è¯¦ç»†è§£è¯»æ ¸å¿ƒæ€è·¯ï¼š æ•°æ®è‡ªåŠ¨ç”Ÿæˆï¼šè¿™æ˜¯æœ¬æ¬¡é¡¹ç›®çš„åŸºç¡€çš„æ ¸å¿ƒæ­¥éª¤ï¼Œä¹Ÿæ˜¯é™ä½å®æˆ˜é—¨æ§›çš„å…³é”®ã€‚é€šè¿‡ç¼–å†™ä¸“é—¨çš„å‡½æ•°ï¼Œè‡ªåŠ¨å®Œæˆâ€œæ–¹æ ¼èƒŒæ™¯ç»˜åˆ¶â†’è½¦è¾†å§¿æ€åˆ‡æ¢â†’è½¦å¤´ç»˜åˆ¶â†’æ–¹å‘æ ‡ç­¾æ ‡æ³¨â€ï¼Œæ— éœ€äººå·¥å¹²é¢„ï¼Œæ—¢ä¿è¯æ•°æ®è´¨é‡ï¼Œåˆæå‡æ•ˆç‡ã€‚æ ¸å¿ƒè®¾è®¡é€»è¾‘æ˜¯â€œå§¿æ€ä¸æ–¹å‘ç»‘å®šâ€â€”â€”ä¸Šä¸‹è¡Œé©¶å¯¹åº”çºµå‘è½¦è¾†ï¼Œå·¦å³è¡Œé©¶å¯¹åº”æ¨ªå‘è½¦è¾†ï¼Œè½¦å¤´æ–¹å‘ç›´æ¥å†³å®šæ ‡ç­¾åˆ¤æ–­ç»´åº¦ï¼ˆçºµå‘è½¦è¾†åˆ¤æ–­çºµå‘åç§»ï¼Œæ¨ªå‘è½¦è¾†åˆ¤æ–­æ¨ªå‘åç§»ï¼‰ï¼› æ•°æ®é¢„å¤„ç†ï¼šç”Ÿæˆçš„åŸå§‹æ•°æ®ï¼ˆå›¾åƒã€æ ‡ç­¾ï¼‰æ— æ³•ç›´æ¥è¾“å…¥CNNæ¨¡å‹ï¼Œéœ€è¿›è¡Œä¸¤é¡¹å…³é”®å¤„ç†ï¼šä¸€æ˜¯æ ¼å¼è½¬æ¢ï¼ˆå°†å›¾åƒåˆ—è¡¨è½¬æ¢ä¸ºnumpyæ•°ç»„ï¼Œå¹¶å¢åŠ é€šé“ç»´åº¦ï¼Œé€‚é…CNNå•é€šé“ç°åº¦å›¾è¾“å…¥æ ¼å¼ï¼‰ï¼›äºŒæ˜¯æ ‡ç­¾one-hotç¼–ç ï¼ˆå°†æ•´æ•°æ ‡ç­¾è½¬æ¢ä¸ºone-hotå‘é‡ï¼Œé€‚é…å¤šåˆ†ç±»äº¤å‰ç†µæŸå¤±å‡½æ•°ï¼Œé¿å…æ ‡ç­¾æƒé‡ä¸å‡å¯¼è‡´çš„è®­ç»ƒåå·®ï¼‰ï¼› æ•°æ®é›†åˆ’åˆ†ï¼šæŒ‰7:2:1çš„æ¯”ä¾‹åˆ’åˆ†ä¸ºè®­ç»ƒé›†ã€éªŒè¯é›†ã€æµ‹è¯•é›†ï¼Œä¸‰è€…ä½œç”¨æ˜ç¡®ä¸”ç‹¬ç«‹ï¼šè®­ç»ƒé›†ç”¨äºæ¨¡å‹å­¦ä¹ æ•°æ®è§„å¾‹ï¼ˆè½¦è¾†ä½ç½®ä¸æ–¹å‘çš„æ˜ å°„ï¼‰ï¼›éªŒè¯é›†ç”¨äºè®­ç»ƒè¿‡ç¨‹ä¸­ä¼˜åŒ–æ¨¡å‹ï¼ˆè°ƒæ•´æƒé‡ã€é¿å…è¿‡æ‹Ÿåˆï¼‰ï¼›æµ‹è¯•é›†ç”¨äºæœ€ç»ˆè¯„ä¼°æ¨¡å‹æ³›åŒ–èƒ½åŠ›ï¼ˆæœªè§è¿‡çš„æ•°æ®ä¸Šçš„è¡¨ç°ï¼‰ï¼Œç¡®ä¿è¯„ä¼°ç»“æœçœŸå®å¯é ï¼› è½»é‡åŒ–CNNæ¨¡å‹æ­å»ºï¼šæ ¸å¿ƒè®¾è®¡åŸåˆ™æ˜¯â€œè½»é‡åŒ–ã€é«˜æ•ˆæœâ€ï¼Œé¿å…å¤æ‚ç»“æ„å¯¼è‡´çš„è®­ç»ƒç¼“æ…¢ï¼ˆæ™®é€šCPUå¯å¿«é€Ÿè¿è¡Œï¼‰ã€‚æ­å»º3å±‚å·ç§¯å±‚ï¼ˆé€æ­¥æå–ç©ºé—´ç‰¹å¾ï¼‰+ 2å±‚å…¨è¿æ¥å±‚ï¼ˆåˆ†ç±»å†³ç­–ï¼‰ï¼Œé…åˆæ‰¹é‡å½’ä¸€åŒ–ï¼ˆåŠ é€Ÿæ”¶æ•›ï¼‰ã€æœ€å¤§æ± åŒ–ï¼ˆé™ä½ç»´åº¦ã€å‡å°‘è®¡ç®—é‡ï¼‰ã€dropoutï¼ˆé˜²æ­¢è¿‡æ‹Ÿåˆï¼‰ï¼Œå¹³è¡¡ç‰¹å¾æå–èƒ½åŠ›ä¸è®­ç»ƒæ•ˆç‡ï¼› æ¨¡å‹ç¼–è¯‘ä¸è®­ç»ƒï¼šç¼–è¯‘æ—¶é€‰æ‹©åˆé€‚çš„ä¼˜åŒ–å™¨ã€æŸå¤±å‡½æ•°ã€è¯„ä¼°æŒ‡æ ‡â€”â€”Adamä¼˜åŒ–å™¨ï¼ˆæ”¶æ•›ç¨³å®šã€å­¦ä¹ ç‡è‡ªé€‚åº”ï¼Œé€‚åˆæ–°æ‰‹ä½¿ç”¨ï¼‰ã€å¤šåˆ†ç±»äº¤å‰ç†µæŸå¤±ï¼ˆé€‚é…one-hotæ ‡ç­¾å¤šåˆ†ç±»ä»»åŠ¡ï¼‰ã€å‡†ç¡®ç‡ï¼ˆç›´è§‚è¯„ä¼°æ¨¡å‹åˆ†ç±»æ•ˆæœï¼‰ã€‚è®­ç»ƒæ—¶æ·»åŠ å›è°ƒå‡½æ•°ï¼ˆæ—©åœæ³•ã€æ¨¡å‹ä¿å­˜ï¼‰ï¼Œä¼˜åŒ–è®­ç»ƒè¿‡ç¨‹ï¼šæ—©åœæ³•é¿å…æ— æ•ˆè®­ç»ƒï¼ˆéªŒè¯é›†æŸå¤±10è½®ä¸ä¸‹é™åˆ™åœæ­¢ï¼‰ï¼Œæ¨¡å‹ä¿å­˜è‡ªåŠ¨ç•™å­˜æœ€ä¼˜æ¨¡å‹ï¼Œæ— éœ€æ‰‹åŠ¨è®°å½•ï¼› æ¨¡å‹è¯„ä¼°ï¼šç”¨æµ‹è¯•é›†å¯¹è®­ç»ƒå¥½çš„æ¨¡å‹è¿›è¡Œè¯„ä¼°ï¼Œè¾“å‡ºæµ‹è¯•é›†æŸå¤±ä¸å‡†ç¡®ç‡ï¼Œæ ¸å¿ƒåˆ¤æ–­æ ‡å‡†æ˜¯â€œæŸå¤±ä½ã€å‡†ç¡®ç‡é«˜â€ï¼Œä¸”æµ‹è¯•é›†å‡†ç¡®ç‡ä¸è®­ç»ƒé›†ã€éªŒè¯é›†å‡†ç¡®ç‡å·®è·è¾ƒå°ï¼Œè¯´æ˜æ¨¡å‹æ— è¿‡æ‹Ÿåˆã€æ³›åŒ–èƒ½åŠ›å¼ºï¼› ç»“æœå¯è§†åŒ–ï¼šé€šè¿‡ä¸¤ç§å¯è§†åŒ–æ–¹å¼éªŒè¯é¡¹ç›®æ•ˆæœï¼šä¸€æ˜¯æ ·æœ¬éªŒè¯å›¾ï¼ˆå±•ç¤º5å¼ éšæœºæ ·æœ¬ï¼Œç›´è§‚æŸ¥çœ‹è½¦è¾†å§¿æ€ã€è½¦å¤´æ–¹å‘ã€æ ‡ç­¾çš„ç»‘å®šæ•ˆæœï¼Œç¡®è®¤æ•°æ®ç”Ÿæˆæ— è¯¯ï¼‰ï¼›äºŒæ˜¯è®­ç»ƒæ›²çº¿ï¼ˆæŸå¤±æ›²çº¿ã€å‡†ç¡®ç‡æ›²çº¿ï¼Œåˆ†æè®­ç»ƒè¶‹åŠ¿ï¼Œåˆ¤æ–­æ¨¡å‹æ˜¯å¦æ”¶æ•›ã€æ˜¯å¦è¿‡æ‹Ÿåˆï¼‰ã€‚ ä¸‰ã€å®ç°æ€è·¯1. æ ¸å¿ƒå‚æ•°é…ç½®ï¼ˆæ”¯æŒè½¦è¾†å§¿æ€åˆ‡æ¢ï¼Œå¯å¤ç°æ€§è®¾è®¡ï¼‰å‚æ•°é…ç½®æ˜¯é¡¹ç›®å¯å¤ç°ã€å¯é…ç½®çš„å…³é”®ï¼Œæ‰€æœ‰å‚æ•°å‡æœ‰æ˜ç¡®è®¾è®¡è€ƒé‡ï¼Œå¹¶ééšæ„è®¾ç½®ï¼Œæ ¸å¿ƒå‚æ•°åŠè¯¦ç»†è§£è¯»å¦‚ä¸‹ï¼ˆé‡ç‚¹è¯´æ˜å§¿æ€åˆ‡æ¢ç›¸å…³å‚æ•°ï¼‰ï¼š å›¾åƒå°ºå¯¸å‚æ•°ï¼ˆIMAGE_SIZE32ï¼‰ï¼šè®¾ç½®ä¸º32Ã—32ï¼Œæ ¸å¿ƒè€ƒé‡æ˜¯â€œè½»é‡åŒ–â€â€”â€”å‡å°å›¾åƒå°ºå¯¸å¯é™ä½CNNæ¨¡å‹çš„è®¡ç®—é‡ï¼Œè®©æ™®é€šCPUèƒ½å¿«é€Ÿè®­ç»ƒï¼ŒåŒæ—¶32Ã—32çš„å°ºå¯¸è¶³å¤Ÿå®¹çº³è½¦è¾†ï¼ˆ8Ã—4æˆ–4Ã—8ï¼‰ä¸æ–¹æ ¼èƒŒæ™¯ï¼Œé¿å…å›¾åƒè¿‡äºæ‹¥æŒ¤ï¼› è½¦è¾†å§¿æ€å‚æ•°ï¼ˆCAR_LONG8ã€CAR_SHORT4ï¼‰ï¼šè¿™æ˜¯è½¦è¾†å§¿æ€åˆ‡æ¢çš„æ ¸å¿ƒå‚æ•°ï¼Œè®¾è®¡é€»è¾‘æ˜¯â€œå§¿æ€ä¸æ–¹å‘åŒ¹é…â€â€”â€”ä¸Šä¸‹è¡Œé©¶æ—¶ï¼Œè½¦è¾†çºµå‘æ‘†æ”¾ï¼Œæ­¤æ—¶è½¦èº«çºµå‘é•¿åº¦ï¼ˆCAR_LONG8ï¼‰å¤§äºæ¨ªå‘å®½åº¦ï¼ˆCAR_SHORT4ï¼‰ï¼Œè´´åˆçœŸå®è½¦è¾†ä¸Šä¸‹è¡Œé©¶çš„è§†è§‰æ•ˆæœï¼›å·¦å³è¡Œé©¶æ—¶ï¼Œäº’æ¢ä¸¤ä¸ªå‚æ•°ï¼Œè½¦è¾†æ¨ªå‘æ‘†æ”¾ï¼ˆæ¨ªå‘é•¿åº¦8ã€çºµå‘å®½åº¦4ï¼‰ï¼Œç¡®ä¿å§¿æ€åˆç†ï¼› è½¦å¤´å‚æ•°ï¼ˆHEAD_SIZE2ï¼‰ï¼šè®¾ç½®ä¸º2Ã—2çš„å°æ–¹å—ï¼Œæ ¸å¿ƒè€ƒé‡æ˜¯â€œä¸è½¦èº«åŒºåˆ†ã€ä¸é®æŒ¡è½¦èº«â€â€”â€”2Ã—2çš„å°ºå¯¸è¶³å¤Ÿæ¸…æ™°æ ‡è®°è½¦å¤´æ–¹å‘ï¼ŒåŒæ—¶ä¸ä¼šè¿‡å¤§é®æŒ¡è½¦èº«ï¼ˆ8Ã—4æˆ–4Ã—8ï¼‰ï¼Œé¢œè‰²é€‰æ‹©æ·±ç°è‰²ï¼ˆä¸é»‘è‰²è½¦èº«åŒºåˆ†ï¼‰ï¼Œä¾¿äºæ¨¡å‹æ•æ‰è½¦å¤´ç‰¹å¾ï¼ˆè½¦å¤´æ–¹å‘æ˜¯æ ‡ç­¾åˆ¤æ–­çš„å…³é”®ï¼‰ï¼› åç§»é˜ˆå€¼ï¼ˆOFFSET8ï¼‰ï¼šç”¨äºåˆ¤æ–­è½¦è¾†æ˜¯å¦åç¦»èƒŒæ™¯ä¸­å¿ƒï¼Œè¿›è€Œç¡®å®šè¡Œé©¶æ–¹å‘æ ‡ç­¾ã€‚è®¾è®¡é€»è¾‘æ˜¯â€œèƒŒæ™¯ä¸­å¿ƒÂ±8åƒç´ â€ä½œä¸ºç›´è¡Œä¸è½¬å‘çš„åˆ†ç•Œï¼Œ32Ã—32å›¾åƒçš„ä¸­å¿ƒæ˜¯16åƒç´ ï¼Œåç§»è¶…è¿‡8åƒç´ ï¼ˆå³è½¦èº«ä¸­å¿ƒè¶…å‡º8-24åƒç´ èŒƒå›´ï¼‰ï¼Œåˆ™åˆ¤æ–­ä¸ºå¯¹åº”æ–¹å‘è¡Œé©¶ï¼Œå¦åˆ™ä¸ºç›´è¡Œï¼Œè¯¥é˜ˆå€¼ç»è¿‡å¤šæ¬¡æµ‹è¯•ï¼Œå¯ç¡®ä¿æ ‡ç­¾åˆ¤æ–­åˆç†ï¼Œæ— è¿‡å¤šæ­§ä¹‰æ ·æœ¬ï¼› å¯å¤ç°æ€§å‚æ•°ï¼ˆSEED42ï¼‰ï¼šå›ºå®šéšæœºç§å­ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯â€œç¡®ä¿æ¯æ¬¡è¿è¡Œä»£ç ï¼Œç”Ÿæˆçš„æ•°æ®é›†ã€æ¨¡å‹è®­ç»ƒç»“æœå®Œå…¨ä¸€è‡´â€â€”â€”é¿å…éšæœºå› ç´ ï¼ˆå¦‚éšæœºç”Ÿæˆè½¦è¾†åæ ‡ã€éšæœºåˆ’åˆ†æ•°æ®é›†ï¼‰å¯¼è‡´çš„ç»“æœæ³¢åŠ¨ï¼Œä¾¿äºæ–°æ‰‹å¤ç°é¡¹ç›®ã€è°ƒè¯•ä»£ç ï¼› æ•°æ®é›†ä¸è®­ç»ƒå‚æ•°ï¼ˆNUM_SAMPLES5000ã€EPOCHS20ã€BATCH_SIZE64ï¼‰ï¼š5000å¼ æ ·æœ¬è¶³å¤Ÿæ¨¡å‹å­¦ä¹ è§„å¾‹ï¼ˆé¿å…æ ·æœ¬è¿‡å°‘å¯¼è‡´è¿‡æ‹Ÿåˆï¼‰ï¼Œä¸”ä¸ä¼šè¿‡å¤šå ç”¨å†…å­˜ï¼›20è½®è®­ç»ƒå¯ç¡®ä¿æ¨¡å‹æ”¶æ•›ï¼ˆé…åˆæ—©åœæ³•ï¼Œæ— éœ€è®­ç»ƒæ»¡20è½®ï¼‰ï¼›64çš„æ‰¹æ¬¡å¤§å°é€‚é…æ™®é€šCPUï¼Œå¹³è¡¡è®­ç»ƒé€Ÿåº¦ä¸å†…å­˜å ç”¨ã€‚ æ­¤å¤–ï¼Œå®šä¹‰è¡Œé©¶æ–¹å‘æ ‡ç­¾ï¼ˆDIRECTIONSï¼‰ä¸è½¦å¤´æ–¹å‘ï¼ˆMOVE_DIRECTIONSï¼‰ï¼Œå»ºç«‹ä¸¤è€…çš„æ˜ å°„å…³ç³»ï¼Œç¡®ä¿æ ‡ç­¾ä¸è½¦å¤´æ–¹å‘ã€è½¦è¾†å§¿æ€å¼ºç»‘å®šï¼Œé¿å…æ–¹å‘æ­§ä¹‰ï¼ˆä»…è¾“å‡ºupã€downã€leftã€rightã€straightäº”ç§æ ‡ç­¾ï¼Œå¯¹åº”5åˆ†ç±»ä»»åŠ¡ï¼‰ã€‚ 2. æ ¸å¿ƒå‡½æ•°è®¾è®¡æ€è·¯ï¼ˆè½¦è¾†ç”Ÿæˆ+å§¿æ€åˆ‡æ¢+æ–¹å‘ç»‘å®šï¼‰æ ¸å¿ƒå‡½æ•°ï¼ˆcreate_car_imageï¼‰æ˜¯æ•°æ®è‡ªåŠ¨ç”Ÿæˆçš„æ ¸å¿ƒï¼Œè´Ÿè´£å•å¼ æ ·æœ¬å›¾çš„å®Œæ•´ç”Ÿæˆï¼Œå‡½æ•°å†…éƒ¨é€»è¾‘æ‹†è§£ä¸º4ä¸ªå…³é”®æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—çš„è®¾è®¡æ€è·¯ã€å®ç°é€»è¾‘è¯¦ç»†è¯´æ˜å¦‚ä¸‹ï¼š æ¨¡å—1ï¼šæ–¹æ ¼èƒŒæ™¯ç”Ÿæˆæ ¸å¿ƒç›®çš„æ˜¯æ¨¡æ‹Ÿå¹³å¦è¡Œé©¶é“è·¯ï¼Œä¾¿äºæ¨¡å‹æ•æ‰è½¦è¾†ä¸ç¯å¢ƒçš„ç›¸å¯¹ä½ç½®ã€‚è®¾è®¡æ€è·¯ï¼šé¦–å…ˆåˆå§‹åŒ–32Ã—32çš„ç™½è‰²èƒŒæ™¯ï¼ˆç°åº¦å›¾ï¼Œ255è¡¨ç¤ºç™½è‰²ï¼‰ï¼Œç„¶åç»˜åˆ¶8Ã—8çš„æ–¹æ ¼çº¿ï¼ˆé»‘è‰²ï¼Œçº¿å®½1ï¼‰â€”â€”æ–¹æ ¼æ­¥é•¿ä¸º4ï¼ˆ32Ã·84ï¼‰ï¼Œå³æ¯4ä¸ªåƒç´ ç»˜åˆ¶ä¸€æ¡æ¨ªå‘ã€çºµå‘çº¿ï¼Œå½¢æˆå‡åŒ€çš„æ–¹æ ¼ç½‘æ ¼ï¼Œæ¨¡æ‹ŸçœŸå®é“è·¯çš„åˆ†éš”æ•ˆæœï¼ŒåŒæ—¶æ–¹æ ¼çº¿å¯å¸®åŠ©æ¨¡å‹å®šä½è½¦è¾†ä½ç½®ï¼ˆåˆ¤æ–­è½¦è¾†ä¸­å¿ƒä¸èƒŒæ™¯ä¸­å¿ƒçš„åç§»ï¼‰ã€‚ æ¨¡å—2ï¼šè½¦è¾†å§¿æ€è‡ªé€‚åº”åˆ‡æ¢è¿™æ˜¯å‡½æ•°çš„æ ¸å¿ƒäº®ç‚¹ï¼Œè®¾è®¡æ€è·¯æ˜¯â€œè½¦å¤´æ–¹å‘å†³å®šè½¦è¾†å§¿æ€â€â€”â€”éšæœºé€‰æ‹©è½¦å¤´æ–¹å‘ï¼ˆupã€downã€leftã€rightï¼‰ï¼Œç„¶åæ ¹æ®è½¦å¤´æ–¹å‘åˆ‡æ¢è½¦èº«å°ºå¯¸ä¸æ‘†æ”¾å§¿æ€ï¼š è½¦å¤´æ–¹å‘ä¸ºupã€downï¼ˆä¸Šä¸‹è¡Œé©¶ï¼‰ï¼šè½¦è¾†çºµå‘æ‘†æ”¾ï¼Œè½¦èº«é«˜åº¦CAR_LONGï¼ˆ8ï¼‰ï¼Œè½¦èº«å®½åº¦CAR_SHORTï¼ˆ4ï¼‰ï¼Œç¡®ä¿çºµå‘é•¿åº¦å¤§äºæ¨ªå‘å®½åº¦ï¼Œè´´åˆä¸Šä¸‹è¡Œé©¶çš„è§†è§‰é€»è¾‘ï¼› è½¦å¤´æ–¹å‘ä¸ºleftã€rightï¼ˆå·¦å³è¡Œé©¶ï¼‰ï¼šè½¦è¾†æ¨ªå‘æ‘†æ”¾ï¼Œè½¦èº«é«˜åº¦CAR_SHORTï¼ˆ4ï¼‰ï¼Œè½¦èº«å®½åº¦CAR_LONGï¼ˆ8ï¼‰ï¼Œäº’æ¢å°ºå¯¸ï¼Œç¡®ä¿æ¨ªå‘é•¿åº¦å¤§äºçºµå‘å®½åº¦ï¼Œè´´åˆå·¦å³è¡Œé©¶çš„è§†è§‰é€»è¾‘ã€‚ åŒæ—¶ï¼Œéšæœºç”Ÿæˆè½¦èº«å·¦ä¸Šè§’åæ ‡ï¼Œæ ¸å¿ƒçº¦æŸæ˜¯â€œè½¦èº«å®Œå…¨åœ¨èƒŒæ™¯å†…ï¼Œä¸æˆªæ–­â€â€”â€”åæ ‡èŒƒå›´ä¸ºï¼ˆ0IMAGE_SIZE - è½¦èº«å®½åº¦ï¼Œ0IMAGE_SIZE - è½¦èº«é«˜åº¦ï¼‰ï¼Œé¿å…è½¦èº«è¶…å‡º32Ã—32çš„èƒŒæ™¯èŒƒå›´ï¼Œç¡®ä¿æ ·æœ¬å›¾çš„å®Œæ•´æ€§ã€‚ æ¨¡å—3ï¼šè½¦å¤´ç»˜åˆ¶ï¼ˆä¸æ–¹å‘å¼ºç»‘å®šï¼‰æ ¸å¿ƒç›®çš„æ˜¯æ ‡è®°è½¦è¾†è¡Œé©¶æ–¹å‘ï¼Œä¸ºæ ‡ç­¾æ ‡æ³¨æä¾›ä¾æ®ï¼Œè®¾è®¡æ€è·¯æ˜¯â€œè½¦å¤´ä½ç½®ä¸è½¦è¾†å§¿æ€ã€è½¦å¤´æ–¹å‘å®Œå…¨åŒ¹é…â€ï¼Œç¡®ä¿è½¦å¤´æ–¹å‘ç›´è§‚ã€æ— æ­§ä¹‰ï¼š è½¦å¤´æœä¸Šï¼ˆupï¼‰ï¼šçºµå‘è½¦è¾†ï¼Œè½¦å¤´ä½äºè½¦èº«é¡¶ç«¯ä¸­å¿ƒï¼Œåæ ‡è®¡ç®—ä¸ºï¼ˆè½¦èº«xåæ ‡ + è½¦èº«å®½åº¦2 - è½¦å¤´å°ºå¯¸2ï¼Œè½¦èº«yåæ ‡ï¼‰ï¼Œç¡®ä¿è½¦å¤´åœ¨é¡¶ç«¯ä¸­å¿ƒï¼Œä¸è½¦èº«å¯¹é½ï¼› è½¦å¤´æœä¸‹ï¼ˆdownï¼‰ï¼šçºµå‘è½¦è¾†ï¼Œè½¦å¤´ä½äºè½¦èº«åº•ç«¯ä¸­å¿ƒï¼Œåæ ‡è®¡ç®—ä¸ºï¼ˆè½¦èº«xåæ ‡ + è½¦èº«å®½åº¦2 - è½¦å¤´å°ºå¯¸2ï¼Œè½¦èº«yåæ ‡ + è½¦èº«é«˜åº¦ - è½¦å¤´å°ºå¯¸ï¼‰ï¼Œé¿å…è½¦å¤´è¶…å‡ºè½¦èº«ï¼› è½¦å¤´æœå·¦ï¼ˆleftï¼‰ï¼šæ¨ªå‘è½¦è¾†ï¼Œè½¦å¤´ä½äºè½¦èº«å·¦ç«¯ä¸­å¿ƒï¼Œåæ ‡è®¡ç®—ä¸ºï¼ˆè½¦èº«xåæ ‡ï¼Œè½¦èº«yåæ ‡ + è½¦èº«é«˜åº¦2 - è½¦å¤´å°ºå¯¸2ï¼‰ï¼Œç¡®ä¿è½¦å¤´åœ¨å·¦ç«¯ä¸­å¿ƒï¼› è½¦å¤´æœå³ï¼ˆrightï¼‰ï¼šæ¨ªå‘è½¦è¾†ï¼Œè½¦å¤´ä½äºè½¦èº«å³ç«¯ä¸­å¿ƒï¼Œåæ ‡è®¡ç®—ä¸ºï¼ˆè½¦èº«xåæ ‡ + è½¦èº«å®½åº¦ - è½¦å¤´å°ºå¯¸ï¼Œè½¦èº«yåæ ‡ + è½¦èº«é«˜åº¦2 - è½¦å¤´å°ºå¯¸2ï¼‰ï¼Œé¿å…è½¦å¤´è¶…å‡ºè½¦èº«ã€‚ è½¦å¤´é¢œè‰²è®¾ç½®ä¸ºæ·±ç°è‰²ï¼ˆ128ï¼‰ï¼Œä¸é»‘è‰²è½¦èº«ï¼ˆ0ï¼‰å½¢æˆæ˜æ˜¾åŒºåˆ†ï¼Œä¾¿äºæ¨¡å‹å¿«é€Ÿæ•æ‰è½¦å¤´ç‰¹å¾ï¼Œè¿›è€Œå­¦ä¹ è½¦å¤´æ–¹å‘ä¸è¡Œé©¶æ–¹å‘çš„æ˜ å°„å…³ç³»ã€‚ æ¨¡å—4ï¼šæ–¹å‘æ ‡ç­¾è‡ªåŠ¨æ ‡æ³¨æ ¸å¿ƒé€»è¾‘æ˜¯â€œæ ¹æ®è½¦è¾†ä¸­å¿ƒä¸èƒŒæ™¯ä¸­å¿ƒçš„åç§»é‡ï¼Œç»“åˆè½¦å¤´æ–¹å‘ï¼Œè‡ªåŠ¨æ ‡æ³¨æ ‡ç­¾â€ï¼Œç¡®ä¿æ ‡ç­¾æ ‡æ³¨å‡†ç¡®ã€è´´åˆçœŸå®é©¾é©¶é€»è¾‘ï¼Œå…·ä½“è®¾è®¡æ€è·¯å¦‚ä¸‹ï¼š è®¡ç®—è½¦è¾†ä¸­å¿ƒä¸èƒŒæ™¯ä¸­å¿ƒï¼šè½¦è¾†ä¸­å¿ƒæ ¹æ®è½¦èº«å§¿æ€è‡ªé€‚åº”è®¡ç®—ï¼ˆæ¨ªå‘è½¦è¾†ä¸­å¿ƒè½¦èº«x+å®½åº¦2ã€y+é«˜åº¦2ï¼›çºµå‘è½¦è¾†åŒç†ï¼‰ï¼ŒèƒŒæ™¯ä¸­å¿ƒå›ºå®šä¸º16ï¼ˆ322ï¼‰ï¼› æ ‡ç­¾åˆå§‹åŒ–ï¼šé»˜è®¤æ ‡ç­¾ä¸ºâ€œç›´è¡Œï¼ˆstraightï¼‰â€ï¼Œå¯¹åº”æ ‡ç­¾4ï¼Œè®¾è®¡é€»è¾‘æ˜¯â€œå¤§å¤šæ•°è½¦è¾†å¤„äºä¸­å¿ƒé™„è¿‘ï¼Œé»˜è®¤ç›´è¡Œï¼Œå‡å°‘æç«¯æ ‡ç­¾å æ¯”â€ï¼› æ ‡ç­¾åˆ¤æ–­é€»è¾‘ï¼ˆæ ¸å¿ƒï¼šè½¦å¤´æ–¹å‘å†³å®šåç§»åˆ¤æ–­ç»´åº¦ï¼‰ï¼š è½¦å¤´æœä¸Šï¼ˆupï¼‰ï¼šä»…åˆ¤æ–­çºµå‘åç§»ï¼Œè‹¥è½¦è¾†ä¸­å¿ƒyåæ ‡ èƒŒæ™¯ä¸­å¿ƒ+åç§»é˜ˆå€¼ï¼ˆ16+824ï¼‰ï¼Œè¯´æ˜è½¦è¾†åä¸‹ï¼Œéœ€æœä¸Šè¡Œé©¶ï¼Œæ ‡æ³¨æ ‡ç­¾0ï¼ˆupï¼‰ï¼›å¦åˆ™ä¿æŒç›´è¡Œï¼› è½¦å¤´æœä¸‹ï¼ˆdownï¼‰ï¼šä»…åˆ¤æ–­çºµå‘åç§»ï¼Œè‹¥è½¦è¾†ä¸­å¿ƒyåæ ‡ èƒŒæ™¯ä¸­å¿ƒ-åç§»é˜ˆå€¼ï¼ˆ16-88ï¼‰ï¼Œè¯´æ˜è½¦è¾†åä¸Šï¼Œéœ€æœä¸‹è¡Œé©¶ï¼Œæ ‡æ³¨æ ‡ç­¾1ï¼ˆdownï¼‰ï¼›å¦åˆ™ä¿æŒç›´è¡Œï¼› è½¦å¤´æœå·¦ï¼ˆleftï¼‰ï¼šä»…åˆ¤æ–­æ¨ªå‘åç§»ï¼Œè‹¥è½¦è¾†ä¸­å¿ƒxåæ ‡ èƒŒæ™¯ä¸­å¿ƒ+åç§»é˜ˆå€¼ï¼ˆ24ï¼‰ï¼Œè¯´æ˜è½¦è¾†åå³ï¼Œéœ€æœå·¦è¡Œé©¶ï¼Œæ ‡æ³¨æ ‡ç­¾2ï¼ˆleftï¼‰ï¼›å¦åˆ™ä¿æŒç›´è¡Œï¼› è½¦å¤´æœå³ï¼ˆrightï¼‰ï¼šä»…åˆ¤æ–­æ¨ªå‘åç§»ï¼Œè‹¥è½¦è¾†ä¸­å¿ƒxåæ ‡ èƒŒæ™¯ä¸­å¿ƒ-åç§»é˜ˆå€¼ï¼ˆ8ï¼‰ï¼Œè¯´æ˜è½¦è¾†åå·¦ï¼Œéœ€æœå³è¡Œé©¶ï¼Œæ ‡æ³¨æ ‡ç­¾3ï¼ˆrightï¼‰ï¼›å¦åˆ™ä¿æŒç›´è¡Œã€‚ è¯¥è®¾è®¡é€»è¾‘çš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯â€œæ— è·¨æ–¹å‘æ ‡æ³¨â€â€”â€”çºµå‘è½¦è¾†ä»…åˆ¤æ–­çºµå‘åç§»ï¼Œæ¨ªå‘è½¦è¾†ä»…åˆ¤æ–­æ¨ªå‘åç§»ï¼Œé¿å…å‡ºç°â€œè½¦å¤´æœä¸Šå´æ ‡æ³¨æœå·¦â€çš„ä¸åˆç†æƒ…å†µï¼Œè´´åˆçœŸå®é©¾é©¶ä¸­â€œè½¦å¤´æ–¹å‘å†³å®šè¡Œé©¶èŒƒå›´â€çš„é€»è¾‘ã€‚ 3. æ•°æ®é›†ç”Ÿæˆä¸é¢„å¤„ç†æ€è·¯æ•°æ®é›†ç”Ÿæˆä¸é¢„å¤„ç†æ˜¯æ¨¡å‹è®­ç»ƒçš„åŸºç¡€ï¼Œæ ¸å¿ƒæ€è·¯æ˜¯â€œæ‰¹é‡ç”Ÿæˆã€è§„èŒƒæ ¼å¼ã€åˆç†åˆ’åˆ†â€ï¼Œç¡®ä¿æ•°æ®ç¬¦åˆCNNæ¨¡å‹è¾“å…¥è¦æ±‚ï¼Œå…·ä½“æ‹†è§£å¦‚ä¸‹ï¼š ï¼ˆ1ï¼‰æ‰¹é‡æ•°æ®é›†ç”Ÿæˆè°ƒç”¨æ ¸å¿ƒå‡½æ•°ï¼ˆcreate_car_imageï¼‰ï¼Œå¾ªç¯5000æ¬¡ï¼Œæ‰¹é‡ç”Ÿæˆæ ·æœ¬å›¾ï¼ŒåŒæ—¶ä¿å­˜å›¾åƒæ•°æ®ã€æ–¹å‘æ ‡ç­¾ã€è½¦å¤´æ–¹å‘ã€è½¦è¾†å§¿æ€ï¼Œä¾¿äºåç»­å¯è§†åŒ–éªŒè¯ã€‚è®¾è®¡æ€è·¯æ˜¯â€œå›ºå®šéšæœºç§å­ï¼ˆSEED42ï¼‰â€ï¼Œç¡®ä¿æ¯æ¬¡ç”Ÿæˆçš„æ•°æ®é›†å®Œå…¨ä¸€è‡´ï¼Œä¾¿äºå¤ç°ä¸è°ƒè¯•ï¼›å¾ªç¯æ¬¡æ•°å¯¹åº”æ ·æœ¬æ•°é‡ï¼ˆ5000å¼ ï¼‰ï¼Œè¶³å¤Ÿæ¨¡å‹å­¦ä¹ æ•°æ®è§„å¾‹ï¼ŒåŒæ—¶é¿å…æ ·æœ¬è¿‡å¤šå¯¼è‡´å†…å­˜å ç”¨è¿‡é«˜ã€‚ ï¼ˆ2ï¼‰æ•°æ®æ ¼å¼è½¬æ¢ç”Ÿæˆçš„åŸå§‹æ•°æ®ï¼ˆå›¾åƒåˆ—è¡¨ã€æ ‡ç­¾åˆ—è¡¨ï¼‰æ— æ³•ç›´æ¥è¾“å…¥CNNæ¨¡å‹ï¼Œéœ€è¿›è¡Œä¸¤é¡¹å…³é”®è½¬æ¢ï¼Œè®¾è®¡æ€è·¯è´´åˆCNNæ¨¡å‹è¾“å…¥è¦æ±‚ï¼š å›¾åƒæ ¼å¼è½¬æ¢ï¼šå°†å›¾åƒåˆ—è¡¨è½¬æ¢ä¸ºnumpyæ•°ç»„ï¼ŒåŒæ—¶å¢åŠ é€šé“ç»´åº¦ï¼ˆ[â€¦, np.newaxis]ï¼‰ï¼Œæœ€ç»ˆæ ¼å¼ä¸ºï¼ˆ5000, 32, 32, 1ï¼‰â€”â€”5000æ˜¯æ ·æœ¬æ•°é‡ï¼Œ32Ã—32æ˜¯å›¾åƒå°ºå¯¸ï¼Œ1æ˜¯é€šé“æ•°ï¼ˆç°åº¦å›¾ï¼‰ï¼Œé€‚é…CNNæ¨¡å‹â€œ(æ ·æœ¬æ•°, å›¾åƒé«˜åº¦, å›¾åƒå®½åº¦, é€šé“æ•°)â€çš„è¾“å…¥æ ¼å¼ï¼› æ ‡ç­¾æ ¼å¼è½¬æ¢ï¼šå°†æ•´æ•°æ ‡ç­¾ï¼ˆ0-4ï¼‰è½¬æ¢ä¸ºone-hotç¼–ç ï¼Œä¾‹å¦‚æ ‡ç­¾0è½¬æ¢ä¸º[1,0,0,0,0]ï¼Œæ ‡ç­¾4è½¬æ¢ä¸º[0,0,0,0,1]ã€‚è®¾è®¡æ€è·¯æ˜¯â€œé€‚é…å¤šåˆ†ç±»äº¤å‰ç†µæŸå¤±å‡½æ•°â€ï¼Œone-hotç¼–ç å¯é¿å…æ ‡ç­¾æƒé‡ä¸å‡ï¼ˆå¦‚æ•´æ•°æ ‡ç­¾4çš„æƒé‡é«˜äº0ï¼‰ï¼Œç¡®ä¿æ¨¡å‹è®­ç»ƒæ—¶å¯¹æ¯ä¸ªç±»åˆ«å¹³ç­‰å¯¹å¾…ã€‚ ï¼ˆ3ï¼‰æ•°æ®é›†åˆ’åˆ†é‡‡ç”¨sklearnçš„train_test_splitå‡½æ•°ï¼ŒæŒ‰7:2:1çš„æ¯”ä¾‹åˆ’åˆ†ä¸ºè®­ç»ƒé›†ã€éªŒè¯é›†ã€æµ‹è¯•é›†ï¼Œè®¾è®¡æ€è·¯æ˜¯â€œå…¼é¡¾è®­ç»ƒæ•ˆæœä¸è¯„ä¼°å¯é æ€§â€ï¼š ç¬¬ä¸€æ­¥ï¼šå°†æ‰€æœ‰æ•°æ®æŒ‰7:3åˆ’åˆ†ä¸ºè®­ç»ƒé›†ï¼ˆ70%ï¼Œ3500å¼ ï¼‰ä¸ä¸´æ—¶é›†ï¼ˆ30%ï¼Œ1500å¼ ï¼‰ï¼› ç¬¬äºŒæ­¥ï¼šå°†ä¸´æ—¶é›†æŒ‰2:1åˆ’åˆ†ä¸ºéªŒè¯é›†ï¼ˆ20%ï¼Œ1000å¼ ï¼‰ä¸æµ‹è¯•é›†ï¼ˆ10%ï¼Œ500å¼ ï¼‰ï¼› åˆ’åˆ†çº¦æŸï¼šå›ºå®šéšæœºç§å­ï¼ˆSEED42ï¼‰ï¼Œç¡®ä¿åˆ’åˆ†ç»“æœå¯å¤ç°ï¼›åˆ’åˆ†æ—¶åŒæ—¶åˆ’åˆ†å›¾åƒæ•°æ®ä¸one-hotæ ‡ç­¾ï¼Œç¡®ä¿å›¾åƒä¸æ ‡ç­¾ä¸€ä¸€å¯¹åº”ï¼Œé¿å…æ•°æ®é”™ä¹±ã€‚ 4. è½»é‡åŒ–CNNæ¨¡å‹æ­å»ºæ€è·¯æ¨¡å‹æ­å»ºçš„æ ¸å¿ƒåŸåˆ™æ˜¯â€œè½»é‡åŒ–ã€é«˜æ•ˆæœã€æ˜“è®­ç»ƒâ€ï¼Œé¿å…å¤æ‚ç»“æ„ï¼Œæ™®é€šCPUå¯å¿«é€Ÿè¿è¡Œï¼ŒåŒæ—¶ä¿è¯ç‰¹å¾æå–èƒ½åŠ›ï¼Œæ¨¡å‹ç»“æ„ä¸ºâ€œ3å±‚å·ç§¯æ¨¡å— + 2å±‚å…¨è¿æ¥æ¨¡å—â€ï¼Œæ¯å±‚è®¾è®¡æ€è·¯ã€å‚æ•°è€ƒé‡è¯¦ç»†æ‹†è§£å¦‚ä¸‹ï¼š ï¼ˆ1ï¼‰å·ç§¯æ¨¡å—ï¼ˆ3å±‚ï¼Œç‰¹å¾æå–æ ¸å¿ƒï¼‰å·ç§¯æ¨¡å—çš„æ ¸å¿ƒä½œç”¨æ˜¯æå–å›¾åƒçš„ç©ºé—´ç‰¹å¾ï¼ˆè½¦è¾†ä½ç½®ã€è½¦å¤´æ–¹å‘ã€è½¦èº«å§¿æ€ï¼‰ï¼Œæ¯å±‚å·ç§¯åé…åˆæ‰¹é‡å½’ä¸€åŒ–ä¸æœ€å¤§æ± åŒ–ï¼Œè®¾è®¡æ€è·¯æ˜¯â€œé€æ­¥æ·±åŒ–ç‰¹å¾æå–ã€é™ä½è®¡ç®—é‡ã€åŠ é€Ÿæ”¶æ•›â€ï¼š å·ç§¯å±‚1ï¼šæ»¤æ³¢å™¨æ•°é‡32ï¼Œkernelå°ºå¯¸ï¼ˆ3,3ï¼‰ï¼Œæ¿€æ´»å‡½æ•°reluã€‚è®¾è®¡æ€è·¯ï¼š32ä¸ªæ»¤æ³¢å™¨ç”¨äºæå–åŸºç¡€ç©ºé—´ç‰¹å¾ï¼ˆå¦‚æ–¹æ ¼çº¿ã€è½¦èº«è½®å»“ï¼‰ï¼Œï¼ˆ3,3ï¼‰çš„kernelæ˜¯å·ç§¯å±‚æœ€å¸¸ç”¨å°ºå¯¸ï¼Œå¯æœ‰æ•ˆæ•æ‰å±€éƒ¨ç‰¹å¾ï¼›reluæ¿€æ´»å‡½æ•°å¯å¼•å…¥éçº¿æ€§ï¼Œè§£å†³çº¿æ€§æ¨¡å‹æ— æ³•æ‹Ÿåˆå¤æ‚æ•°æ®çš„é—®é¢˜ï¼ŒåŒæ—¶è®¡ç®—ç®€å•ã€ä¸æ˜“æ¢¯åº¦æ¶ˆå¤±ï¼› æ‰¹é‡å½’ä¸€åŒ–ï¼ˆBatchNormalizationï¼‰ï¼šæ¯ä¸ªå·ç§¯å±‚åæ·»åŠ ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯â€œåŠ é€Ÿæ¨¡å‹æ”¶æ•›ã€ç¼“è§£æ¢¯åº¦æ¶ˆå¤±â€â€”â€”å°†å·ç§¯å±‚è¾“å‡ºçš„ç‰¹å¾å›¾è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œä½¿æ•°æ®åˆ†å¸ƒæ›´å‡åŒ€ï¼Œé¿å…å› æ•°æ®å°ºåº¦å·®å¼‚å¯¼è‡´çš„è®­ç»ƒç¼“æ…¢ï¼› æœ€å¤§æ± åŒ–ï¼ˆMaxPooling2Dï¼‰ï¼šå°ºå¯¸ï¼ˆ2,2ï¼‰ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯â€œé™ä½ç‰¹å¾å›¾ç»´åº¦ã€å‡å°‘è®¡ç®—é‡ã€ä¿ç•™å…³é”®ç‰¹å¾â€â€”â€”å°†2Ã—2çš„åŒºåŸŸå–æœ€å¤§å€¼ä½œä¸ºè¾“å‡ºï¼Œå¯å»é™¤å†—ä½™ä¿¡æ¯ï¼ŒåŒæ—¶é¿å…è¿‡æ‹Ÿåˆï¼› å·ç§¯å±‚2ï¼šæ»¤æ³¢å™¨æ•°é‡64ï¼Œkernelå°ºå¯¸ï¼ˆ3,3ï¼‰ï¼Œæ¿€æ´»å‡½æ•°reluã€‚è®¾è®¡æ€è·¯ï¼šæ»¤æ³¢å™¨æ•°é‡ç¿»å€ï¼Œé€æ­¥æå–æ›´ç²¾ç»†çš„ç‰¹å¾ï¼ˆå¦‚è½¦å¤´ä½ç½®ã€è½¦èº«å§¿æ€ï¼‰ï¼Œéšç€å±‚æ•°å¢åŠ ï¼Œç‰¹å¾æå–èƒ½åŠ›é€æ­¥å¢å¼ºï¼› å·ç§¯å±‚3ï¼šæ»¤æ³¢å™¨æ•°é‡128ï¼Œkernelå°ºå¯¸ï¼ˆ3,3ï¼‰ï¼Œæ¿€æ´»å‡½æ•°reluã€‚è®¾è®¡æ€è·¯ï¼šç»§ç»­å¢åŠ æ»¤æ³¢å™¨æ•°é‡ï¼Œæ·±åŒ–ç‰¹å¾æå–ï¼Œæ•æ‰è½¦è¾†ä½ç½®ä¸æ–¹å‘çš„æ˜ å°„å…³ç³»ï¼Œä¸ºåç»­åˆ†ç±»å†³ç­–æä¾›è¶³å¤Ÿçš„ç‰¹å¾æ”¯æ’‘ã€‚ ç»è¿‡3å±‚å·ç§¯æ¨¡å—å¤„ç†åï¼ŒåŸå§‹32Ã—32çš„å›¾åƒé€æ­¥é™ç»´ä¸º2Ã—2çš„ç‰¹å¾å›¾ï¼Œæ»¤æ³¢å™¨æ•°é‡ä»32å¢åŠ åˆ°128ï¼Œå®ç°â€œä»åŸºç¡€ç‰¹å¾åˆ°ç²¾ç»†ç‰¹å¾â€çš„é€æ­¥æå–ï¼ŒåŒæ—¶é€šè¿‡æ± åŒ–å±‚æ§åˆ¶è®¡ç®—é‡ï¼Œç¡®ä¿è½»é‡åŒ–ã€‚ ï¼ˆ2ï¼‰å…¨è¿æ¥æ¨¡å—ï¼ˆ2å±‚ï¼Œåˆ†ç±»å†³ç­–æ ¸å¿ƒï¼‰å…¨è¿æ¥æ¨¡å—çš„æ ¸å¿ƒä½œç”¨æ˜¯å°†å·ç§¯æ¨¡å—æå–çš„ç‰¹å¾å›¾è½¬æ¢ä¸ºåˆ†ç±»ç»“æœï¼Œè®¾è®¡æ€è·¯æ˜¯â€œé€æ­¥å‹ç¼©ç‰¹å¾ç»´åº¦ã€é¿å…è¿‡æ‹Ÿåˆã€è¾“å‡ºåˆ†ç±»æ¦‚ç‡â€ï¼š Flattenï¼ˆå±•å¹³å±‚ï¼‰ï¼šæ ¸å¿ƒä½œç”¨æ˜¯â€œè¿æ¥å·ç§¯æ¨¡å—ä¸å…¨è¿æ¥æ¨¡å—â€â€”â€”å°†å·ç§¯æ¨¡å—è¾“å‡ºçš„2Ã—2Ã—128çš„ç‰¹å¾å›¾ï¼ˆä¸‰ç»´ï¼‰å±•å¹³ä¸ºä¸€ç»´å‘é‡ï¼ˆ512ç»´ï¼‰ï¼Œé€‚é…å…¨è¿æ¥å±‚çš„è¾“å…¥æ ¼å¼ï¼› å…¨è¿æ¥å±‚1ï¼ˆDense(256, relu)ï¼‰ï¼šè¾“å‡ºç»´åº¦256ï¼Œæ¿€æ´»å‡½æ•°reluã€‚è®¾è®¡æ€è·¯ï¼šå°†512ç»´ç‰¹å¾å‹ç¼©ä¸º256ç»´ï¼Œè¿›ä¸€æ­¥ç­›é€‰å…³é”®ç‰¹å¾ï¼Œreluæ¿€æ´»å‡½æ•°ç»§ç»­å¼•å…¥éçº¿æ€§ï¼Œå¢å¼ºæ¨¡å‹æ‹Ÿåˆèƒ½åŠ›ï¼› Dropout(0.4)ï¼šæ ¸å¿ƒä½œç”¨æ˜¯â€œé˜²æ­¢è¿‡æ‹Ÿåˆâ€â€”â€”éšæœºä¸¢å¼ƒ40%çš„ç¥ç»å…ƒï¼Œé¿å…æ¨¡å‹è¿‡åº¦ä¾èµ–æŸéƒ¨åˆ†ç‰¹å¾ï¼Œå¢å¼ºæ¨¡å‹æ³›åŒ–èƒ½åŠ›ï¼ˆåœ¨æœªè§è¿‡çš„æ•°æ®ä¸Šè¡¨ç°æ›´å¥½ï¼‰ï¼› å…¨è¿æ¥å±‚2ï¼ˆDense(64, relu)ï¼‰ï¼šè¾“å‡ºç»´åº¦64ï¼Œæ¿€æ´»å‡½æ•°reluã€‚è®¾è®¡æ€è·¯ï¼šç»§ç»­å‹ç¼©ç‰¹å¾ç»´åº¦ï¼Œå°†256ç»´ç‰¹å¾å‹ç¼©ä¸º64ç»´ï¼Œç®€åŒ–åˆ†ç±»å†³ç­–è¿‡ç¨‹ï¼ŒåŒæ—¶ä¿ç•™å…³é”®ç‰¹å¾ï¼› Dropout(0.3)ï¼šç»§ç»­éšæœºä¸¢å¼ƒ30%çš„ç¥ç»å…ƒï¼Œè¿›ä¸€æ­¥é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œå¹³è¡¡æ¨¡å‹æ‹Ÿåˆèƒ½åŠ›ä¸æ³›åŒ–èƒ½åŠ›ï¼› è¾“å‡ºå±‚ï¼ˆDense(5, softmax)ï¼‰ï¼šè¾“å‡ºç»´åº¦5ï¼ˆå¯¹åº”5ä¸ªè¡Œé©¶æ–¹å‘ï¼‰ï¼Œæ¿€æ´»å‡½æ•°softmaxã€‚è®¾è®¡æ€è·¯ï¼šsoftmaxæ¿€æ´»å‡½æ•°å¯å°†è¾“å‡ºè½¬æ¢ä¸º5ä¸ªç±»åˆ«çš„æ¦‚ç‡åˆ†å¸ƒï¼ˆæ¦‚ç‡å’Œä¸º1ï¼‰ï¼Œå¯¹åº”æœ€å¤§æ¦‚ç‡çš„ç±»åˆ«å³ä¸ºæ¨¡å‹é¢„æµ‹çš„è¡Œé©¶æ–¹å‘ï¼Œé€‚é…å¤šåˆ†ç±»ä»»åŠ¡ã€‚ ï¼ˆ3ï¼‰æ¨¡å‹è½»é‡åŒ–è®¾è®¡äº®ç‚¹è¯¥æ¨¡å‹æ€»è®¡çº¦24.1ä¸‡å‚æ•°ï¼ˆ944.02 KBï¼‰ï¼Œå±äºè½»é‡åŒ–æ¨¡å‹ï¼Œæ™®é€šCPUå¯åœ¨å‡ åˆ†é’Ÿå†…å®Œæˆ20è½®è®­ç»ƒï¼Œæ ¸å¿ƒè½»é‡åŒ–è®¾è®¡äº®ç‚¹ï¼š å›¾åƒå°ºå¯¸å°ï¼ˆ32Ã—32ï¼‰ï¼Œé™ä½è¾“å…¥æ•°æ®é‡ï¼› å·ç§¯å±‚kernelå°ºå¯¸å›ºå®šä¸ºï¼ˆ3,3ï¼‰ï¼Œè®¡ç®—é‡å°ï¼› å…¨è¿æ¥å±‚ç»´åº¦é€æ­¥å‹ç¼©ï¼ˆ512â†’256â†’64â†’5ï¼‰ï¼Œå‡å°‘å‚æ•°æ•°é‡ï¼› é€šè¿‡æœ€å¤§æ± åŒ–é™ä½ç‰¹å¾å›¾ç»´åº¦ï¼Œå‡å°‘åç»­è®¡ç®—é‡ã€‚ 5. æ¨¡å‹ç¼–è¯‘ä¸è®­ç»ƒä¼˜åŒ–æ€è·¯æ¨¡å‹ç¼–è¯‘ä¸è®­ç»ƒæ˜¯å®ç°é«˜å‡†ç¡®ç‡çš„å…³é”®ï¼Œæ ¸å¿ƒæ€è·¯æ˜¯â€œåˆç†é…ç½®ç¼–è¯‘å‚æ•°ã€ä¼˜åŒ–è®­ç»ƒè¿‡ç¨‹ã€é¿å…æ— æ•ˆè®­ç»ƒâ€ï¼Œå…·ä½“æ‹†è§£å¦‚ä¸‹ï¼š ï¼ˆ1ï¼‰æ¨¡å‹ç¼–è¯‘ç¼–è¯‘æ—¶éœ€é…ç½®ä¼˜åŒ–å™¨ã€æŸå¤±å‡½æ•°ã€è¯„ä¼°æŒ‡æ ‡ï¼Œä¸‰è€…é€‰æ‹©å‡è´´åˆé¡¹ç›®éœ€æ±‚ï¼Œè®¾è®¡æ€è·¯å¦‚ä¸‹ï¼š ä¼˜åŒ–å™¨ï¼šAdamï¼Œå­¦ä¹ ç‡1e-4ã€‚è®¾è®¡æ€è·¯ï¼šAdamä¼˜åŒ–å™¨ç»“åˆäº†SGDå’ŒRMSpropçš„ä¼˜åŠ¿ï¼Œæ”¶æ•›ç¨³å®šã€å­¦ä¹ ç‡è‡ªé€‚åº”ï¼Œé€‚åˆæ–°æ‰‹ä½¿ç”¨ï¼›å­¦ä¹ ç‡è®¾ç½®ä¸º1e-4ï¼ˆè¾ƒå°ï¼‰ï¼Œé¿å…å­¦ä¹ ç‡è¿‡å¤§å¯¼è‡´è®­ç»ƒéœ‡è¡ã€ä¸æ”¶æ•›ï¼ŒåŒæ—¶ä¿è¯è®­ç»ƒé€Ÿåº¦ï¼› æŸå¤±å‡½æ•°ï¼šcategorical_crossentropyï¼ˆå¤šåˆ†ç±»äº¤å‰ç†µæŸå¤±ï¼‰ã€‚è®¾è®¡æ€è·¯ï¼šé€‚é…å¤šåˆ†ç±»ä»»åŠ¡ä¸one-hotæ ‡ç­¾ï¼Œå¯æœ‰æ•ˆè¡¡é‡æ¨¡å‹é¢„æµ‹æ¦‚ç‡ä¸çœŸå®æ ‡ç­¾çš„å·®è·ï¼ŒæŸå¤±å€¼è¶Šå°ï¼Œæ¨¡å‹é¢„æµ‹è¶Šå‡†ç¡®ï¼› è¯„ä¼°æŒ‡æ ‡ï¼šaccuracyï¼ˆå‡†ç¡®ç‡ï¼‰ã€‚è®¾è®¡æ€è·¯ï¼šç›´è§‚è¯„ä¼°æ¨¡å‹åˆ†ç±»æ•ˆæœï¼Œå‡†ç¡®ç‡é¢„æµ‹æ­£ç¡®çš„æ ·æœ¬æ•°æ€»æ ·æœ¬æ•°ï¼Œä¾¿äºå¿«é€Ÿåˆ¤æ–­æ¨¡å‹è®­ç»ƒæ•ˆæœã€‚ ï¼ˆ2ï¼‰è®­ç»ƒå›è°ƒå‡½æ•°ï¼ˆä¼˜åŒ–æ ¸å¿ƒï¼‰æ·»åŠ ä¸¤é¡¹å…³é”®å›è°ƒå‡½æ•°ï¼Œä¼˜åŒ–è®­ç»ƒè¿‡ç¨‹ï¼Œé¿å…è¿‡æ‹Ÿåˆä¸æ— æ•ˆè®­ç»ƒï¼Œè®¾è®¡æ€è·¯å¦‚ä¸‹ï¼š EarlyStoppingï¼ˆæ—©åœæ³•ï¼‰ï¼šç›‘æ§éªŒè¯é›†æŸå¤±ï¼ˆval_lossï¼‰ï¼Œè€å¿ƒå€¼ï¼ˆpatienceï¼‰10ã€‚è®¾è®¡æ€è·¯ï¼šè®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œè‹¥éªŒè¯é›†æŸå¤±è¿ç»­10è½®ä¸ä¸‹é™ï¼Œè¯´æ˜æ¨¡å‹å·²æ”¶æ•›ï¼Œç»§ç»­è®­ç»ƒä¼šå¯¼è‡´æ— æ•ˆè®¡ç®—ç”šè‡³è¿‡æ‹Ÿåˆï¼Œæ­¤æ—¶è‡ªåŠ¨åœæ­¢è®­ç»ƒï¼Œå¹¶æ¢å¤éªŒè¯é›†æŸå¤±æœ€å°æ—¶çš„æ¨¡å‹æƒé‡ï¼Œç¡®ä¿æ¨¡å‹å¤„äºæœ€ä¼˜çŠ¶æ€ï¼› ModelCheckpointï¼ˆæ¨¡å‹ä¿å­˜ï¼‰ï¼šç›‘æ§éªŒè¯é›†å‡†ç¡®ç‡ï¼ˆval_accuracyï¼‰ï¼Œä¿å­˜æœ€ä¼˜æ¨¡å‹ï¼ˆsave_best_onlyTrueï¼‰ã€‚è®¾è®¡æ€è·¯ï¼šè‡ªåŠ¨ä¿å­˜éªŒè¯é›†å‡†ç¡®ç‡æœ€é«˜çš„æ¨¡å‹ï¼ˆä¿å­˜ä¸ºbest_car_direction_model.kerasï¼‰ï¼Œæ— éœ€æ‰‹åŠ¨è®°å½•æœ€ä¼˜æ¨¡å‹ï¼Œåç»­å¯ç›´æ¥åŠ è½½ä½¿ç”¨ï¼Œé¿å…é‡æ–°è®­ç»ƒã€‚ ï¼ˆ3ï¼‰è®­ç»ƒå‚æ•°é…ç½®è®­ç»ƒæ—¶é…ç½®æ‰¹é‡å¤§å°ï¼ˆbatch_sizeï¼‰ã€è®­ç»ƒè½®æ•°ï¼ˆepochsï¼‰ã€éªŒè¯é›†ï¼Œè®¾è®¡æ€è·¯å¦‚ä¸‹ï¼š batch_size64ï¼šé€‚é…æ™®é€šCPUå†…å­˜ï¼Œæ¯æ¬¡è®­ç»ƒ64å¼ æ ·æœ¬ï¼Œå¹³è¡¡è®­ç»ƒé€Ÿåº¦ä¸å†…å­˜å ç”¨ï¼Œé¿å…æ‰¹é‡è¿‡å¤§å¯¼è‡´å†…å­˜ä¸è¶³ï¼Œæ‰¹é‡è¿‡å°å¯¼è‡´è®­ç»ƒç¼“æ…¢ï¼› epochs20ï¼šè®¾ç½®è¶³å¤Ÿçš„è®­ç»ƒè½®æ•°ï¼Œç¡®ä¿æ¨¡å‹æœ‰è¶³å¤Ÿçš„æ—¶é—´å­¦ä¹ æ•°æ®è§„å¾‹ï¼ŒåŒæ—¶é…åˆæ—©åœæ³•ï¼Œæ— éœ€è®­ç»ƒæ»¡20è½®ï¼Œé¿å…æ— æ•ˆè®­ç»ƒï¼› validation_data(X_val, y_val)ï¼šè®­ç»ƒè¿‡ç¨‹ä¸­ç”¨éªŒè¯é›†å®æ—¶è¯„ä¼°æ¨¡å‹æ•ˆæœï¼Œæ ¹æ®éªŒè¯é›†æŸå¤±ä¸å‡†ç¡®ç‡è°ƒæ•´æ¨¡å‹æƒé‡ï¼Œé¿å…æ¨¡å‹åªæ‹Ÿåˆè®­ç»ƒé›†ï¼ˆè¿‡æ‹Ÿåˆï¼‰ã€‚ 6. æ¨¡å‹è¯„ä¼°ä¸ç»“æœå¯è§†åŒ–æ€è·¯æ¨¡å‹è¯„ä¼°ä¸å¯è§†åŒ–çš„æ ¸å¿ƒç›®çš„æ˜¯â€œéªŒè¯æ¨¡å‹æ•ˆæœã€ç¡®è®¤æ•°æ®è´¨é‡ã€åˆ†æè®­ç»ƒè¶‹åŠ¿â€ï¼Œç¡®ä¿é¡¹ç›®è¾¾åˆ°é¢„æœŸç›®æ ‡ï¼Œå…·ä½“æ€è·¯å¦‚ä¸‹ï¼š ï¼ˆ1ï¼‰æ¨¡å‹è¯„ä¼°ç”¨æµ‹è¯•é›†ï¼ˆæœªå‚ä¸è®­ç»ƒã€æœªå‚ä¸éªŒè¯ï¼‰è¯„ä¼°æ¨¡å‹æ³›åŒ–èƒ½åŠ›ï¼Œè¾“å‡ºæµ‹è¯•é›†æŸå¤±ä¸å‡†ç¡®ç‡ï¼Œæ ¸å¿ƒåˆ¤æ–­æ ‡å‡†ï¼š æµ‹è¯•é›†æŸå¤±ï¼šæ¥è¿‘0ï¼Œè¯´æ˜æ¨¡å‹é¢„æµ‹ä¸çœŸå®æ ‡ç­¾å·®è·å°ï¼› æµ‹è¯•é›†å‡†ç¡®ç‡ï¼šâ‰¥99%ï¼Œè¯´æ˜æ¨¡å‹å·²å……åˆ†å­¦ä¹ è½¦è¾†ä½ç½®ä¸è¡Œé©¶æ–¹å‘çš„æ˜ å°„å…³ç³»ï¼Œæ³›åŒ–èƒ½åŠ›å¼ºï¼Œæ— æ˜æ˜¾è¿‡æ‹Ÿåˆã€‚ ï¼ˆ2ï¼‰ç»“æœå¯è§†åŒ–ï¼ˆä¸¤é¡¹å…³é”®å¯è§†åŒ–ï¼Œå…¨é¢éªŒè¯ï¼‰ æ ·æœ¬éªŒè¯å›¾ï¼šéšæœºé€‰å–5å¼ æ ·æœ¬å›¾ï¼Œå±•ç¤ºå›¾åƒã€è½¦å¤´æ–¹å‘ã€è¡Œé©¶æ–¹å‘æ ‡ç­¾ã€è½¦è¾†å§¿æ€ï¼Œæ ¸å¿ƒç›®çš„æ˜¯â€œç¡®è®¤æ•°æ®ç”Ÿæˆæ— è¯¯â€â€”â€”æ£€æŸ¥è½¦è¾†å§¿æ€ä¸è½¦å¤´æ–¹å‘æ˜¯å¦åŒ¹é…ã€æ ‡ç­¾æ ‡æ³¨æ˜¯å¦åˆç†ã€è½¦è¾†ä¸è½¦å¤´æ˜¯å¦å®Œæ•´ï¼ˆæ— æˆªæ–­ï¼‰ï¼› è®­ç»ƒæ›²çº¿ï¼šç»˜åˆ¶ä¸¤å¼ æ›²çº¿ï¼ˆæŸå¤±æ›²çº¿ã€å‡†ç¡®ç‡æ›²çº¿ï¼‰ï¼Œæ ¸å¿ƒç›®çš„æ˜¯â€œåˆ†æè®­ç»ƒè¶‹åŠ¿â€ï¼š æŸå¤±æ›²çº¿ï¼šè®­ç»ƒé›†æŸå¤±ï¼ˆtrain_lossï¼‰ä¸éªŒè¯é›†æŸå¤±ï¼ˆval_lossï¼‰é€æ­¥ä¸‹é™å¹¶è¶‹äºå¹³ç¨³ï¼Œä¸”ä¸¤è€…å·®è·è¾ƒå°ï¼Œè¯´æ˜æ¨¡å‹æ”¶æ•›ã€æ— è¿‡æ‹Ÿåˆï¼› å‡†ç¡®ç‡æ›²çº¿ï¼šè®­ç»ƒé›†å‡†ç¡®ç‡ï¼ˆtrain_accuracyï¼‰ä¸éªŒè¯é›†å‡†ç¡®ç‡ï¼ˆval_accuracyï¼‰é€æ­¥ä¸Šå‡å¹¶è¶‹äºå¹³ç¨³ï¼Œä¸”ä¸¤è€…å·®è·è¾ƒå°ï¼Œè¯´æ˜æ¨¡å‹å­¦ä¹ æ•ˆæœå¥½ã€æ³›åŒ–èƒ½åŠ›å¼ºã€‚ å››ã€é¡¹ç›®å®Œæ•´è¿è¡Œç»“æœä»¥ä¸‹æ˜¯é¡¹ç›®è¿è¡Œçš„å®Œæ•´ç»ˆç«¯è¾“å‡ºï¼ŒåŒ…å«TensorFlowæ—¥å¿—ã€æ¨¡å‹ç»“æ„ã€è®­ç»ƒè¿‡ç¨‹ã€æœ€ç»ˆè¯„ä¼°ç»“æœï¼Œå¯ç›´æ¥å¯¹ç…§è‡ªèº«è¿è¡Œç»“æœéªŒè¯é¡¹ç›®æ­£ç¡®æ€§ï¼š TextD:\\my project\\cnn-2\\.venv\\Scripts\\python.exe D:\\my project\\cnn-2\\cnn.py 2026-02-05 20:46:32.598293: I tensorflow/core/util/port.cc:153] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.2026-02-05 20:46:35.299182: I tensorflow/core/util/port.cc:153] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.D:\\my project\\cnn-2\\.venv\\Lib\\site-packages\\keras\\src\\layers\\convolutional\\base_conv.py:113: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead. super().__init__(activity_regularizer=activity_regularizer, **kwargs)2026-02-05 20:46:37.019214: I tensorflow/core/platform/cpu_feature_guard.cc:210] This TensorFlow binary is optimized to use available CPU instructions in performance-critical operations.To enable the following instructions: SSE3 SSE4.1 SSE4.2 AVX AVX2 FMA, in other operations, rebuild TensorFlow with the appropriate compiler flags.Model: sequentialâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ Layer (type) â”‚ Output Shape â”‚ Param # â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ conv2d (Conv2D) â”‚ (None, 30, 30, 32) â”‚ 320 â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ batch_normalization â”‚ (None, 30, 30, 32) â”‚ 128 â”‚â”‚ (BatchNormalization) â”‚ â”‚ â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ max_pooling2d (MaxPooling2D) â”‚ (None, 15, 15, 32) â”‚ 0 â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ conv2d_1 (Conv2D) â”‚ (None, 13, 13, 64) â”‚ 18,496 â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ batch_normalization_1 â”‚ (None, 13, 13, 64) â”‚ 256 â”‚â”‚ (BatchNormalization) â”‚ â”‚ â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ max_pooling2d_1 (MaxPooling2D) â”‚ (None, 6, 6, 64) â”‚ 0 â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ conv2d_2 (Conv2D) â”‚ (None, 4, 4, 128) â”‚ 73,856 â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ batch_normalization_2 â”‚ (None, 4, 4, 128) â”‚ 512 â”‚â”‚ (BatchNormalization) â”‚ â”‚ â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ max_pooling2d_2 (MaxPooling2D) â”‚ (None, 2, 2, 128) â”‚ 0 â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ flatten (Flatten) â”‚ (None, 512) â”‚ 0 â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ dense (Dense) â”‚ (None, 256) â”‚ 131,328 â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ dropout (Dropout) â”‚ (None, 256) â”‚ 0 â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ dense_1 (Dense) â”‚ (None, 64) â”‚ 16,448 â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ dropout_1 (Dropout) â”‚ (None, 64) â”‚ 0 â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ dense_2 (Dense) â”‚ (None, 5) â”‚ 325 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Total params: 241,669 (944.02 KB) Trainable params: 241,221 (942.27 KB) Non-trainable params: 448 (1.75 KB)Epoch 1/2055/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 3s 29ms/step - accuracy: 0.7140 - loss: 1.0157 - val_accuracy: 0.0440 - val_loss: 2.5356Epoch 2/2055/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 24ms/step - accuracy: 0.8400 - loss: 0.5609 - val_accuracy: 0.0440 - val_loss: 3.5172Epoch 3/2055/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 23ms/step - accuracy: 0.8477 - loss: 0.4715 - val_accuracy: 0.0440 - val_loss: 4.2830Epoch 4/2055/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 24ms/step - accuracy: 0.8589 - loss: 0.4113 - val_accuracy: 0.0440 - val_loss: 5.1124Epoch 5/2055/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 25ms/step - accuracy: 0.8694 - loss: 0.3654 - val_accuracy: 0.0490 - val_loss: 5.2911Epoch 6/2055/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 25ms/step - accuracy: 0.8831 - loss: 0.3105 - val_accuracy: 0.0640 - val_loss: 5.3669Epoch 7/2055/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 25ms/step - accuracy: 0.8957 - loss: 0.2834 - val_accuracy: 0.0680 - val_loss: 4.8968Epoch 8/2055/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 24ms/step - accuracy: 0.9049 - loss: 0.2518 - val_accuracy: 0.0980 - val_loss: 4.3102Epoch 9/2055/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 24ms/step - accuracy: 0.9171 - loss: 0.2195 - val_accuracy: 0.2380 - val_loss: 2.9597Epoch 10/2055/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 24ms/step - accuracy: 0.9254 - loss: 0.1916 - val_accuracy: 0.4110 - val_loss: 1.7583Epoch 11/2055/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 25ms/step - accuracy: 0.9346 - loss: 0.1729 - val_accuracy: 0.5670 - val_loss: 1.0569Epoch 12/2055/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 25ms/step - accuracy: 0.9463 - loss: 0.1474 - val_accuracy: 0.7920 - val_loss: 0.5172Epoch 13/2055/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 25ms/step - accuracy: 0.9537 - loss: 0.1291 - val_accuracy: 0.9000 - val_loss: 0.2761Epoch 14/2055/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 25ms/step - accuracy: 0.9554 - loss: 0.1206 - val_accuracy: 0.9350 - val_loss: 0.2312Epoch 15/2055/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 25ms/step - accuracy: 0.9631 - loss: 0.1025 - val_accuracy: 0.9790 - val_loss: 0.0968Epoch 16/2055/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 24ms/step - accuracy: 0.9717 - loss: 0.0836 - val_accuracy: 0.9790 - val_loss: 0.0837Epoch 17/2055/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 25ms/step - accuracy: 0.9780 - loss: 0.0694 - val_accuracy: 0.9830 - val_loss: 0.0778Epoch 18/2055/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 25ms/step - accuracy: 0.9806 - loss: 0.0601 - val_accuracy: 0.9900 - val_loss: 0.0548Epoch 19/2055/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 24ms/step - accuracy: 0.9829 - loss: 0.0573 - val_accuracy: 0.9860 - val_loss: 0.0545Epoch 20/2055/55 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1s 24ms/step - accuracy: 0.9849 - loss: 0.0552 - val_accuracy: 0.9910 - val_loss: 0.0428æµ‹è¯•é›†æŸå¤±ï¼š0.0326æµ‹è¯•é›†å‡†ç¡®ç‡ï¼š0.9920ï¼ˆ99.20%ï¼‰è¿›ç¨‹å·²ç»“æŸï¼Œé€€å‡ºä»£ç ä¸º 0 äº”ã€è¿è¡Œç»“æœåˆ†æä¸é¡¹ç›®æ€»ç»“1. è¿è¡Œç»“æœè¯¦ç»†åˆ†æâ€‹\tç»“åˆä¸Šè¿°è¿è¡Œç»“æœï¼Œä»æ¨¡å‹ç»“æ„ã€è®­ç»ƒè¿‡ç¨‹ã€æœ€ç»ˆæ•ˆæœä¸‰ä¸ªç»´åº¦ï¼Œè¯¦ç»†åˆ†æé¡¹ç›®è¿è¡Œæƒ…å†µï¼ŒéªŒè¯é¡¹ç›®æ˜¯å¦è¾¾åˆ°é¢„æœŸç›®æ ‡ï¼š ï¼ˆ1ï¼‰æ¨¡å‹ç»“æ„åˆ†ææ¨¡å‹æ€»è®¡241,669ä¸ªå‚æ•°ï¼ˆ944.02 KBï¼‰ï¼Œå±äºè½»é‡åŒ–æ¨¡å‹ï¼Œç¬¦åˆè®¾è®¡é¢„æœŸï¼š å·ç§¯æ¨¡å—å‚æ•°å æ¯”æœ€é«˜ï¼ˆ320+128+18496+256+73856+51293568ï¼‰ï¼Œæ ¸å¿ƒç”¨äºç‰¹å¾æå–ï¼Œå‚æ•°æ•°é‡åˆç†ï¼Œæ—¢ä¿è¯ç‰¹å¾æå–èƒ½åŠ›ï¼Œåˆé¿å…å†—ä½™ï¼› å…¨è¿æ¥æ¨¡å—å‚æ•°ï¼ˆ131328+16448+325148101ï¼‰ï¼Œé€æ­¥å‹ç¼©ç‰¹å¾ç»´åº¦ï¼Œå‚æ•°æ•°é‡å¯æ§ï¼Œé¿å…å…¨è¿æ¥å±‚å‚æ•°è¿‡å¤šå¯¼è‡´çš„è¿‡æ‹Ÿåˆä¸è®¡ç®—é‡æ¿€å¢ï¼› éè®­ç»ƒå‚æ•°ï¼ˆ448ï¼‰ä¸ºæ‰¹é‡å½’ä¸€åŒ–å±‚çš„å‚æ•°ï¼Œä¸å‚ä¸è®­ç»ƒï¼Œä»…ç”¨äºåŠ é€Ÿæ”¶æ•›ï¼Œè®¾è®¡åˆç†ã€‚ ï¼ˆ2ï¼‰è®­ç»ƒè¿‡ç¨‹åˆ†æ å‡†ç¡®ç‡è¶‹åŠ¿ï¼šè®­ç»ƒé›†å‡†ç¡®ç‡ä»ç¬¬1è½®çš„71.40%é€æ­¥æå‡è‡³ç¬¬20è½®çš„98.49%ï¼ŒéªŒè¯é›†å‡†ç¡®ç‡ä»0.0440æå‡è‡³99.10%ï¼Œä¸¤è€…é€æ­¥è¶‹äºä¸€è‡´ï¼Œè¯´æ˜æ¨¡å‹å­¦ä¹ æ•ˆæœå¥½ï¼Œæ³›åŒ–èƒ½åŠ›å¼ºï¼› æŸå¤±è¶‹åŠ¿ï¼šè®­ç»ƒé›†æŸå¤±ä»1.0157é€æ­¥ä¸‹é™è‡³0.0552ï¼ŒéªŒè¯é›†æŸå¤±ä»2.5356ä¸‹é™è‡³0.0428ï¼Œä¸¤è€…å‡é€æ­¥è¶‹äºå¹³ç¨³ï¼Œä¸”å·®è·è¾ƒå°ï¼ˆè®­ç»ƒé›†0.0552ï¼ŒéªŒè¯é›†0.0428ï¼‰ï¼Œè¯´æ˜æ¨¡å‹æ— è¿‡æ‹Ÿåˆï¼Œæ”¶æ•›ç¨³å®šï¼› è®­ç»ƒé€Ÿåº¦ï¼šæ¯è½®è®­ç»ƒæ—¶é—´çº¦1-3ç§’ï¼ˆæ™®é€šCPUï¼‰ï¼Œ20è½®æ€»è®¡çº¦30ç§’ï¼Œç¬¦åˆè½»é‡åŒ–æ¨¡å‹çš„è®¾è®¡é¢„æœŸï¼Œæ–°æ‰‹å¯å¿«é€ŸéªŒè¯è®­ç»ƒæ•ˆæœï¼› å›è°ƒå‡½æ•°æ•ˆæœï¼šéªŒè¯é›†å‡†ç¡®ç‡é€æ­¥æå‡ï¼Œæœªå‡ºç°è¿ç»­10è½®ä¸ä¸‹é™çš„æƒ…å†µï¼Œå› æ­¤æ¨¡å‹è®­ç»ƒæ»¡20è½®ï¼Œæœ€ç»ˆä¿å­˜çš„æœ€ä¼˜æ¨¡å‹å‡†ç¡®ç‡å¯è¾¾99.10%ï¼ˆéªŒè¯é›†ï¼‰ï¼Œå›è°ƒå‡½æ•°èµ·åˆ°äº†æœ‰æ•ˆçš„ä¼˜åŒ–ä½œç”¨ã€‚ ï¼ˆ3ï¼‰æœ€ç»ˆæ•ˆæœåˆ†æâ€‹\tæµ‹è¯•é›†æŸå¤±0.0326ï¼Œå‡†ç¡®ç‡99.20%ï¼Œè¿œè¶…é¢„æœŸç›®æ ‡ï¼ˆâ‰¥99%ï¼‰ï¼Œè¯´æ˜æ¨¡å‹æ•ˆæœä¼˜å¼‚ï¼š","categories":["ç¼–ç¨‹"]},{"title":"æç¤ºè¯å·¥ç¨‹åˆæ­¥ï¼ˆä¸€ï¼‰","path":"/posts/f57bf148/","content":"æç¤ºè¯å·¥ç¨‹åˆæ­¥ï¼ˆä¸€ï¼‰éƒ¨ç½²å¥½å¤§æ¨¡å‹ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å…¶åšä¸€äº›ç®€å•çš„é—®ç­”ï¼Œä½†å¦‚ä½•è®©å›ç­”æ›´æ¥è¿‘æˆ‘ä»¬æƒ³è¦çš„æ–¹å¼ï¼Œè¿™å°±éœ€è¦ç”¨åˆ°æç¤ºè¯ï¼ˆPromptï¼‰ä¸æç¤ºè¯å·¥ç¨‹ï¼ˆPrompt Engineeringï¼‰ã€‚é€šè¿‡åˆç†è®¾è®¡ã€ç»„ç»‡æç¤ºè¯ï¼Œå¯ä»¥æ˜¾è‘—æå‡å¤§æ¨¡å‹è¾“å‡ºçš„å‡†ç¡®æ€§ã€ç»“æ„åŒ–ç¨‹åº¦ä¸ä¸šåŠ¡è´´åˆåº¦ã€‚æœ¬æ–‡åŸºäº LangChain æ¡†æ¶ï¼Œä»åŸºç¡€æ¨¡æ¿åˆ°å°‘æ ·æœ¬å­¦ä¹ ï¼Œé€æ­¥ä»‹ç»æç¤ºè¯å·¥ç¨‹çš„å…¥é—¨å®è·µã€‚ ä¸€ã€æœ€ç®€å•çš„æç¤ºè¯æ¨¡æ¿ï¼šPromptTemplate1. æ ¸å¿ƒæ„ä¹‰ å®ç°å›ºå®šå¥å¼ä¸åŠ¨æ€å˜é‡åˆ†ç¦»ï¼Œé¿å…é‡å¤æ‰‹å†™ç›¸ä¼¼æç¤ºè¯ï¼Œæå‡ä»£ç å¤ç”¨æ€§ä¸å¯ç»´æŠ¤æ€§ã€‚ ç»Ÿä¸€è¾“å…¥æ ¼å¼ï¼Œé™ä½å› æç¤ºè¯å†™æ³•éšæ„å¯¼è‡´çš„æ¨¡å‹è¾“å‡ºä¸ç¨³å®šé—®é¢˜ã€‚ é…åˆ LangChain çš„é“¾ï¼ˆChainï¼‰æœºåˆ¶ï¼Œå°†ã€Œæ¨¡æ¿å¡«å…… + æ¨¡å‹è°ƒç”¨ã€å°è£…ä¸ºä¸€æ­¥è°ƒç”¨ï¼Œç®€åŒ–ä¸šåŠ¡ä»£ç ã€‚ 2. ä»£ç å®ç°from langchain_core.prompts import PromptTemplatefrom langchain_demo.my_llm import llm# å®šä¹‰å¸¦å˜é‡çš„æ¨¡æ¿prompt_template = PromptTemplate.from_template(å¸®æˆ‘ç”Ÿæˆä¸€ä¸ªç®€çŸ­çš„ï¼Œå…³äºtopicçš„æŠ¥å¹•è¯ã€‚)# å•ç‹¬æ¸²æŸ“æ¨¡æ¿ï¼ˆä¸è°ƒç”¨æ¨¡å‹ï¼Œç”¨äºè°ƒè¯•ï¼‰# res = prompt_template.invoke(topic: ç›¸å£°)# print(res)# æ„å»ºé“¾ï¼šæ¨¡æ¿ â†’ å¤§æ¨¡å‹chain = prompt_template | llm# ä¼ å…¥å˜é‡æ‰§è¡Œå¹¶è·å–ç»“æœresp = chain.invoke(topic: ç›¸å£°)print(resp) 3. ä»£ç è¯´æ˜ PromptTemplate.from_templateï¼šé€šè¿‡å­—ç¬¦ä¸²å¿«é€Ÿåˆ›å»ºæ¨¡æ¿ï¼Œå˜é‡å ä¸ºåŠ¨æ€å¡«å……ä½ç½®ã€‚ invoke æ–¹æ³•ç”¨äºä¼ å…¥å‚æ•°å¹¶æ¸²æŸ“å®Œæ•´æç¤ºæ–‡æœ¬ã€‚ ä½¿ç”¨ç®¡é“ç¬¦ | ä¸²è”æ¨¡æ¿ä¸æ¨¡å‹ï¼Œæ˜¯ LangChain æ¨èçš„ç®€æ´é“¾å¼å†™æ³•ã€‚ é€‚ç”¨äºé›¶æ ·æœ¬ã€ç»“æ„ç®€å•ã€ä»…éœ€å°‘é‡å˜é‡æ›¿æ¢çš„å¸¸è§„ç”Ÿæˆåœºæ™¯ã€‚ äºŒã€ICL æŠ€æœ¯ï¼šä¸Šä¸‹æ–‡å°‘æ ·æœ¬å­¦ä¹ ï¼ˆIn-Context Learningï¼‰1. æ¦‚å¿µä¸ä½œç”¨ICL å³ä¸Šä¸‹æ–‡å†…å­¦ä¹ ï¼Œä¹Ÿå¸¸è¢«ç§°ä½œå°‘æ ·æœ¬å­¦ä¹ ï¼ˆFew-Shot Learningï¼‰ã€‚æ ¸å¿ƒæ€è·¯æ˜¯ï¼š åœ¨æç¤ºè¯ä¸­åŠ å…¥è‹¥å¹²é«˜è´¨é‡çš„ã€Œé—®é¢˜ - ç­”æ¡ˆã€ç¤ºä¾‹ã€‚ è®©æ¨¡å‹ä»ç¤ºä¾‹ä¸­å­¦ä¹ æ¨ç†é€»è¾‘ã€è¾“å‡ºæ ¼å¼ã€å›ç­”é£æ ¼ã€‚ æ— éœ€å¾®è°ƒæ¨¡å‹ï¼Œå³å¯æ˜¾è‘—æå‡å¤æ‚æ¨ç†ã€ç»“æ„åŒ–è¾“å‡ºçš„æ•ˆæœã€‚ é€‚åˆå¤šè·³æ¨ç†ã€æ ¼å¼ä¸¥æ ¼çº¦æŸã€é¢†åŸŸç‰¹å®šè¯æœ¯è§„èŒƒç­‰é›¶æ ·æœ¬éš¾ä»¥æ»¡è¶³çš„åœºæ™¯ã€‚ åœ¨ LangChain ä¸­ï¼Œé€šè¿‡ FewShotPromptTemplate å®ç°æ ‡å‡†åŒ–å°‘æ ·æœ¬æç¤ºç®¡ç†ã€‚ 2. ä»£ç å®ç°from langchain_core.prompts import PromptTemplate, FewShotPromptTemplatefrom langchain_demo.my_llm import llm# æ­¥éª¤ä¸€ï¼šæä¾›ç¤ºä¾‹examples = [ question: ç©†ç½•é»˜å¾·Â·é˜¿é‡Œå’Œè‰¾ä¼¦Â·å›¾çµè°æ´»å¾—æ›´ä¹…ï¼Ÿ, answer: æ˜¯å¦éœ€è¦åç»­é—®é¢˜ï¼šæ˜¯ã€‚åç»­é—®é¢˜ï¼šç©†ç½•é»˜å¾·Â·é˜¿é‡Œå»ä¸–æ—¶å¤šå¤§ï¼Ÿä¸­é—´ç­”æ¡ˆï¼šç©†ç½•é»˜å¾·Â·é˜¿é‡Œå»ä¸–æ—¶74å²ã€‚åç»­é—®é¢˜ï¼šè‰¾ä¼¦Â·å›¾çµå»ä¸–æ—¶å¤šå¤§ï¼Ÿä¸­é—´ç­”æ¡ˆï¼šè‰¾ä¼¦Â·å›¾çµå»ä¸–æ—¶41å²ã€‚æ‰€ä»¥æœ€ç»ˆç­”æ¡ˆæ˜¯ï¼šç©†ç½•é»˜å¾·Â·é˜¿é‡Œ , question: ä¹”æ²»Â·åç››é¡¿çš„å¤–ç¥–çˆ¶æ˜¯è°ï¼Ÿ, answer: æ˜¯å¦éœ€è¦åç»­é—®é¢˜ï¼šæ˜¯ã€‚åç»­é—®é¢˜ï¼šä¹”æ²»Â·åç››é¡¿çš„æ¯äº²æ˜¯è°ï¼Ÿä¸­é—´ç­”æ¡ˆï¼šä¹”æ²»Â·åç››é¡¿çš„æ¯äº²æ˜¯ç›ä¸½Â·é²å°”Â·åç››é¡¿ã€‚åç»­é—®é¢˜ï¼šç›ä¸½Â·é²å°”Â·åç››é¡¿çš„çˆ¶äº²æ˜¯è°ï¼Ÿä¸­é—´ç­”æ¡ˆï¼šç›ä¸½Â·é²å°”Â·åç››é¡¿çš„çˆ¶äº²æ˜¯çº¦ç‘Ÿå¤«Â·é²å°”ã€‚æ‰€ä»¥æœ€ç»ˆç­”æ¡ˆæ˜¯ï¼šçº¦ç‘Ÿå¤«Â·é²å°” , question: ã€Šå¤§ç™½é²¨ã€‹å’Œã€Š007ï¼šå¤§æˆ˜çš‡å®¶èµŒåœºã€‹çš„å¯¼æ¼”æ˜¯å¦æ¥è‡ªåŒä¸€ä¸ªå›½å®¶ï¼Ÿ, answer: æ˜¯å¦éœ€è¦åç»­é—®é¢˜ï¼šæ˜¯ã€‚åç»­é—®é¢˜ï¼šã€Šå¤§ç™½é²¨ã€‹çš„å¯¼æ¼”æ˜¯è°ï¼Ÿä¸­é—´ç­”æ¡ˆï¼šã€Šå¤§ç™½é²¨ã€‹çš„å¯¼æ¼”æ˜¯å²è’‚æ–‡Â·æ–¯çš®å°”ä¼¯æ ¼ã€‚åç»­é—®é¢˜ï¼šå²è’‚æ–‡Â·æ–¯çš®å°”ä¼¯æ ¼æ¥è‡ªå“ªé‡Œï¼Ÿä¸­é—´ç­”æ¡ˆï¼šç¾å›½ã€‚åç»­é—®é¢˜ï¼šã€Š007ï¼šå¤§æˆ˜çš‡å®¶èµŒåœºã€‹çš„å¯¼æ¼”æ˜¯è°ï¼Ÿä¸­é—´ç­”æ¡ˆï¼šã€Š007ï¼šå¤§æˆ˜çš‡å®¶èµŒåœºã€‹çš„å¯¼æ¼”æ˜¯é©¬ä¸Â·åè´å°”ã€‚åç»­é—®é¢˜ï¼šé©¬ä¸Â·åè´å°”æ¥è‡ªå“ªé‡Œï¼Ÿä¸­é—´ç­”æ¡ˆï¼šæ–°è¥¿å…°ã€‚æ‰€ä»¥æœ€ç»ˆç­”æ¡ˆæ˜¯ï¼šå¦ ]# æ­¥éª¤äºŒï¼šå®šä¹‰å•ä¸ªç¤ºä¾‹çš„æ¸²æŸ“æ¨¡æ¿base_prompt_template = PromptTemplate.from_template(é—®é¢˜:question answer)# æ­¥éª¤ä¸‰ï¼šåˆ›å»ºå°‘æ ·æœ¬æ€»æ¨¡æ¿final_template = FewShotPromptTemplate( examples=examples, # ç¤ºä¾‹åˆ—è¡¨ example_prompt=base_prompt_template, # å•æ¡ç¤ºä¾‹æ ¼å¼ suffix=é—®é¢˜:input, # çœŸå®é—®é¢˜æ‹¼æ¥åœ¨æœ€å input_variables=[input] # è¾“å…¥å˜é‡å)# æ­¥éª¤å››ï¼šæ„å»ºé“¾å¹¶è°ƒç”¨chain = final_template | llm# æµ‹è¯•ä¸åŒé—®é¢˜# resp = chain.invoke(input: å·´ä¼¦ç‰¹æœ—æ™®çš„çˆ¶äº²æ˜¯è°)resp = chain.invoke(input: ä¸­å›½å¤ä»£å†å²ä¸Šå”æœå’Œå®‹æœå“ªä¸ªæœä»£å»¶ç»­æ—¶é—´æ›´é•¿)print(respï¼‰ ) 3. å…³é”®å‚æ•°ä¸ä½¿ç”¨è¦ç‚¹ examplesï¼šç¤ºä¾‹æ•°ç»„ï¼Œæ¯æ¡ä¸º questionanswer ç»“æ„ï¼Œå†…å®¹ã€æ ¼å¼ã€é€»è¾‘å¿…é¡»ç»Ÿä¸€ã€‚ example_promptï¼šæ§åˆ¶æ¯ä¸€æ¡ç¤ºä¾‹å¦‚ä½•æ¸²æŸ“æˆæ–‡æœ¬ï¼Œä¿è¯æ‰€æœ‰ç¤ºä¾‹æ ¼å¼ä¸€è‡´ã€‚ suffixï¼šæ‰€æœ‰ç¤ºä¾‹ä¹‹åè¿½åŠ çš„çœŸå®ç”¨æˆ·é—®é¢˜ï¼Œæ¨¡å‹ä¼šå‚ç…§å‰é¢ç¤ºä¾‹çš„èŒƒå¼å›ç­”ã€‚ input_variablesï¼šå£°æ˜ suffix ä¸­ç”¨åˆ°çš„å˜é‡ï¼Œä¸æ¨¡æ¿å ä½ç¬¦å¯¹åº”ã€‚ ç¤ºä¾‹æ•°é‡å»ºè®® 3ï½5 æ¡ä¸ºå®œï¼Œè¿‡å°‘å­¦ä¹ æ•ˆæœå·®ï¼Œè¿‡å¤šæ˜“è¶…å‡ºä¸Šä¸‹æ–‡çª—å£æˆ–å¼•å…¥å™ªå£°ã€‚ å¥½çš„ï¼Œè¿™æ˜¯ä¸ºæ‚¨ç»­å†™çš„ã€Œä¸‰ã€è¿›é˜¶ï¼šèŠå¤©åœºæ™¯ä¸­ä½¿ç”¨ ICLï¼ˆFewShotChatMessagePromptTemplateï¼‰ã€ éƒ¨åˆ†çš„å®Œæ•´å†…å®¹ï¼Œå·²æ ¹æ®æ‚¨æä¾›çš„å®é™…è¿è¡Œç»“æœè¿›è¡Œäº†è¡¥å……å’Œæ¶¦è‰²ï¼š ä¸‰ã€è¿›é˜¶ï¼šèŠå¤©åœºæ™¯ä¸­ä½¿ç”¨ ICLï¼ˆFewShotChatMessagePromptTemplateï¼‰å‰é¢ä»‹ç»çš„æ˜¯ã€Œæ–‡æœ¬æ ¼å¼ã€çš„æç¤ºè¯ ICLï¼Œè€Œåœ¨å®é™…çš„å¤§æ¨¡å‹åº”ç”¨ä¸­ï¼Œæ›´å¤šæ˜¯èŠå¤©åœºæ™¯ï¼ˆå¤šè½®å¯¹è¯ã€åŒºåˆ†ç”¨æˆ·AI è§’è‰²ï¼‰ï¼Œæ­¤æ—¶éœ€è¦ä½¿ç”¨ LangChain ä¸“ä¸ºèŠå¤©åœºæ™¯è®¾è®¡çš„ FewShotChatMessagePromptTemplateï¼Œå®ƒèƒ½æ›´å¥½åœ°è´´åˆèŠå¤©æ¨¡å‹çš„æ¶ˆæ¯æ ¼å¼ï¼ˆåŒºåˆ† HumanAiSystem è§’è‰²ï¼‰ï¼Œæå‡å¯¹è¯åœºæ™¯ä¸‹çš„ ICL æ•ˆæœã€‚ 1. æ ¸å¿ƒæ¦‚å¿µè¯´æ˜ èŠå¤©åœºæ™¯çš„æç¤ºè¯æ ¸å¿ƒæ˜¯ã€Œæ¶ˆæ¯åˆ—è¡¨ã€ï¼Œæ¯æ¡æ¶ˆæ¯éƒ½æœ‰æ˜ç¡®çš„ã€Œè§’è‰²ã€ï¼ˆhumanaisystemï¼‰ã€‚ FewShotChatMessagePromptTemplateï¼šä¸“é—¨ç”¨äºåœ¨èŠå¤©æ¶ˆæ¯åˆ—è¡¨ä¸­åµŒå…¥ ICL ç¤ºä¾‹ï¼Œä¿æŒç¤ºä¾‹çš„è§’è‰²æ ¼å¼ä¸çœŸå®å¯¹è¯ä¸€è‡´ã€‚ MessagesPlaceholderï¼šæ¶ˆæ¯å ä½ç¬¦ï¼Œç”¨äºåŠ¨æ€å¡«å……åç»­çš„çœŸå®å¯¹è¯æ¶ˆæ¯ï¼ˆæ”¯æŒå¤šè½®å¯¹è¯æ‰©å±•ï¼‰ã€‚ ChatPromptTemplateï¼šèŠå¤©åœºæ™¯çš„æç¤ºè¯æ¨¡æ¿ï¼Œä¸æ™®é€š PromptTemplate çš„åŒºåˆ«æ˜¯åŸºäºã€Œæ¶ˆæ¯è§’è‰²ã€æ„å»ºã€‚ 2. ä»£ç å®ç°from langchain_core.messages import HumanMessagefrom langchain_core.output_parsers import StrOutputParserfrom langchain_core.prompts import MessagesPlaceholder, FewShotChatMessagePromptTemplatefrom langchain_demo.my_llm import llmfrom langchain_core.prompts import ChatPromptTemplate# æ­¥éª¤ä¸€ï¼šå‡†å¤‡èŠå¤©åœºæ™¯çš„ ICL ç¤ºä¾‹ï¼ˆé”®å€¼å¯¹æ ¼å¼ï¼Œå¯¹åº”åç»­å•æ¡æ¶ˆæ¯æ¨¡æ¿çš„å˜é‡ï¼‰examples = [ input: 2 ï¼Ÿ 3 = 5,output: 5, input: 3 ï¼Ÿ 4 = 7,output: 7,]# æ­¥éª¤äºŒï¼šå®šä¹‰å•ä¸ªç¤ºä¾‹çš„èŠå¤©æ¶ˆæ¯æ¨¡æ¿ï¼ˆåŒºåˆ† Human/Ai è§’è‰²ï¼Œå¯¹åº”ç¤ºä¾‹çš„ input/outputï¼‰base_prompt = ChatPromptTemplate.from_messages( [ # æ¯æ¡ç¤ºä¾‹ä¸­ï¼Œç”¨æˆ·è¾“å…¥ï¼ˆhuman è§’è‰²ï¼‰å¯¹åº” input å˜é‡ (human, input), # æ¯æ¡ç¤ºä¾‹ä¸­ï¼ŒAI å›å¤ï¼ˆai è§’è‰²ï¼‰å¯¹åº” output å˜é‡ (ai, output), ])# æ­¥éª¤ä¸‰ï¼šåˆ›å»ºèŠå¤©åœºæ™¯çš„å°‘æ ·æœ¬æç¤ºè¯æ¨¡æ¿ï¼ˆæ•´åˆæ‰€æœ‰ç¤ºä¾‹ï¼‰few_shot_prompt = FewShotChatMessagePromptTemplate( examples=examples, # ä¼ å…¥èŠå¤©åœºæ™¯çš„ç¤ºä¾‹åˆ—è¡¨ example_prompt=base_prompt, # ä¼ å…¥å•æ¡ç¤ºä¾‹çš„èŠå¤©æ¶ˆæ¯æ¨¡æ¿)# æ­¥éª¤å››ï¼šæ„å»ºå®Œæ•´çš„èŠå¤©æç¤ºè¯æ¨¡æ¿ï¼ˆåŒ…å«ç³»ç»Ÿæ¶ˆæ¯ã€ICL ç¤ºä¾‹ã€çœŸå®æ¶ˆæ¯å ä½ç¬¦ï¼‰final_template = ChatPromptTemplate.from_messages([ # ç³»ç»Ÿæ¶ˆæ¯ï¼šå®šä¹‰ AI çš„è§’è‰²å’Œè¡Œä¸ºå‡†åˆ™ (system, ä½ æ˜¯ä¸€ä¸ªAIåŠ©æ‰‹ï¼), # åµŒå…¥ ICL å°‘æ ·æœ¬ç¤ºä¾‹ï¼ˆä¼šè‡ªåŠ¨æŒ‰ base_prompt çš„æ ¼å¼æ¸²æŸ“æ‰€æœ‰ç¤ºä¾‹ï¼‰ few_shot_prompt, # æ¶ˆæ¯å ä½ç¬¦ï¼šç”¨äºåŠ¨æ€æ¥æ”¶çœŸå®çš„ç”¨æˆ·å¯¹è¯æ¶ˆæ¯ï¼ˆæ”¯æŒå¤šè½®æ¶ˆæ¯ä¼ å…¥ï¼‰ MessagesPlaceholder(msgs)])# æ­¥éª¤äº”ï¼šæ„å»ºæ‰§è¡Œé“¾chain = final_template | llm# æ­¥éª¤å…­ï¼šä¼ å…¥çœŸå®ç”¨æˆ·æ¶ˆæ¯ï¼Œè°ƒç”¨æ‰§è¡Œé“¾resp = chain.invoke(msgs: [HumanMessage(content=2ï¼Ÿ9ç»“æœæ˜¯å¤šå°‘)])# æ‰“å°ç»“æœprint(resp) 3. ä»£ç å…³é”®è§£æ ChatPromptTemplate.from_messages()ï¼šæ¥æ”¶æ¶ˆæ¯åˆ—è¡¨æ„å»ºèŠå¤©æ¨¡æ¿ï¼Œæ¯æ¡æ¶ˆæ¯æ˜¯ (è§’è‰²ç±»å‹ï¼Œ æ¶ˆæ¯å†…å®¹) å…ƒç»„ï¼Œæ ¸å¿ƒè§’è‰²åŒ…æ‹¬ systemï¼ˆå®šä¹‰AIè¡Œä¸ºï¼‰ã€humanï¼ˆç”¨æˆ·è¾“å…¥ï¼‰ã€aiï¼ˆAIå›å¤ï¼‰ã€‚ FewShotChatMessagePromptTemplateï¼šèŠå¤©åœºæ™¯ä¸“å±ICLå·¥å…·ï¼Œå°†ç¤ºä¾‹åˆ—è¡¨æŒ‰ example_prompt å®šä¹‰çš„ã€ŒHumanâ†’Aiã€æ ¼å¼æ¸²æŸ“ï¼Œå½¢æˆå®Œæ•´ç¤ºä¾‹å¯¹è¯é“¾ã€‚ MessagesPlaceholder(msgs)ï¼šåŠ¨æ€æ¶ˆæ¯å®¹å™¨ï¼Œè°ƒç”¨æ—¶å¯ä¼ å…¥å•ä¸ªå¤šä¸ª HumanMessageAIMessageï¼Œæ”¯æŒå¤šè½®å¯¹è¯æ‰©å±•ï¼Œæ— éœ€é‡æ„æ¨¡æ¿ã€‚ ç¤ºä¾‹ä¸­çš„ input æ˜¯ç”¨æˆ·æé—®æ ¼å¼ï¼Œoutput æ˜¯å¯¹åº”æ ‡å‡†ç­”æ¡ˆï¼Œæ¨¡å‹ä¼šä»ç¤ºä¾‹ä¸­å­¦ä¹ éšè—è§„å¾‹ï¼ˆæ­¤ä¾‹ä¸­æ˜¯ã€Œæ•°å­—ç›¸åŠ ã€ï¼‰ã€‚ 4. å®é™…è¿è¡Œç»“æœè¿è¡Œå‘½ä»¤è¾“å‡ºD:\\my project ew_ai_model_env\\.venv\\Scripts\\python.exe D:\\my project\\LangchainProject\\langchain_demo\\æç¤ºè¯æ¨¡æ¿-4.py D:\\my project ew_ai_model_env\\.venv\\Lib\\site-packages\\langchain_core\\_api\\deprecation.py:26: UserWarning: Core Pydantic V1 functionality isnt compatible with Python 3.14 or greater. from pydantic.v1.fields import FieldInfo as FieldInfoV1content=å¯¹äº 2 ï¼Ÿ 9ï¼Œæ ¹æ®å‰é¢çš„ä¾‹å­ï¼Œæˆ‘è§‚å¯Ÿåˆ°ï¼Ÿæ“ä½œä¼¼ä¹æ˜¯å°†ä¸¤ä¸ªæ•°å­—ç›¸åŠ ã€‚2 ï¼Ÿ 3 = 5 (å³ 2 + 3 = 5)3 ï¼Ÿ 4 = 7 (å³ 3 + 4 = 7)æŒ‰ç…§è¿™ä¸ªè§„å¾‹ï¼Œ2 ï¼Ÿ 9 çš„ç»“æœåº”è¯¥æ˜¯:2 + 9 = 11æ‰€ä»¥ï¼Œ2 ï¼Ÿ 9 = 11additional_kwargs=refusal: Noneresponse_metadata=token_usage: completion_tokens: 144, prompt_tokens: 84, total_tokens: 228, completion_tokens_details: accepted_prediction_tokens: None, audio_tokens: 0, reasoning_tokens: 0, rejected_prediction_tokens: None, text_tokens: 0, prompt_tokens_details: audio_tokens: 0, cached_tokens: 0, text_tokens: 0, image_tokens: 0, input_tokens: 0, output_tokens: 0, input_tokens_details: None, claude_cache_creation_5_m_tokens: 0, claude_cache_creation_1_h_tokens: 0, model_provider: openai, model_name: claude-3-7-sonnet-20250219, system_fingerprint: None, id: msg_bdrk_013v2a4K1AkZZUY4hnLbh2Nk, finish_reason: stop, logprobs: Noneid=lc_run--019c185a-cca9-7581-a0c3-77edef4787db-0tool_calls=[]invalid_tool_calls=[]usage_metadata=input_tokens: 84, output_tokens: 144, total_tokens: 228, input_token_details: audio: 0, cache_read: 0, output_token_details: audio: 0, reasoning: 0è¿›ç¨‹å·²ç»“æŸï¼Œé€€å‡ºä»£ç ä¸º 0 ç»“æœè§£è¯» å¿½ç•¥å¼ƒç”¨è­¦å‘Šï¼šå¼€å¤´çš„ Pydantic V1 å¼ƒç”¨è­¦å‘Šæ˜¯ LangChain æ¡†æ¶çš„ç‰ˆæœ¬å…¼å®¹æ€§æç¤ºï¼Œä¸å½±å“ç¨‹åºåŠŸèƒ½è¿è¡Œï¼Œå¯ä»¥æš‚æ—¶å¿½ç•¥ã€‚ ICL å­¦ä¹ æˆåŠŸï¼šæ¨¡å‹æˆåŠŸä»ä¸¤æ¡ç¤ºä¾‹ 2 ï¼Ÿ 3 = 5 å’Œ 3 ï¼Ÿ 4 = 7 ä¸­ï¼Œå­¦ä¹ åˆ°äº†ã€Œï¼Ÿ ä»£è¡¨å°†ä¸¤ä¸ªæ•°å­—ç›¸åŠ ã€çš„éšè—è§„å¾‹ï¼Œå¹¶æ­£ç¡®æ¨å¯¼å‡º 2ï¼Ÿ9 çš„ç»“æœæ˜¯ 11ã€‚ è¾“å‡ºæ ¼å¼è¯´æ˜ï¼šæ‰“å°çš„ resp å¯¹è±¡æ˜¯ LangChain èŠå¤©æ¨¡å‹è¿”å›çš„åŸç”Ÿ AIMessage å¯¹è±¡ï¼Œå®ƒåŒ…å«å¤šä¸ªå±æ€§ï¼š contentï¼šæ ¸å¿ƒå›å¤å†…å®¹ï¼Œå³æ¨¡å‹æ¨ç†å‡ºçš„çº¯æ–‡æœ¬ç­”æ¡ˆã€‚ additional_kwargsã€response_metadataã€usage_metadataï¼šè¿™äº›æ˜¯è¯·æ±‚çš„å…ƒæ•°æ®ï¼ŒåŒ…å«äº†æœ¬æ¬¡è°ƒç”¨çš„ä»¤ç‰Œæ¶ˆè€—è¯¦æƒ…ã€ä½¿ç”¨çš„æ¨¡å‹ä¿¡æ¯ï¼ˆClaude 3.7 Sonnetï¼‰ã€è¯·æ±‚IDç­‰ã€‚ ä¼˜åŒ–è¾“å‡ºï¼ˆå¯é€‰ï¼‰ï¼šå¦‚æœæ‚¨ä»…éœ€è¦æ¨¡å‹å›å¤çš„çº¯æ–‡æœ¬å†…å®¹ï¼ˆå³ contentï¼‰ï¼Œå¯ä»¥åœ¨æ‰§è¡Œé“¾æœ«å°¾æ·»åŠ  StrOutputParser() è§£æå™¨ï¼š chain = final_template | llm | StrOutputParser() è¿”å›çš„ç»“æœå˜ä¸º å¦‚æœæˆ‘ä»¬è§‚å¯Ÿå‰é¢çš„ä¾‹å­ï¼š2 ï¼Ÿ 3 = 53 ï¼Ÿ 4 = 7æˆ‘å¯ä»¥æ¨æ–­å‡ºè¿™ä¸ªï¼Ÿæ“ä½œæ˜¯å°†ä¸¤ä¸ªæ•°å­—ç›¸åŠ ã€‚æ‰€ä»¥ï¼š2 ï¼Ÿ 9 = 2 + 9 = 11ç­”æ¡ˆæ˜¯11ã€‚ é€šä¹‰åƒé—®ç­‰ä¸»æµèŠå¤©æ¨¡å‹çš„åŸç”Ÿäº¤äº’æ ¼å¼ï¼ˆSystemHumanAssistant æ¶ˆæ¯æµï¼‰ï¼Œèƒ½æœ‰æ•ˆæå‡æŒ‡ä»¤éµå¾ªå’Œå›å¤çš„å‡†ç¡®æ€§ã€‚","categories":["ç¼–ç¨‹"]},{"title":"å¤§æ¨¡å‹çš„ç§æœ‰åŒ–éƒ¨ç½²ï¼ˆä¸€ï¼‰","path":"/posts/fa00b5a1/","content":"å¤§æ¨¡å‹çš„ç§æœ‰åŒ–éƒ¨ç½²ï¼ˆä¸€ï¼‰ä¸€ã€éƒ¨ç½²å‰æœŸå‡†å¤‡1.1 æœåŠ¡å™¨ç§Ÿèµï¼ˆæ ¸å¿ƒå‰æï¼‰ç”±äºä¸ªäººç”µè„‘çš„ç®—åŠ›ã€æ˜¾å­˜ç­‰ç¡¬ä»¶æ¡ä»¶å—é™ï¼Œä¸æ¨èæœ¬åœ°éƒ¨ç½²å¤§æ¨¡å‹ï¼Œä¼˜å…ˆé€‰æ‹©äº‘æœåŠ¡å™¨æä¾›çš„GPUç§ŸèµæœåŠ¡ï¼Œä¸»æµå¹³å°å¯é€‰æ‹©é˜¿é‡Œäº‘ã€AutoDLç­‰ã€‚ é€‰æ‹©å»ºè®®ï¼ˆæŒ‰åœºæ™¯åˆ’åˆ†ï¼‰ æµ‹è¯•å­¦ä¹ ç”¨é€”ï¼šé¦–æ¨ AutoDL ä¼˜åŠ¿ï¼šä»·æ ¼ä½å»‰ï¼ŒæŒ‰å°æ—¶è®¡è´¹ï¼Œé¢„è£…å®Œæ•´æ·±åº¦å­¦ä¹ ç¯å¢ƒï¼ˆæ— éœ€æ‰‹åŠ¨é…ç½®Pythonã€Torchç­‰ï¼‰ï¼Œå¼€ç®±å³ç”¨ï¼Œå¯¹æ–°æ‰‹å‹å¥½ã€‚ ç”Ÿäº§é•¿æœŸè¿è¡Œç”¨é€”ï¼šä¼˜å…ˆé€‰æ‹© é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ ä¼˜åŠ¿ï¼šç¨³å®šæ€§æ›´å¼ºï¼ŒæœåŠ¡ä¿éšœæ›´å®Œå–„ï¼Œæ”¯æŒå¼¹æ€§æ‰©å®¹ï¼Œé€‚åˆä¼ä¸šçº§è½åœ°åœºæ™¯ã€‚ 1.2 æœåŠ¡å™¨å®ä¾‹åˆ›å»ºä¸ä¿¡æ¯ç•™å­˜ é…ç½®é€‰æ‹©ï¼šæ¨èæ˜¾å¡å‹å· RTX 30904090 æˆ– A100ï¼Œæ˜¾å­˜â‰¥16GBï¼ˆä¿éšœ8Bæ¨¡å‹æ­£å¸¸è¿è¡Œï¼‰ï¼ŒæŒ‰éœ€é€‰æ‹©CPUä¸ç¡¬ç›˜å®¹é‡ï¼ˆå»ºè®®ç¡¬ç›˜â‰¥50GBï¼Œç”¨äºå­˜å‚¨æ¨¡å‹æ–‡ä»¶ï¼‰ã€‚ å®ä¾‹åˆ›å»ºå®Œæˆåï¼ŒåŠ¡å¿…å¦¥å–„è®°å½•ä»¥ä¸‹è¿æ¥ä¿¡æ¯ï¼ˆä¸¢å¤±åéš¾ä»¥æ‰¾å›ï¼‰ï¼š SSH åœ°å€ï¼ˆæ ¼å¼ç¤ºä¾‹ï¼š123.456.78.90:12345ï¼‰ ç™»å½•å¯†ç ï¼ˆæˆ–å¯†é’¥æ–‡ä»¶ï¼Œè‹¥é€‰æ‹©å¯†é’¥ç™»å½•ï¼‰ 1.3 PyCharm Pro è¿œç¨‹SSHè¿æ¥ï¼ˆé«˜æ•ˆå¼€å‘å¿…å¤‡ï¼‰ä¸ºäº†ç®€åŒ–åç»­çš„ä»£ç ç¼–å†™ã€æ–‡ä»¶ç®¡ç†ä¸å‘½ä»¤æ‰§è¡Œï¼Œæ¨èä½¿ç”¨PyCharmä¸“ä¸šç‰ˆçš„è¿œç¨‹å¼€å‘åŠŸèƒ½ï¼Œç›´æ¥è¿æ¥äº‘æœåŠ¡å™¨è¿›è¡Œæ“ä½œã€‚ è¯¦ç»†æ“ä½œæ­¥éª¤ æ‰“å¼€ PyCharm Professionalï¼Œåˆ›å»ºæˆ–æ‰“å¼€ä½ çš„é¡¹ç›®ã€‚ è¿›å…¥è·¯å¾„ï¼šFile â†’ Settings â†’ Project: [ä½ çš„é¡¹ç›®å] â†’ Python Interpreterã€‚ ç‚¹å‡»è§£é‡Šå™¨å³ä¾§çš„ Add Interpreter æŒ‰é’®ï¼Œé€‰æ‹© **On SSH...**ï¼ˆè¿œç¨‹SSHè§£é‡Šå™¨ï¼‰ã€‚ åœ¨å¼¹å‡ºçš„é…ç½®çª—å£ä¸­ï¼Œå¡«å†™æœåŠ¡å™¨ä¿¡æ¯ï¼š Hostï¼šæœåŠ¡å™¨å…¬ç½‘IPåœ°å€ï¼ˆæ— éœ€å¸¦ç«¯å£ï¼‰ Portï¼šSSHç«¯å£å·ï¼ˆé»˜è®¤22ï¼ŒAutoDLç­‰å¹³å°ä¸ºéšæœºåˆ†é…ç«¯å£ï¼Œéœ€å¯¹åº”è®°å½•çš„ä¿¡æ¯ï¼‰ Usernameï¼šé»˜è®¤é€šå¸¸ä¸º root Passwordï¼šå¡«å†™è®°å½•çš„æœåŠ¡å™¨ç™»å½•å¯†ç  åç»­æ­¥éª¤ä¸€è·¯ç‚¹å‡» Nextï¼Œé»˜è®¤é€‰æ‹©æœåŠ¡å™¨ä¸Šçš„Pythonè§£é‡Šå™¨å³å¯ï¼Œå®Œæˆé…ç½®ã€‚ éªŒè¯ï¼šé…ç½®æˆåŠŸåï¼ŒPyCharmçš„ç»ˆç«¯ï¼ˆTerminalï¼‰æ‰§è¡Œå‘½ä»¤ä¼šç›´æ¥åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œæ–‡ä»¶æ“ä½œä¹Ÿä¼šåŒæ­¥åˆ°æœåŠ¡å™¨å¯¹åº”ç›®å½•ã€‚ äºŒã€æ¨¡å‹ä¸‹è½½ä¸ç¯å¢ƒé…ç½®2.1 å¤§æ¨¡å‹ä¸‹è½½ï¼ˆä»¥Qwen3-8B-Instructä¸ºä¾‹ï¼‰æˆ‘ä»¬é€‰æ‹©ä»ModelScopeï¼ˆé­”æ­ç¤¾åŒºï¼‰ä¸‹è½½å­—èŠ‚è·³åŠ¨å¼€æºçš„Qwen3-8B-Instructæ¨¡å‹ï¼Œè¯¥æ¨¡å‹æ€§èƒ½å‡è¡¡ï¼Œé€‚åˆæ–°æ‰‹å…¥é—¨ç§æœ‰åŒ–éƒ¨ç½²ã€‚ æ­¥éª¤1ï¼šæ‰¾åˆ°æ¨¡å‹å®˜æ–¹é¡µé¢https://www.modelscope.cn/models/qwen/Qwen3-8B-Instruct/summary æ­¥éª¤2ï¼šPython SDK ä¸‹è½½ï¼ˆæ¨èï¼Œè‡ªåŠ¨å¤„ç†ä¾èµ–ä¸æ–‡ä»¶æ•´åˆï¼‰ è‹¥æœªå®‰è£…ModelScopeåº“ï¼Œå…ˆåœ¨PyCharmè¿œç¨‹ç»ˆç«¯æ‰§è¡Œå®‰è£…å‘½ä»¤ï¼špip install modelscope åˆ›å»ºPythonè„šæœ¬ï¼ˆæˆ–ç›´æ¥åœ¨ç»ˆç«¯è¿è¡Œï¼‰ï¼Œæ‰§è¡Œä»¥ä¸‹ä¸‹è½½ä»£ç ï¼šfrom modelscope import snapshot_download# é…ç½®æ¨¡å‹åç§°ä¸ä¸‹è½½ç›®å½•# æ³¨æ„ï¼šAutoDLå¹³å°å¤§å®¹é‡æ•°æ®ç›˜é»˜è®¤è·¯å¾„ä¸º /root/autodl-tmpï¼Œä¼˜å…ˆé€‰æ‹©è¯¥ç›®å½•èŠ‚çœç³»ç»Ÿç›˜ç©ºé—´model_name = Qwen/Qwen3-8B-Instructsave_dir = /root/autodl-tmp/models# å¼€å§‹ä¸‹è½½æ¨¡å‹ï¼ˆé¦–æ¬¡ä¸‹è½½çº¦15GBï¼Œè€—æ—¶å–å†³äºç½‘ç»œé€Ÿåº¦ï¼‰model_dir = snapshot_download(model_name, cache_dir=save_dir)# æ‰“å°æ¨¡å‹æœ€ç»ˆå­˜å‚¨è·¯å¾„ï¼ˆåç»­å¯åŠ¨æœåŠ¡éœ€ç”¨åˆ°ï¼Œå»ºè®®å¤åˆ¶ç•™å­˜ï¼‰print(fæ¨¡å‹ä¸‹è½½å®Œæˆï¼Œå­˜å‚¨è·¯å¾„ï¼šmodel_dir) 2.2 å®‰è£… vLLM æ¨ç†å¼•æ“ï¼ˆé«˜é€Ÿæ¨ç†æ ¸å¿ƒï¼‰vLLM æ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„å¤§æ¨¡å‹æ¨ç†ä¸æœåŠ¡åº“ï¼Œç›¸æ¯”åŸç”Ÿæ¨ç†æ¡†æ¶ï¼Œå…·æœ‰æ˜¾å­˜åˆ©ç”¨ç‡é«˜ã€ç”Ÿæˆé€Ÿåº¦å¿«ã€æ”¯æŒé«˜å¹¶å‘çš„ä¼˜åŠ¿ï¼Œæ˜¯ç§æœ‰åŒ–éƒ¨ç½²çš„é¦–é€‰æ¨ç†å¼•æ“ã€‚ åœ¨PyCharmè¿œç¨‹ç»ˆç«¯ä¸­æ‰§è¡Œä»¥ä¸‹å®‰è£…å‘½ä»¤ï¼š pip install vllm éªŒè¯å®‰è£…æˆåŠŸå®‰è£…å®Œæˆåï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼š pip list | grep vllm è‹¥ç»ˆç«¯è¿”å› vllm å¯¹åº”çš„ç‰ˆæœ¬å·ï¼Œè¯´æ˜å®‰è£…å®Œæˆã€‚ ä¸‰ã€å¯åŠ¨ OpenAI å…¼å®¹ API æœåŠ¡3.1 å¯åŠ¨å‘½ä»¤ï¼ˆå¤åˆ¶å³å¯ä½¿ç”¨ï¼Œéœ€ä¿®æ”¹æ¨¡å‹è·¯å¾„ï¼‰åœ¨PyCharmè¿œç¨‹ç»ˆç«¯ä¸­ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨OpenAIå…¼å®¹çš„APIæœåŠ¡ï¼ˆå‘½ä»¤è¡Œæ¢è¡Œç”¨ \\ åˆ†éš”ï¼Œç¡®ä¿å®Œæ•´å¤åˆ¶ï¼‰ï¼š python -m vllm.entrypoints.openai.api_server \\ --model /root/autodl-tmp/models/Qwen/Qwen3-8B-Instruct \\ --served-model-name qwen3-8b \\ --max-model-len 8k \\ --host 0.0.0.0 \\ --port 6006 \\ --dtype bfloat16 \\ --gpu-memory-utilization 0.8 \\ --enable-auto-tool-choice \\ --tool-call-parser hermes æ ¸å¿ƒå‚æ•°è¯´æ˜ï¼ˆå¿…çœ‹ï¼Œæ–¹ä¾¿åç»­è‡ªå®šä¹‰é…ç½®ï¼‰ å‚æ•° ä½œç”¨è¯´æ˜ --model æ¨¡å‹æœ¬åœ°ç»å¯¹è·¯å¾„ï¼ˆéœ€ä¸ä¸‹è½½å®Œæˆåçš„å®é™…è·¯å¾„ä¸€è‡´ï¼Œå…³é”®ï¼ï¼‰ --served-model-name å¯¹å¤–æš´éœ²çš„æ¨¡å‹åç§°ï¼ŒAPIè°ƒç”¨æ—¶éœ€æŒ‡å®šè¯¥åç§° --max-model-len 8k æ¨¡å‹æ”¯æŒçš„æœ€å¤§ä¸Šä¸‹æ–‡é•¿åº¦ï¼ŒQwen3-8B-Instructæ”¯æŒæœ€é«˜8k --host 0.0.0.0 å…è®¸å¤–éƒ¨è®¾å¤‡è®¿é—®è¯¥æœåŠ¡ï¼ˆæœ¬åœ°ç”µè„‘ã€å…¶ä»–æœåŠ¡å™¨ï¼‰ï¼Œä¸å¯ä¿®æ”¹ä¸º127.0.0.1 --port 6006 æœåŠ¡ç«¯å£ï¼Œå¯è‡ªå®šä¹‰ï¼ˆå¦‚8080ã€9090ï¼‰ï¼Œéœ€ç¡®ä¿ç«¯å£æœªè¢«å ç”¨ä¸”å·²æ”¾è¡Œ --dtype bfloat16 é‡‡ç”¨bfloat16ç²¾åº¦è¿è¡Œï¼Œå¹³è¡¡æ¨ç†é€Ÿåº¦ä¸æ¨¡å‹æ•ˆæœï¼ŒåŒæ—¶èŠ‚çœå¤§é‡æ˜¾å­˜ --gpu-memory-utilization 0.8 GPUå†…å­˜åˆ©ç”¨ç‡ä¸Šé™ï¼ˆ80%ï¼‰ï¼Œå¯æ ¹æ®æ˜¾å­˜å¤§å°è°ƒæ•´ï¼ˆå¦‚æ˜¾å­˜ä¸è¶³å¯æ”¹ä¸º0.7ï¼‰ å¯åŠ¨æˆåŠŸæ ‡è¯†è‹¥ç»ˆç«¯è¾“å‡º INFO: Uvicorn running on http://0.0.0.0:6006ï¼Œè¯´æ˜æœåŠ¡å·²æˆåŠŸå¯åŠ¨ï¼Œä¿æŒç»ˆç«¯çª—å£å¼€å¯ï¼ˆå…³é—­ç»ˆç«¯ä¼šç»ˆæ­¢æœåŠ¡ï¼‰ã€‚ 3.2 API æœåŠ¡æµ‹è¯•ï¼ˆéªŒè¯éƒ¨ç½²æ•ˆæœï¼‰æœåŠ¡å¯åŠ¨åï¼Œé€šè¿‡ä»¥ä¸‹ä¸¤ç§æµ‹è¯•æ–¹å¼éªŒè¯æ˜¯å¦å¯æ­£å¸¸è°ƒç”¨ã€‚ æµ‹è¯•1ï¼šåŸºç¡€æ¨¡å‹åˆ—è¡¨æŸ¥è¯¢åœ¨æœ¬åœ°ç”µè„‘ç»ˆç«¯ï¼ˆæˆ–æœåŠ¡å™¨æ–°ç»ˆç«¯çª—å£ï¼‰æ‰§è¡Œä»¥ä¸‹ curl å‘½ä»¤ï¼š curl http://ä½ çš„æœåŠ¡å™¨IP:6006/v1/models æ›¿æ¢ ä½ çš„æœåŠ¡å™¨IP ä¸ºå®é™…å…¬ç½‘IPï¼Œè‹¥è¿”å›åŒ…å« id: qwen3-8b çš„JSONæ ¼å¼æ•°æ®ï¼Œè¯´æ˜æœåŠ¡è¿è¡Œæ­£å¸¸ã€‚ æµ‹è¯•2ï¼šå¯¹è¯åŠŸèƒ½æµ‹è¯•ï¼ˆå®é™…è°ƒç”¨æ¨¡å‹ç”Ÿæˆå›å¤ï¼‰åœ¨æœ¬åœ°ç”µè„‘ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹ curl å‘½ä»¤ï¼Œå‘é€å¯¹è¯è¯·æ±‚ï¼š curl http://ä½ çš„æœåŠ¡å™¨IP:6006/v1/chat/completions \\ -H Content-Type: application/json \\ -d model: qwen3-8b, messages: [ role: user, content: ä½ å¥½ï¼Œè¯·ç”¨ä¸€å¥è¯ä»‹ç»ä½ è‡ªå·±ã€‚ ] è‹¥è¿”å›åŒ…å«æ¨¡å‹å›å¤å†…å®¹çš„JSONæ•°æ®ï¼Œè¯´æ˜å¯¹è¯åŠŸèƒ½æ­£å¸¸ï¼Œç§æœ‰åŒ–éƒ¨ç½²APIæœåŠ¡æ­å»ºå®Œæˆã€‚ å››ã€å¸¸è§é—®é¢˜ä¸é¿å‘æŒ‡å— ç«¯å£ä¸é€šï¼Œæ— æ³•è®¿é—®æœåŠ¡ æ’æŸ¥æ­¥éª¤ï¼šâ‘  ç¡®è®¤æœåŠ¡å™¨å®‰å…¨ç»„é˜²ç«å¢™å·²æ”¾è¡Œ 6006 ç«¯å£ï¼ˆAutoDLåœ¨å®ä¾‹æ§åˆ¶å°ã€Œç«¯å£æ˜ å°„ã€ä¸­é…ç½®ï¼‰ï¼›â‘¡ ç¡®è®¤å¯åŠ¨å‘½ä»¤ä¸­ --host ä¸º 0.0.0.0ï¼›â‘¢ ç¡®è®¤æœåŠ¡å™¨IPå¡«å†™æ­£ç¡®ï¼Œæ— ç«¯å£å·è¾“å…¥é”™è¯¯ã€‚ æ˜¾å­˜ä¸è¶³ï¼ˆOOMé”™è¯¯ï¼‰ï¼Œå¯åŠ¨å¤±è´¥ è§£å†³æ–¹æ¡ˆï¼šâ‘  é™ä½ --gpu-memory-utilization å‚æ•°ï¼ˆå¦‚æ”¹ä¸º0.7æˆ–0.6ï¼‰ï¼›â‘¡ å°† --dtype bfloat16 æ”¹ä¸º --dtype float16ï¼ˆè¿›ä¸€æ­¥èŠ‚çœæ˜¾å­˜ï¼Œå°‘é‡æŸå¤±æ•ˆæœï¼‰ï¼›â‘¢ ç§Ÿç”¨æ˜¾å­˜æ›´å¤§çš„GPUå®ä¾‹ï¼ˆå¦‚A100 40GBï¼‰ã€‚ å…³é—­ç»ˆç«¯åï¼ŒæœåŠ¡åœæ­¢è¿è¡Œ è§£å†³æ–¹æ¡ˆï¼šâ‘  ä½¿ç”¨ nohup å‘½ä»¤åå°è¿è¡Œï¼ˆå‘½ä»¤å‰åŠ  nohupï¼Œç»“å°¾åŠ  ï¼Œæ—¥å¿—ä¿å­˜è‡³ nohup.outï¼‰ï¼›â‘¡ å®‰è£… tmuxscreen å·¥å…·ï¼Œåˆ›å»ºä¼šè¯ä¿æŒæœåŠ¡è¿è¡Œï¼ˆé€‚åˆé•¿æœŸéƒ¨ç½²ï¼‰ã€‚ æœ¬åœ°ä»£ç è°ƒç”¨ç§æœ‰æ¨¡å‹ æ ¸å¿ƒé…ç½®ï¼šå°†OpenAI SDKçš„ api_base æ”¹ä¸º http://ä½ çš„æœåŠ¡å™¨IP:6006/v1ï¼Œmodel æ”¹ä¸º qwen3-8bï¼Œå³å¯åƒè°ƒç”¨OpenAIå®˜æ–¹APIä¸€æ ·ä½¿ç”¨ç§æœ‰æ¨¡å‹ã€‚","categories":["ç¼–ç¨‹"]},{"title":"æ€æˆ®å°–å¡”è®¾è®¡æ‹†è§£â€”â€”ä¸–ç•Œè§‚ç¯‡","path":"/posts/de29066e/","content":"ã€Šæ€æˆ®å°–å¡”ã€‹è®¾è®¡æ‹†è§£â€”â€”ä¸–ç•Œè§‚ç¯‡ ç‰¹åˆ«é¸£è°¢ï¼šâ€‹\tè´´å§å¤§ä½¬â€œå¥‡æ€ªçš„å“”å“©â€çš„ä¸–ç•Œè§‚åˆ†æè´´ï¼Œæœ¬æ–‡çš„åˆ†æåŸºäºç¬”è€…è‡ªå·±çš„æ¸¸ç©ä½“éªŒå’Œå¤§ä½¬å¯¹ç»†èŠ‚çš„è§£æã€‚æœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥åœ¨Bç«™è§‚çœ‹è§†é¢‘ç‰ˆï¼š â€‹\tã€ã€ä¸‡å­—è§£æã€‘ã€Šæ€æˆ®å°–å¡”ã€‹é“ç”²æˆ˜å£«èƒŒæ™¯æ•…äº‹åˆ†æã€‘ https://www.bilibili.com/video/BV18cFreWE2S/?share_source=copy_webvd_source=507b3c58ff11ec91bc194db7b0cf2b55 â€‹\tã€è¿˜åœ¨è¿·ä¿¡æ•…éšœæœºå™¨äººï¼Ÿå…¶å®è§‚è€…æ—©å°±ç™»ç¥ï¼ï¼šã€è§‚è€…ã€‘èƒŒæ™¯æ•…äº‹åˆ†æã€‘ https://www.bilibili.com/video/BV1FcPdexE1N/?share_source=copy_webvd_source=507b3c58ff11ec91bc194db7b0cf2b55 â€‹\tã€ä»¥å‡¡äººä¹‹å§¿ç‹©çŒä¸æœ½ä¹‹ç‰©ï¼šã€é™é»˜çŒæ‰‹ã€‘èƒŒæ™¯æ•…äº‹åˆ†æã€‘ https://www.bilibili.com/video/BV13cP1eyEcG/?share_source=copy_webvd_source=507b3c58ff11ec91bc194db7b0cf2b55 â€‹\tã€è¶…è¶Šæ‰€æœ‰äººå·¥åˆ¶å“çš„æ— ä¸Šè‡³å°Šï¼šã€æ•…éšœæœºå™¨äººã€‘èƒŒæ™¯æ•…äº‹åˆ†æã€‘ https://www.bilibili.com/video/BV1FgN1eaED2/?share_source=copy_webvd_source=507b3c58ff11ec91bc194db7b0cf2b55 ä¸€ã€æ ¸å¿ƒè®¾è®¡ç›®æ ‡ï¼šç”¨ä¸–ç•Œè§‚æ„å»ºâ€œæ„ä¹‰æ„Ÿâ€â€‹\tä¸€ä¸ªä¼˜ç§€çš„æ¸¸æˆå¾€å¾€ç²¾å¿ƒæ„å»ºä¸€å¥—å®Œæ•´ä¸”é€»è¾‘è‡ªæ´½çš„ä¸–ç•Œè§‚ï¼Œå®ƒä¸ä»…ä¸ºæ¸¸æˆæä¾›äº†å¯ä¿¡çš„å™äº‹æ ¹åŸºä¸è¡ŒåŠ¨åŠ¨æœºï¼Œæ›´åœ¨æ— å½¢ä¸­å¼•å¯¼ç©å®¶è‡ªç„¶åœ°æ²‰æµ¸äºè™šæ‹Ÿæƒ…å¢ƒï¼Œæ·±åˆ»å¼ºåŒ–è§’è‰²ä»£å…¥æ„Ÿä¸æƒ…æ„Ÿè”ç»“ï¼Œæœ€ç»ˆä½¿æ¸¸æˆä½“éªŒè¶…è¶Šå•çº¯çš„ç©æ³•äº¤äº’ï¼Œæˆä¸ºä¸€æ®µå¯Œæœ‰æ„ä¹‰ã€ä»¤äººä¿¡æœä¸”å›å‘³æ‚ é•¿çš„æ²‰æµ¸å¼å™äº‹æ—…ç¨‹ã€‚ 1.1 ä¸ºä»€ä¹ˆéœ€è¦æœ‰ä¸€ä¸ªä¸–ç•Œè§‚â€‹\tã€Šæ€æˆ®å°–å¡”ã€‹åœ¨è®¾è®¡ä¹‹åˆå°±é¢ä¸´Roguelikeå“ç±»çš„å›ºæœ‰ç—›ç‚¹ï¼šé‡å¤ä½“éªŒå®¹æ˜“ç–²åŠ³ã€å¤šèŒä¸šå®¹æ˜“åŒè´¨åŒ–ã€æ•°å€¼æˆé•¿ç¼ºä¹æƒ…æ„Ÿæ”¯æ’‘ã€ç©å®¶å†³ç­–ç¼ºä¹æ„ä¹‰æ„Ÿã€‚ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆå¾€å¾€æ˜¯å¢åŠ æ›´å¤šéšæœºå†…å®¹æˆ–è°ƒæ•´æ•°å€¼å¹³è¡¡ï¼Œä½†ã€Šæ€æˆ®å°–å¡”ã€‹é€‰æ‹©äº†æ›´æ ¹æœ¬çš„è§£æ³•â€”â€”å°†å™äº‹æ·±åº¦åµŒå…¥æ ¸å¿ƒç³»ç»Ÿã€‚ flowchart TD B{æ€æˆ®å°–å¡”è§£å†³æ–¹æ¡ˆ} B --> D[å™äº‹ç³»ç»ŸåŒ–è®¾è®¡] D --> E[æ¯æ¬¡çˆ¬å¡”éƒ½æ˜¯è§’è‰²ä¸ªäººå²è¯—] D --> F[æ¯ä¸ªèŒä¸šéƒ½æ˜¯å®Œæ•´å™äº‹åŸå‹] D --> G[æ„ç­‘è¿‡ç¨‹å°±æ˜¯è§’è‰²å‘½è¿å¡‘é€ ] D --> H[æ¯æ¬¡é€‰æ‹©éƒ½æ˜¯è§’è‰²æ€§æ ¼ä½“ç°] 1.2 ä¸–ç•Œè§‚å¸¦æ¥äº†ä»€ä¹ˆï¼Ÿåœ¨ã€Šæ€æˆ®å°–å¡”ã€‹ä¸­ï¼Œç©å®¶çš„æ¯ä¸€ä¸ªæ¸¸æˆå†³ç­–éƒ½è¢«èµ‹äºˆäº†åŒé‡æ„ä¹‰ã€‚ä¾‹å¦‚é€‰æ‹©æˆ˜å£«èŒä¸šæ—¶ï¼Œå½“ç©å®¶é€‰æ‹©ä¸€å¼ â€œè…åŒ–â€å¡ç‰Œæ—¶ï¼Œè¿™ä¸ä»…æ˜¯é€‰æ‹©äº†â€œç‰ºç‰²é˜²å¾¡æ¢å–çˆ†å‘â€çš„æ¸¸æˆç­–ç•¥ï¼Œæ›´æ˜¯é€‰æ‹©äº†è®©è§’è‰²â€œå‘æ¶é­”åŠ›é‡å±ˆæœâ€çš„å™äº‹è·¯å¾„ã€‚è¿™ç§è®¾è®¡åˆ›é€ äº†ç‹¬ç‰¹çš„å†³ç­–å¾ªç¯ï¼š é€‰æ‹©å¡ç‰Œé—ç‰© â†’ ç†è§£å™äº‹æ„ä¹‰ â†’ å¢å¼ºæ²‰æµ¸ä½“éªŒ â†’ å½±å“åç»­é€‰æ‹© äºŒã€ä¸–ç•Œè§‚ç³»ç»ŸåŒ–è®¾è®¡æ¡†æ¶2.1 è§’è‰²è®¾è®¡ï¼šå™äº‹ä½œä¸ºå·®å¼‚åŒ–éª¨æ¶2.1.1 æˆ˜å£«ï¼šä»å •è½èµ°å‘è¶…è¶Šçš„å¤ä»‡è€…â€‹\tæˆ˜å£«çš„çš„æ ¸å¿ƒçŸ›ç›¾åœ¨äºåŠ›é‡ä¸ä»£ä»·çš„æ°¸æ’åšå¼ˆï¼Œæ˜¯å‘æ¶é­”ä½å¤´ï¼Œè¿˜æ˜¯è¶…è¶Šè‡ªæˆ‘ï¼Ÿ åŠ›é‡è¿›åŒ–å››é˜¶æ®µï¼š å‡¡äººä¹‹åŠ›é˜¶æ®µï¼š ç™½å¡æ­¦è£…ã€å®Œç¾æ‰“å‡»ã€æ—‹é£æ–©ï¼Œæ•ˆæœæ‰å®ä¸”æœ´å®æ— åï¼Œå±•ç°æˆ˜å£«ä¸€å¼€å§‹ä½œä¸ºä¸€ä¸ªæ™®é€šçš„å†›äººï¼Œä»–æ‰€æ‹¥æœ‰çš„æ‰å®çš„æˆ˜æ–—ç´ å…»ï¼› æ¶é­”ä¹‹åŠ›é˜¶æ®µï¼š æˆ˜å£«å‘æ¶é­”çŒ®ç¥­çµé­‚ï¼Œè·å–æ›´åŠ å¼ºå¤§çš„åŠ›é‡ã€‚ç¥­å“æ˜¯æˆ˜å£«å¼€å§‹çŒ®ç¥­è‡ªå·±ï¼ˆåœ¨æ¸¸æˆé‡Œå…·ä½“è¡¨ç°ä¸ºæ”¯ä»˜ç”Ÿå‘½å€¼ä¸ºä»£ä»·ï¼Œå›èƒ½ä¸æŠ½ç‰Œï¼‰é»‘æš—ä¹‹æ‹¥è¡¨ç°äº†æˆ˜å£«å¼€å§‹æ‹¥æŠ±é»‘æš—çš„ä¸€é¢ï¼ˆç»™æˆ˜å£«å¼ºå¤§çš„è¿‡ç‰Œèƒ½åŠ›ï¼‰ï¼Œè…åŒ–ä»£è¡¨æˆ˜å£«æŠ›å¼ƒè‡ªå·±çš„è¿‡å¾€ï¼Œå°†çµé­‚çŒ®ä¸æ¶é­”ä»¥è·å¾—å¼ºå¤§çš„åŠ›é‡ï¼ˆæ‰€æœ‰æŠ€èƒ½ç‰Œå˜0è´¹ä¸”æ¶ˆè€—ï¼‰ï¼Œæ¶é­”å½¢æ€æ›´æ˜¯ç›´æ¥å±•ç¤ºæˆ˜å£«æ¶å •æˆé­”çš„å¯èƒ½æ€§ï¼› çµé­‚ä¹‹åŠ›é˜¶æ®µï¼š é‡æŒ¯ç²¾ç¥ï¼Œå²¿ç„¶ä¸åŠ¨ï¼Œæ–­é­‚æ–©ç­‰ç‰Œï¼Œè¡¨ç°æˆ˜å£«å¯¹å…‰æ˜ä¸è‡ªæˆ‘çš„å‘ç°ï¼ŒæŠ›å¼ƒä¸æ¶é­”çš„äº¤æ˜“ï¼Œè€Œæ˜¯å»å¯»æ±‚è‡ªæˆ‘æ•‘èµä¸è‡ªæˆ‘è¶…è¶Šçš„å¯èƒ½ï¼› èåˆä¹‹åŠ›é˜¶æ®µï¼š é€šå…³å°–å¡”åï¼Œç»“å±€çš„ç´«è‰²ç«ç„°è±¡å¾å¯¹æ¶é­”ä¹‹åŠ›çš„æœ€ç»ˆæŒæ§ï¼Œä¸å†å—æ¶é­”å½±å“ï¼Œå®Œæˆäº†æ–°ç”Ÿä¸è¶…è¶Š graph LR A[å‡¡äººä¹‹åŠ›çº¢è‰²ï¼Œå†›äº‹æ­¦è‰º] --> B[æ¶é­”ä¹‹åŠ›çº¢â†’é»‘ï¼Œå¥‘çº¦å •è½] B --> C[çµé­‚ä¹‹åŠ›è“è‰²ï¼Œè‡ªæˆ‘è§‰é†’] C --> D[èåˆä¹‹åŠ›ç´«è‰²ï¼Œæ–°ç”Ÿè¶…è¶Š] style A fill:#ffcccc style B fill:#333333,color:#ffffff style C fill:#ccccff style D fill:#cc99ff 2.1.2 é™é»˜çŒæ‰‹ï¼šä»¥æŠ€è‰ºå¯¹æŠ—è¶…å‡¡çš„æ™ºè€…çŒæ‰‹çš„è®¾è®¡æŠ›å‡ºäº†ä¸€ä¸ªæ ¸å¿ƒå‘½é¢˜ï¼šå‡¡äººèƒ½å¦å‡­å€Ÿæ™ºæ…§ä¸æŠ€è‰ºå¯¹æŠ—è¶…å‡¡å­˜åœ¨ï¼Ÿ è¿™ä¸ªè§’è‰²çš„æ‰€æœ‰æœºåˆ¶éƒ½æœåŠ¡äºè¿™ä¸€å™äº‹ä¸»é¢˜ã€‚ æœºåˆ¶ä¸å™äº‹çš„ç²¾å‡†å¯¹åº”ï¼š ä¸¢å¼ƒæœºåˆ¶ï¼šâ€œä¸“æ³¨è¦å®³ï¼Œæ‘’å¼ƒæ‚å¿µâ€çš„çŒæ‰‹æ€ç»´ â†’ æ¸¸æˆä¸­çš„è¿‡æ»¤ç‰Œåº“ç­–ç•¥ æ‚æŠ€ã€æœ¬èƒ½ååº”ç­‰ç‰Œï¼Œä½œä¸ºæŠ½ç‰Œå¡ï¼Œå¡é¢çš„æè¿°ä¸æ’ç”»æ— ä¸€ä¸å±•ç°çŒæ‰‹çš„çµæ•ï¼Œåœ¨æ¸¸æˆé‡Œä½“ç°çš„æ˜¯è¶…è¶Šå…¶ä»–èŒä¸šçš„å¤§è¿‡ç‰Œï¼›è€Œä¸¢å¼ƒè¿™ä¸€æ¦‚å¿µè¡¨ç°çŒäººå¯¹äºæˆ˜æ–—çš„ä¸“æ³¨ï¼Œæ‘’å¼ƒæ‚å¿µï¼Œè€Œåœ¨æ¸¸æˆä¸­åˆ™ä½“ç°åœ¨â€œæœ¬èƒ½ååº”ï¼ˆå¼ƒç½®æ­¤ç‰ŒæŠ½3å¼ ï¼‰â€å’Œâ€œæˆ˜æœ¯å¤§å¸ˆï¼ˆå¼ƒç½®æ­¤ç‰Œå›2è´¹ï¼‰â€è¿™ä¸¤å¼ å¼ƒç‰Œä½“ç³»çš„æ ¸å¿ƒå¡ã€‚ å°åˆ€æµï¼šâ€œé«˜é¢‘ä½ä¼¤ï¼ŒæŠ€å·§è‡³ä¸Šâ€çš„æˆ˜æ–—å“²å­¦ â†’ é¢‘ç‡ä¹˜åŒºçš„æ„ç­‘æ€è·¯ å’Œå…¶ä½™èŒä¸šçš„å¼ºå¤§è®¾å®šä¸åŒï¼ŒçŒäººæ˜¯éƒ¨æ—ä¸­çš„ä½¼ä½¼è€…ï¼Œä½†æ¯•ç«Ÿåªæ˜¯å‡¡äººä¹‹èº¯ï¼Œä¸ºäº†å¯¹æŠ—æ•Œäººï¼ŒçŒäººéœ€è¦æè‡´çš„æˆ˜æ–—æŠ€å·§ã€‚åˆ€åˆƒä¹‹èˆï¼ˆè·å¾—å››æŠŠ0è´¹çš„å°åˆ€ï¼‰é…åˆèƒ½åŠ›ç‰Œç²¾å‡†ï¼ˆå°åˆ€ä¼¤å®³å¢åŠ ï¼‰å’Œé—ç‰©è¢–ç®­ï¼ˆ0è´¹æ”»å‡»ç‰Œä¼¤å®³å¢åŠ ï¼‰ï¼Œæ­£æ˜¯å±•ç°äº†çŒäººè¿™ä¸€ç‰¹ç‚¹â€”â€” å°½ç®¡æ²¡æœ‰ç‰¹åˆ«çš„åŠ›é‡ï¼ˆå°åˆ€çš„åˆå§‹ä¼¤å®³ä¸é«˜ï¼‰ï¼Œä½†é•¿æœŸçš„è®­ç»ƒè®©çŒäººçš„å‡†åº¦å¢åŠ ï¼ˆè¡¨ç°ä¸ºç²¾å‡†ï¼‰ï¼Œæ­é…æ­¦å™¨è¢–ç®­ï¼Œä¹Ÿèƒ½æ‰“å‡ºçˆ†ç‚¸çš„ä¼¤å®³ã€‚ æ¯’è¯ç³»ç»Ÿï¼šâ€œæ™ºæ…§å¼¥è¡¥åŠ›é‡ä¸è¶³â€çš„ç”Ÿå­˜ç­–ç•¥ â†’ å±‚æ•°ç§¯ç´¯çš„ä¼¤å®³æ–¹å¼ æ¯’è´¼åˆ™å±•ç¤ºçŒæ‰‹çš„å¦ä¸€é¢ï¼šç¼œå¯†çš„å¤´è„‘ä¸ç²¾å¯†å¦‚åŒ–å­¦å®éªŒèˆ¬çš„æˆ˜æœ¯æ€ç»´ï¼Œæ“…é•¿ä»¥å·§å–èƒœã€ä»¥æ™ºå…‹åŠ›ã€‚ä¾‹å¦‚â€œæ¶‚æ¯’â€ï¼ˆæ¯æ¬¡æ”»å‡»é™„å¸¦ä¸€ç‚¹æ¯’ï¼‰è¿™å¼ èƒ½åŠ›å¡ï¼Œä½¿æ¯’ç´ èˆ¬åœ¨æ•Œäººä½“å†…ç¼“æ…¢ç´¯ç§¯ã€æŒç»­ç”Ÿæ•ˆã€‚è€Œå¾…åˆ°æ¯’è‡³ä¸´ç•Œæ—¶ï¼Œâ€œå‚¬åŒ–å‰‚â€ï¼ˆæ¯’å±‚æ•°ç¿»è‡³ä¸‰å€ï¼‰å¡ç‰Œçš„åŠ å…¥ï¼Œæ›´è®©æ¯’æ€§å¦‚è¿é”ååº”èˆ¬éª¤ç„¶çˆ†å‘ï¼Œè¿™æ­£æ˜¯çŒæ‰‹åœ¨å®æˆ˜ä¸­ç²¾äºè®¡ç®—ã€è€å¿ƒå¸ƒå±€ï¼Œæœ€ç»ˆä¸€å‡»åˆ¶æ•Œçš„æ€ç»´ä½“ç°â€”â€”å¥¹ä¸é è›®åŠ›ç¢¾å‹ï¼Œè€Œæ˜¯åœ¨æœ€æ°å½“çš„æ—¶æœºå¼•çˆ†æœ€å‰§çƒˆçš„ååº”ã€‚è¿™ç§æˆ˜æ–—é£æ ¼ï¼Œæ—¢æ˜¯å¯¹â€œçŒäººâ€ä¹‹åçš„çœŸæ­£è¯ é‡Šï¼Œä¹Ÿæ˜¯å¯¹â€œæ™ºæ…§èƒœäºåŠ›é‡â€è¿™ä¸€æ ¸å¿ƒå™äº‹çš„å®Œç¾ç»­å†™ã€‚ å¹½é­‚å½¢æ€ï¼šâ€œå‘çŒç‰©å­¦ä¹ è¶…å‡¡â€çš„æˆé•¿è·¯å¾„ â†’ è·å¾—æ— æ•Œé˜²å¾¡çš„èƒ½åŠ› è¿™æ˜¯çŒäººæœ€å¯æ€•ä¹‹å¤„ï¼Œå¥¹ä¼šä»å¯¹æ‰‹é‚£é‡Œå­¦åˆ°å¯¹æ–¹æœ€å¼•ä»¥ä¸ºå‚²çš„ä¼˜ç‚¹ã€‚å››å¤§å½¢æ€ä¸­ä¹Ÿå±çŒæ‰‹å­¦ä¼šçš„å¹½é­‚å½¢æ€æœ€ä¸ºå¼ºå¤§å’Œæ³›ç”¨ã€‚ 2.1.3 æ•…éšœæœºå™¨äººï¼šæ–‡æ˜é—äº§çš„ç»§æ‰¿è€…åœ¨æ€æˆ®å°–å¡”çš„ä¸–ç•Œè§‚é‡Œï¼Œæ•…éšœæœºå™¨äººä»£è¡¨äº†å…ˆå¤ä¹‹æ°‘ç§‘æŠ€ä¸é­”æ³•ç»“åˆçš„å·…å³°æˆå°±ï¼Œå…¶è®¾è®¡å›´ç»•â€œæŒ‡æ•°æˆé•¿â€å’Œâ€œæ–‡æ˜ç»§æ‰¿â€ä¸¤ä¸ªæ ¸å¿ƒä¸»é¢˜å±•å¼€ã€‚ç”±äºç¬”è€…å¯¹æœºå™¨äººçš„ç†è§£ä¸ç”šç²¾é€šï¼Œæ–‡æœ¬ä¹Ÿæœªä»”ç»†ç ”ç©¶ï¼Œå› æ­¤åªåšç®€è¦æ¦‚è¿°ï¼š journey title æœºå™¨äººçš„ä¸‰é˜¶æ®µæˆé•¿ä½“éªŒ section å¯åŠ¨æœŸ å¤ä»£é€ ç‰©è‹é†’: 5 èƒ½åŠ›ç‰Œå»¶è¿Ÿæ”¶ç›Š: 3 â€œéœ€è¦è€å¿ƒå¸ƒå±€â€: 2 section æˆé•¿æœŸ ç³»ç»Ÿæƒé™è·å–: 5 é›†ä¸­åŠ›ä¹˜æ³•æ•ˆåº”: 4 â€œå¼€å§‹äº§ç”Ÿè´¨å˜â€: 4 section å·…å³°æœŸ ç»§æ‰¿æ–‡æ˜é—äº§: 5 æ— é™çƒ/é€’å½’å¾ªç¯: 5 â€œæˆ‘æ˜¯å¤©ç¾â€: 5 2.1.4 è§‚è€…ï¼šä»å‡¡èº¯åˆ°ç¥åŸŸçš„é€šç¥è€…è§‚è€…çš„è®¾è®¡å±•ç°äº†æ¸¸æˆä¸­æœ€å®Œæ•´çš„æˆé•¿é˜¶æ¢¯ï¼Œä»å‡¡äººçš„æˆ˜æ–—æŠ€å·§åˆ°è§¦åŠç¥åŸŸçš„é€šç¥èƒ½åŠ›ï¼Œæ¯ä¸€æ­¥éƒ½æœ‰æ¸…æ™°çš„å™äº‹æ”¯æ’‘ã€‚ åŠ›é‡æˆé•¿çš„å››ä¸ªé˜¶æ¢¯ï¼š å‡¡äººä¹‹èº¯ï¼š â€‹\tç–¾é£è¿å‡»ã€ç²‰ç¢å…³èŠ‚ã€æ´è§ç­‰ç‰Œï¼Œæ˜¯è§‚è€…ä½œä¸ºä¸€ä½æˆ˜æ–—è€…æ‰€æ‹¥æœ‰çš„åŸºæœ¬ç´ è´¨ï¼Œå®ƒä»¬åœ¨æ¸¸æˆä¸­ä¹Ÿå¤§å¤šè¡¨ç°ä¸ºç™½å¡ï¼› å¿ƒçµä¹‹åŠ›ï¼š â€‹\tå§¿æ€åˆ‡æ¢ã€æƒ…ç»ªåŒ–ä¸ºåŠ›é‡ã€‚æ„¤æ€’è®©è§‚è€…çš„è¾“å‡ºèƒ½åŠ›ç¿»å€ï¼Œå¹³é™åˆ™ç»™è§‚è€…æä¾›èƒ½é‡ã€‚å…¶å®åè€…æœ‰ç‚¹ç¬¦åˆä¸œæ–¹çš„ç¦…ä¿®å“²å­¦ï¼› è§„åˆ™æ“æ§ï¼š â€‹\tä¿ç•™æœºåˆ¶ã€ç°å®æ‰¹å‡†ã€‚è§‚è€…æ˜¯4ä½ä¸­æœ€æ¥è¿‘æ‰€è°“â€œç¥â€çš„å­˜åœ¨ï¼Œå¥¹èƒ½å¤Ÿä¿ç•™åŠ›é‡ï¼ˆåœ¨æ¸¸æˆé‡Œä½“ç°ä¸ºå¡ç‰Œï¼‰ï¼Œç­‰åˆ°åˆé€‚çš„æ—¶æœºå´½ä½¿ç”¨ï¼›å¥¹åœ¨æ¸¸æˆä¸­æœ‰æ“çºµç°å®ï¼ˆç»™æ–°åŠ å…¥çš„å¡å‡çº§ï¼‰å’Œç¡®ç«‹åŸºç¡€ï¼ˆæ‰€æœ‰ä¿ç•™çš„å¡å‡è´¹ï¼‰è¿™ä¸¤å¼ å¡ï¼Œä½“ç°äº†å¥¹è‡ªå·±è¶…è„±äºç°å®çš„åŠ›é‡ã€‚ ç¥åŸŸè§¦åŠï¼š â€‹\tçœŸè¨€ç§¯ç´¯ã€ç¥æ ¼å½¢æ€ã€‚ç¥æ ¼ä½“ç³»ä»æ–‡æœ¬è®¾è®¡ä¸Šå€’æ˜¯æœ‰è¶£ï¼Œæ•¬æ‹œã€ç¥ˆç¥·ã€äº”ä½“æŠ•åœ°è¿™å‡ å¼ å¡ç§¯ç´¯ä¸€å®šçœŸè¨€åè¿›å…¥ç¥æ ¼ï¼Œè±¡å¾è§‚è€…çš„è™”è¯šï¼Œåœ¨ä¸€æ­¥æ­¥æœåœ£ä¸­è·å¾—ç¥åŠ›ï¼›è€Œæ¸ç¥è¿™å¼ å¡è®¾è®¡çš„å¾ˆæœ‰è¶£ï¼Œç«‹å³è¿›å…¥ç¥æ ¼ï¼Œä½†ä¸‹å›åˆä¼šæ­»äº¡ï¼Œè¿™å±•ç°è§‚è€…å¯¹åœ¨é«˜å¡”ä¸­é€æ¸å‘ç°çœŸç›¸ï¼Œå¯¹æ‰€è°“â€™â€˜ç¥â€œå¤±å»ä¿¡ä»°ã€‚ç»“å±€é‡Œè§‚è€…çå¼€ç´«é‡‘è‰²çš„çœ¼ï¼Œæš—ç¤ºè§‚è€…å¯èƒ½ä¾ç„¶ç™»ç¥ã€‚ 2.2 è¿›ç¨‹è®¾è®¡ï¼šä¸‰å±‚ç»“æ„çš„å™äº‹èŠ‚å¥2.2.1 ç²¾å¿ƒç¼–æ’çš„ä¸‰å±‚ç»“æ„ã€Šæ€æˆ®å°–å¡”ã€‹çš„é«˜å¡”ä¸‰å±‚ä¸ä»…æ˜¯éš¾åº¦é€’è¿›ï¼Œæ›´æ˜¯å™äº‹èŠ‚å¥çš„ç²¾å¿ƒç¼–æ’ã€‚è®©éš¾åº¦é€å±‚é€’è¿›çš„é€»è¾‘æ›´åŠ åˆç†ï¼Œä¹Ÿæ›´æ˜“äºç©å®¶æ¥å— ç¬¬ä¸€å±‚ï¼šåºŸå¢Ÿä¸å¥ åŸº å™äº‹æ°›å›´ï¼šåˆæ¢é—è¿¹ï¼Œç›¸å¯¹å®‰å…¨ï¼Œé‡åˆ°çš„åªæœ‰å’”å’”ã€æ¯›æ¯›è™«ï¼Œå°åœ°ç²¾ä¹‹ç±»çš„å°æ€ª è®¾è®¡ç›®æ ‡ï¼šæ•™å­¦ä¸æ„ç­‘å¥ åŸº ç²¾è‹±å¼•å¯¼ï¼šå°çº¢ï¼ˆè¦æ±‚æ”»å‡»æµ“åº¦ï¼‰ã€ä¸‰æŸ±ï¼ˆè¦æ±‚AOEèƒ½åŠ›ï¼‰ ç¬¬äºŒå±‚ï¼šåŸå¸‚ä¸å‹åŠ› å™äº‹æ°›å›´ï¼šæ·±å…¥æ–‡æ˜è…¹åœ°ï¼Œå±é™©åŠ å‰§ï¼Œä½ å°†ä¼šé‡åˆ°å¤æ–‡æ˜ç•™ä¸‹çš„æœºå™¨é€ ç‰©ï¼Œä»åœ¨å¡”å†…å±…ä½çš„ç›—è´¼ï¼Œå¥´éš¶è´©å­ç­‰å±é™©äººç¾¤ è®¾è®¡ç›®æ ‡ï¼šå¤šç»´å‹åŠ›æµ‹è¯• å‹åŠ›æ¥æºï¼šè¡€é‡å‹åŠ›ã€çŠ¶æ€å‹åŠ›ã€ç‰Œåº“æ±¡æŸ“ã€ç»æµå‹åŠ› ç¬¬ä¸‰å±‚ï¼šæ—¶ç©ºä¸æ£€éªŒ å™äº‹æ°›å›´ï¼šè§„åˆ™å´©åï¼Œæ¥è¿‘æ ¸å¿ƒï¼Œä½ ä¼šé‡åˆ°å·¨å¤§çš„å€’ä¸‹çš„å¤´é¢…ï¼Œä¿¡ä»°è›‡è¿™ä¸€å›¾è…¾çš„è›‡å¥³ï¼Œä»¥åŠå„ç§å¥‡å½¢æ€ªçŠ¶çš„æ€ªç‰© è®¾è®¡ç›®æ ‡ï¼šæ„ç­‘å®Œæ•´æ€§æ£€éªŒ BOSSè€ƒå®˜ï¼šæ¯ä¸ªBOSSæ£€éªŒç‰Œç»„çš„ä¸åŒæ–¹é¢ 2.2.2 å¿ƒè„æˆ˜ï¼šç»ˆæå™äº‹é«˜æ½®å¿ƒè„ä½œä¸ºæœ€ç»ˆBOSSï¼Œä¸ä»…æ˜¯éš¾åº¦é¡¶å³°ï¼Œæ›´æ˜¯å™äº‹ä¸»é¢˜çš„é›†å¤§æˆè€…ã€‚å…¶å››é¡¹æœºåˆ¶å„è‡ªå¯¹åº”ä¸åŒçš„æ£€éªŒç»´åº¦å’Œå™äº‹éšå–»ï¼š graph TD subgraph A[å¿ƒè„æœºåˆ¶è®¾è®¡] B[å¾‹åŠ¨æœºåˆ¶] --> C[å¼ºåˆ¶è¦æ±‚é˜²å¾¡æµ“åº¦éšå–»ï¼šåŠ›é‡çš„åå™¬] D[åšä¸å¯æ‘§] --> E[æœç»é€Ÿæ€å¯èƒ½éšå–»ï¼šçœŸæ­£çš„è€åŠ›è€ƒéªŒ] F[çŠ¶æ€æ±¡æŸ“] --> G[æ£€éªŒç‰Œåº“çº¯å‡€åº¦éšå–»ï¼šæ··ä¹±ä¸­çš„æ¸…é†’] H[é«˜æˆé•¿] --> I[è®¾ç½®è½¯å›åˆé™åˆ¶éšå–»ï¼šæ—¶é—´çš„å‹åŠ›] end subgraph J[è®¾è®¡ç›®çš„] K[å…¨é¢éªŒæ”¶ç‰Œç»„æ”»é˜²è¿è½¬æ¸…çŠ¶æ€å…¨é¢è¾¾æ ‡] end A --> J 2.3 éšæœºç³»ç»Ÿï¼šç¢ç‰‡å™äº‹çš„å¼•å¯¼åŠ›æ€æˆ®å°–å¡”çš„å™äº‹ä»æ¥ä¸æ˜¯è¿è´¯çš„ï¼Œå®ƒå¾€å¾€åœ¨é—ç‰©æ–‡æœ¬ï¼Œå¡é¢æ’ç”»å’Œé—®å·äº‹ä»¶ä¸­ï¼Œè®©ç©å®¶ä¸€æ­¥ä¸€æ­¥æ‹¼å‡‘äº‹ä»¶çš„çœŸç›¸ 2.3.1 äº‹ä»¶ç³»ç»Ÿçš„å™äº‹åŒ–é‡æ„ä¼ ç»ŸRoguelikeçš„äº‹ä»¶å¾€å¾€æ˜¯â€œæ”¶ç›ŠvsæŸå¤±â€çš„ç®€å•åšå¼ˆã€‚ã€Šæ€æˆ®å°–å¡”ã€‹å°†è¿™ç§åšå¼ˆå‡çº§ä¸º â€œç¢ç‰‡åŒ–å™äº‹æ¢ç´¢â€ä¸â€œå³æ—¶èµ„æºå®‰å…¨â€çš„å¤åˆå¼æŠ‰æ‹©ã€‚ å…¶è®¾è®¡ç²¾é«“åœ¨äºï¼šæ¸¸æˆä»ä¸ç›´æ¥è®²è¿°å®Œæ•´æ•…äº‹ï¼Œè€Œæ˜¯å°†ä¸–ç•Œè§‚çš„çº¿ç´¢ä¸è§’è‰²çš„è¿‡å»ï¼Œæ‹†è§£ä¸º â€œå¯äº¤äº’çš„å™äº‹ç¢ç‰‡â€ï¼Œæ•£è½åœ¨ç©å®¶å¿…ç»çš„å†³ç­–ä¹‹ä¸­ã€‚ä»¥â€œæ„ŸçŸ¥çŸ³â€äº‹ä»¶ä¸ºä¾‹ï¼š è¡¨å±‚åšå¼ˆï¼šé€‰é¡¹Aï¼ˆæŸå¤±ç”Ÿå‘½ï¼Œè·å¾—ä¸€å¼ éšæœºæ— è‰²ç‰Œï¼‰ vs é€‰é¡¹Bï¼ˆæ— äº‹å‘ç”Ÿï¼Œä¿ç•™è¡€é‡ï¼‰ å™äº‹å±‚åšå¼ˆï¼šé€‰é¡¹Aï¼ˆè§¦æ‘¸çŸ³å¤´ï¼Œè¢«è¿«ç›´é¢ä¸€æ®µç—›è‹¦æˆ–å…³é”®çš„è¿‡å¾€è®°å¿†ï¼Œå¹¶ä»¥ä¸€å¼ â€œå¡ç‰Œâ€çš„å½¢å¼å°†è¿™ä»½è®°å¿†å›ºåŒ–ä¸ºå·±ç”¨ï¼‰ vs é€‰é¡¹Bï¼ˆæ‹’ç»å›å¿†ï¼Œä¿æŒç°çŠ¶ï¼Œä½†å¯èƒ½æ°¸è¿œé”™è¿‡ç†è§£â€œæˆ‘æ˜¯è°â€ä¸â€œæˆ‘ä¸ºä½•åœ¨æ­¤â€çš„æœºä¼šï¼‰ è¿™ç§è®¾è®¡å°†ä¸€æ¬¡æ™®é€šçš„èµ„æºäº¤æ¢ï¼Œè½¬åŒ–ä¸ºä¸€æ¬¡ â€œè§’è‰²èº«ä»½å»ºæ„â€ çš„ä¸»åŠ¨é€‰æ‹©ã€‚ç©å®¶åœ¨è¡¡é‡ç”Ÿå‘½å€¼ä¸ä¸€å¼ æœªçŸ¥å¡ç‰Œçš„ä»·å€¼æ—¶ï¼Œæ½œæ„è¯†é‡Œä¹Ÿåœ¨å›ç­”ï¼šâ€œæˆ‘çš„è§’è‰²æ˜¯å¦æ¸´æœ›é¢å¯¹çœŸç›¸ï¼Ÿä»–å¥¹æ˜¯ä¸€ä¸ªå‹‡äºæ­å¼€ä¼¤ç–¤çš„æ¢å¯»è€…ï¼Œè¿˜æ˜¯ä¸€ä¸ªå›é¿è¿‡å»çš„ç”Ÿå­˜è€…ï¼Ÿâ€ 2.3.2 ç¢ç‰‡åŒ–å™äº‹çš„è½½ä½“ï¼šé—ç‰©ã€å¡ç‰Œä¸äº‹ä»¶çš„æ–‡æœ¬å¯†è¯­ é—ç‰©çš„æè¿°æ–‡æœ¬ï¼šçŸ­çŸ­ä¸€ä¸¤å¥è¯ï¼Œæ—¢æ˜¯åŠŸèƒ½è¯´æ˜ï¼Œä¹Ÿæ˜¯å¾®å‹æ•…äº‹ã€‚ä¾‹å¦‚â€œç—›æ¥šå°è®°â€ï¼ˆæˆ˜å£«ä¸“å±é—ç‰©ï¼‰çš„æè¿°ï¼šâ€œåŒ—æ–¹éƒ¨æ—çš„æˆ˜å£«ä»¬ç”¨è¿™ä¸ªæ¥å°†ç—›æ¥šè½¬åŒ–ä¸ºåŠ›é‡ã€‚â€è¿™å¥è¯æœªå±•å¼€ä»»ä½•èƒŒæ™¯ï¼Œå´ç›´æ¥ç‚¹æ˜äº†æˆ˜å£«çš„å‡ºèº«ï¼ˆåŒ—æ–¹éƒ¨æ—ï¼‰åŠå…¶æ ¸å¿ƒæˆ˜æ–—å“²å­¦ï¼ˆè½¬åŒ–ç—›æ¥šï¼‰ï¼Œå¹¶ä¸å…¶â€œä¼¤å£â€æœºåˆ¶å½¢æˆäº’æ–‡ã€‚ å¡ç‰Œçš„å›¾åƒä¸åç§°ï¼šå¡é¢ç¾æœ¯ä¸åç§°æ˜¯æœªè¢«è¨€è¯´çš„å™äº‹ã€‚è§‚è€…çš„â€œè¯¸ç¥ä¹‹é»„æ˜â€å¡é¢æç»˜é›·éœ†ä¸æ´ªæ°´è¢­å‡»é«˜å¡”ï¼Œå…¶åç§°ç›´æ¥å€Ÿç”¨åŒ—æ¬§ç¥è¯ä¸­çš„æœ«æ—¥ä¹‹æˆ˜ï¼Œä¸¤è€…ç»“åˆï¼Œå¼ºçƒˆæš—ç¤ºäº†é«˜å¡”ä¸–ç•Œæ›¾é­é€¢ä¸€åœºç¥ç½šçº§çš„ç¾éš¾ã€‚ç©å®¶æ— éœ€é˜…è¯»ä»»ä½•æ–‡æœ¬ï¼Œä¾¿èƒ½æ„Ÿå—åˆ°ç”»é¢ä¸­è•´å«çš„å®å¤§æ‚²å‰§ä¸æ¯ç­æ„è±¡ã€‚ äº‹ä»¶ä¸­çš„å¯¹è¯ä¸é€‰é¡¹ï¼šéšæœºäº‹ä»¶æ˜¯åŠ¨æ€çš„å™äº‹ç¢ç‰‡ã€‚åœ¨â€œå¹½çµè®®ä¼šâ€äº‹ä»¶ä¸­ï¼Œå¹½çµä»¬ä¼šç§°ç©å®¶ä¸ºâ€œå¥¥æ¶…çš„ç©å¶â€ï¼Œå¹¶é‚€è¯·ä½ â€œå°è¯•æˆ‘ä»¬çš„åŠ›é‡â€ã€‚è¿™çŸ­çŸ­å‡ å¥å¯¹è¯ï¼Œè‡³å°‘æŠ›å‡ºäº†ä¸‰ä¸ªå™äº‹é’©å­ï¼šå¥¥æ¶…æ˜¯è°ï¼Ÿæˆ‘ä»¬ä¸å¥¥æ¶…æ˜¯ä½•å…³ç³»ï¼Ÿå¹½çµçš„åŠ›é‡æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿç©å®¶é€šè¿‡é€‰æ‹©æ˜¯å¦æ¥å—åŠ›é‡ï¼Œä¸ä»…è·å¾—äº†æ¸¸æˆæ€§çš„â€œçµä½“â€å¡ç‰Œï¼Œä¹Ÿäº²è‡ªä»‹å…¥äº†è¿™æ®µæ¨¡ç³Šçš„äº¡çµå¾€äº‹ï¼Œå…¶é€‰æ‹©æœ¬èº«å°±æˆäº†å¯¹è§’è‰²ä¸å¹½çµå…³ç³»çš„ä¸€ç§è¯ é‡Šã€‚ è½½ä½“ å™äº‹å†…å®¹ä¸¾ä¾‹ å™äº‹ç‰¹ç‚¹ ç©å®¶è¡Œä¸º é—ç‰©æè¿° â€œæ•æ¢¦ç½‘ï¼šåŒ—æ–¹éƒ¨æ—çš„çŒæ‰‹ç”¨å®ƒæ¥æ»¤é™¤å™©æ¢¦ï¼Œåªç•™ä¸‹é¢„å…†ã€‚â€ å†°å±±ä¸€è§’ï¼Œæš—ç¤ºæ–‡åŒ–ã€ä¹ ä¿—ä¸ä¿¡ä»°ã€‚ é˜…è¯»ã€è”æƒ³ã€æ‹¼å‡‘æ—ç¾¤èƒŒæ™¯ã€‚ å¡ç‰Œå›¾åƒå å¡ç‰Œâ€œæ¶é­”å½¢æ€â€ä¸Šæˆ˜å£«ç‹°ç‹çš„æ ·è²Œä¸æ‰‹ä¸­çš„ç«ç„°ï¼›â€œæ­»äº¡æ”¶å‰²â€ä¸­æ±²å–çš„è“è‰²çµé­‚èƒ½é‡ã€‚ è§†è§‰å™äº‹ï¼Œå±•ç°è§’è‰²çŠ¶æ€ã€åŠ›é‡æ¥æºæˆ–ä¸–ç•Œç‰‡å½±ã€‚ è§‚å¯Ÿã€è§£è¯»å›¾åƒèƒŒåçš„æ•…äº‹ä¸å˜åŒ–ã€‚ äº‹ä»¶æ–‡æœ¬ â€œå¥³é¬¼â€äº‹ä»¶ä¸­ï¼Œé‚£ä¸ªä¸æ–­è¯¢é—®ä½ æ˜¯å¦è®¤è¯†å¥¹çš„å“€ä¼¤çµé­‚ã€‚ æ²‰æµ¸å¼ç‰‡æ®µï¼Œæä¾›æƒ…æ„Ÿå†²å‡»ä¸æœªè§£ä¹‹è°œã€‚ åšå‡ºé€‰æ‹©ï¼Œå‚ä¸å¹¶å®šä¹‰è¿™æ®µå°å‹å™äº‹ã€‚ è¿™ç§ â€œç¢ç‰‡åŒ–-è½½ä½“åŒ–â€ çš„å™äº‹ç­–ç•¥ï¼Œåˆ›é€ äº†ç‹¬ç‰¹çš„ç©å®¶ä½“éªŒï¼šè¿½æ±‚å‰§æƒ…çš„ç©å®¶ä¼šåƒè€ƒå¤å­¦å®¶ä¸€æ ·ï¼Œä»”ç»†å®¡è§†æ¯ä¸€ä»¶é—ç‰©çš„è¯´æ˜ï¼Œç«¯è¯¦æ¯ä¸€å¼ å¡ç‰Œçš„ç”»ä½œï¼Œå“å‘³æ¯ä¸€æ®µäº‹ä»¶çš„å¯¹è¯ï¼Œä»ä¸­å‰¥ç¦»ä¿¡æ¯ï¼Œåœ¨è„‘æµ·ä¸­æ„å»ºå±äºè‡ªå·±çš„ä¸–ç•Œè§‚å›¾æ™¯ã€‚è€Œä¸å…³æ³¨å‰§æƒ…çš„ç©å®¶ï¼Œåˆ™å¯ä»¥å®Œå…¨æ— è§†è¿™äº›æ–‡æœ¬ä¸æš—ç¤ºï¼Œæ¯«ä¸å½±å“ä»–ä»¬äº«å—æ„ç­‘ä¸çˆ¬å¡”çš„æ ¸å¿ƒä¹è¶£ã€‚å™äº‹ç”±æ­¤æˆä¸ºä¸€ç§ â€œå¯é€‰çš„æ·±åº¦â€ ï¼Œè€Œéå¼ºåˆ¶çš„çŒè¾“ï¼Œè¿™æ­£æ˜¯ã€Šæ€æˆ®å°–å¡”ã€‹åœ¨å™äº‹ç³»ç»ŸåŒ–è®¾è®¡ä¸Šçš„é«˜æ˜ä¹‹å¤„ã€‚ 2.4 æ ¸å¿ƒå¾ªç¯ï¼šä»ç©æ³•åˆ°æ„ä¹‰çš„å‡åã€Šæ€æˆ®å°–å¡”ã€‹çš„æ ¸å¿ƒå¾ªç¯è®¾è®¡å®ç°äº†ä»è¡¨å±‚ç©æ³•åˆ°æ·±å±‚æ„ä¹‰çš„è‡ªç„¶è¿‡æ¸¡ï¼š è¡¨å±‚å¾ªç¯ï¼ˆç©å®¶ç›´è§‚æ„Ÿå—ï¼‰ï¼šæˆ˜æ–— â†’ è·å–å¥–åŠ± â†’ é€‰æ‹©è·¯çº¿ â†’ ç»§ç»­æˆ˜æ–— æ·±å±‚å¾ªç¯ï¼ˆå™äº‹èµ‹äºˆæ„ä¹‰ï¼‰ï¼šå‘æ˜è®°å¿†ï¼ˆè·å–å¡ç‰Œé—ç‰©ï¼‰ â†’ ç†è§£è¿‡å»ï¼ˆé˜…è¯»èƒŒæ™¯æ–‡æœ¬ï¼‰ â†’ å¡‘é€ è‡ªæˆ‘ï¼ˆç¡®å®šæ„ç­‘æ–¹å‘ï¼‰ â†’ é¢å¯¹çœŸç›¸ï¼ˆæŒ‘æˆ˜å…³é”®é¦–é¢†ï¼‰ â†’ æ”¹å˜ä¸–ç•Œï¼ˆè¾¾æˆè§’è‰²ç»“å±€ï¼‰ ä¸‰ã€è®¾è®¡å“²å­¦æç‚¼3.1 å››å¤§æ ¸å¿ƒç†å¿µç†å¿µä¸€ï¼šç©æ³•å³å™äº‹ã€Šæ€æˆ®å°–å¡”ã€‹å½»åº•æ‘’å¼ƒäº†ç‹¬ç«‹çš„å‰§æƒ…åŠ¨ç”»å’Œè¿‡åœºCGã€‚è§’è‰²çš„æ¯ä¸€ä¸ªèƒ½åŠ›ã€æ•Œäººçš„æ¯ä¸€ä¸ªè¡Œä¸ºã€ç©å®¶çš„æ¯ä¸€ä¸ªæŠ‰æ‹©ï¼Œè¿™äº›æœ¬èº«å°±æ˜¯æ•…äº‹çš„è®²è¿°ã€‚å½“æˆ˜å£«æ‰“å‡ºâ€œé»‘æš—ä¹‹æ‹¥â€æ—¶ï¼Œè¿™ä¸åªæ˜¯åœ¨è·å¾—è¿‡ç‰Œèƒ½åŠ›ï¼Œæ›´æ˜¯åœ¨ç»å†è¢«æ¶é­”ä¾µèš€çš„è¿‡ç¨‹ï¼›å½“çŒæ‰‹ä½¿ç”¨â€œä¸¢å¼ƒâ€æ—¶ï¼Œè¿™ä¸åªæ˜¯åœ¨è¿‡æ»¤ç‰Œåº“ï¼Œæ›´æ˜¯åœ¨æˆ˜æ–—ä¸­æ‘’é™¤æ‚å¿µã€ä¸“æ³¨è¦å®³ã€‚ ç†å¿µäºŒï¼šç³»ç»Ÿä½œä¸ºéšå–»æ¸¸æˆä¸­çš„æŠ½è±¡æœºåˆ¶éƒ½é€šè¿‡å™äº‹è·å¾—äº†å…·ä½“çš„éšå–»æ„ä¹‰ï¼š å¼ƒç‰Œ ä¸“æ³¨ï¼ˆçŒæ‰‹çš„æˆ˜æ–—å“²å­¦ï¼‰ çƒ§ç‰Œ ç‰ºç‰²ï¼ˆæˆ˜å£«çš„åŠ›é‡ä»£ä»·ï¼‰ å§¿æ€åˆ‡æ¢ å¿ƒç»ªæµè½¬ï¼ˆè§‚è€…çš„å¿ƒçµæ§åˆ¶ï¼‰ å……èƒ½çƒ å¤ä»£èƒ½æºï¼ˆæœºå™¨äººçš„æ–‡æ˜é—äº§ï¼‰ ç†å¿µä¸‰ï¼šç¢ç‰‡å¼•å¯¼æƒ³è±¡æ¸¸æˆä¸æä¾›å®Œæ•´çš„ä¸–ç•Œè§‚ç¼–å¹´å²ï¼Œè€Œæ˜¯æä¾›â€œå…ˆå¤ä¹‹æ°‘â€ã€â€œè’ç–«â€ã€â€œç¥ç½šâ€ç­‰å…³é”®è¯å’Œæ•£è½çº¿ç´¢ã€‚è¿™ç§è®¾è®¡æ¿€å‘äº†ç©å®¶çš„æ¨ç†æ¬²å’Œç¤¾åŒºè®¨è®ºï¼Œç©å®¶åœ¨è®ºå›ä¸­æ‹¼å‡‘çº¿ç´¢ã€åˆ†äº«ç†è®ºï¼Œæå¤§å»¶é•¿äº†æ¸¸æˆçš„ç”Ÿå‘½å‘¨æœŸã€‚ ç†å¿µå››ï¼šä¸€è‡´æ€§åˆ›é€ æ²‰æµ¸ä»èŒä¸šæœºåˆ¶åˆ°å¡ç‰Œç¾æœ¯ï¼Œä»é—ç‰©æ•ˆæœåˆ°æ•Œäººè®¾è®¡ï¼Œä»åœ°å›¾æ°›å›´åˆ°éŸ³ä¹éŸ³æ•ˆï¼Œã€Šæ€æˆ®å°–å¡”ã€‹çš„æ‰€æœ‰å…ƒç´ éƒ½æœåŠ¡äºåŒä¸€å¥—é»‘æš—ã€ç¥ç§˜ã€ç•¥å¸¦å…‹è‹é²æ°”æ¯çš„å™äº‹è°ƒæ€§ã€‚è¿™ç§é«˜åº¦çš„ä¸€è‡´æ€§åˆ›é€ äº†å¼ºçƒˆçš„æ²‰æµ¸æ„Ÿã€‚ å››ã€å¯¹åŒç±»é¡¹ç›®çš„å¯ç¤º4.1 å®Œæ•´çš„è®¾è®¡è·¯å¾„å¯¹äºå¸Œæœ›å€Ÿé‰´ã€Šæ€æˆ®å°–å¡”ã€‹å™äº‹ç³»ç»ŸåŒ–è®¾è®¡çš„é¡¹ç›®ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹å®Œæ•´è·¯å¾„ï¼š é˜¶æ®µä¸€ï¼šç«‹é¡¹é˜¶æ®µçš„ä¸»é¢˜é€‰æ‹©åœ¨ä¸ºæ¸¸æˆæ ¸å¿ƒç©æ³•å¯»æ‰¾å™äº‹ä¸»é¢˜æ—¶ï¼Œè¦é€‰æ‹©å¯ä»¥æ·±åº¦ç³»ç»ŸåŒ–çš„ä¸»é¢˜ã€‚ä¾‹å¦‚ï¼š å¡ç‰Œæ„ç­‘ç©æ³• â†’ è€ƒå¤ä¸»é¢˜ï¼ˆå¡ç‰Œæ–‡ç‰©ï¼Œæ„ç­‘ä¿®å¤ï¼‰ èµ„æºç®¡ç†ç©æ³• â†’ ç”Ÿæ€ä¸»é¢˜ï¼ˆèµ„æºç‰©ç§ï¼Œç®¡ç†å¹³è¡¡ï¼‰ è§’è‰²æˆé•¿ç©æ³• â†’ æ•™è‚²ä¸»é¢˜ï¼ˆå‡çº§å­¦ä¹ ï¼ŒæŠ€èƒ½çŸ¥è¯†ï¼‰ é˜¶æ®µäºŒï¼šè§’è‰²è®¾è®¡çš„å™äº‹æ•´åˆèŒä¸šçš„å™äº‹èƒŒæ™¯å¿…é¡»æ˜¯å…¶æ ¸å¿ƒæœºåˆ¶çš„åˆç†è§£é‡Šä¸æƒ…æ„ŸåŒ…è£…ã€‚æœºåˆ¶åº”è¯¥æ˜¯å™äº‹èƒŒæ™¯çš„è‡ªç„¶å»¶ä¼¸ï¼Œå™äº‹åº”è¯¥æ˜¯æœºåˆ¶çš„æƒ…æ„ŸåŒ–åŒ…è£…ã€‚ é˜¶æ®µä¸‰ï¼šè¿›ç¨‹è®¾è®¡çš„ä¸»é¢˜åŒ¹é…æ¸¸æˆè¿›ç¨‹çš„æ¯ä¸ªé˜¶æ®µéƒ½åº”æœ‰æ˜ç¡®çš„å™äº‹ä¸»é¢˜ï¼Œå¹¶ä¸”è¿™ä¸ªä¸»é¢˜åº”è¯¥ä½“ç°åœ¨è¯¥é˜¶æ®µçš„æœºåˆ¶æŒ‘æˆ˜ä¸­ã€‚å¦‚æœæŸä¸€ç« çš„ä¸»é¢˜æ˜¯â€œèƒŒå›â€ï¼Œé‚£ä¹ˆæœºåˆ¶å¯ä»¥å›´ç»•â€œèµ„æºé€†è½¬â€ã€â€œç›Ÿå‹å˜æ•Œäººâ€ç­‰è®¾è®¡ã€‚ é˜¶æ®µå››ï¼šå†…å®¹æŠ•æ”¾çš„ç­–ç•¥æ€§å°†å‰§æƒ…ä¿¡æ¯æ‹†è§£ä¸ºå¯è¢«ç©æ³•ç³»ç»Ÿæ‰¿è½½çš„â€œé“å…·â€â€”â€”å¡ç‰Œæè¿°ã€é—ç‰©æ–‡æœ¬ã€äº‹ä»¶é€‰é¡¹ã€æ•Œäººå°è¯ç­‰ã€‚è®©è¿½æ±‚å‰§æƒ…çš„ç©å®¶å¯ä»¥ä¸»åŠ¨æŒ–æ˜ï¼Œè®©ä¸æ„Ÿå…´è¶£çš„ç©å®¶å¯ä»¥å®Œå…¨å¿½ç•¥ï¼Œå®ç°å™äº‹çš„å¯é€‰æ‹©æ¶ˆè´¹ã€‚ æ€»ç»“ï¼šå™äº‹ä½œä¸ºç³»ç»Ÿè®¾è®¡çš„èŒƒå¼ä»·å€¼ã€Šæ€æˆ®å°–å¡”ã€‹çš„ä¸–ç•Œè§‚è®¾è®¡è¯æ˜ï¼Œå™äº‹å¯ä»¥ä¸åªæ˜¯æ¸¸æˆçš„â€œè£…é¥°â€æˆ–â€œèƒŒæ™¯æ¿â€ï¼Œè€Œæ˜¯å¯ä»¥æˆä¸ºæ¸¸æˆçš„ç»“æ„æ€§æ¡†æ¶ã€‚è¿™å¥—â€œå™äº‹ç³»ç»ŸåŒ–â€çš„è®¾è®¡æ–¹æ³•ï¼Œåˆ›é€ äº†å‡ ä¸ªå…³é”®ä»·å€¼ï¼š 1. è§£å†³äº†Roguelikeçš„é‡å¤æ€§é—®é¢˜é€šè¿‡è®©æ¯æ¬¡çˆ¬å¡”éƒ½æˆä¸ºç‹¬ç‰¹çš„è§’è‰²å²è¯—ï¼Œç©å®¶æ„Ÿå—åˆ°çš„ä¸æ˜¯â€œåˆä¸€éç›¸åŒçš„æµç¨‹â€ï¼Œè€Œæ˜¯â€œä¸€ä¸ªæ–°è§’è‰²çš„æ–°æ•…äº‹â€ã€‚ 2. æå‡äº†å†³ç­–çš„æƒ…æ„Ÿé‡é‡ç©å®¶çš„æ¯ä¸€ä¸ªæ¸¸æˆå†³ç­–éƒ½åŒæ—¶æ˜¯å™äº‹å†³ç­–ï¼Œè¿™è®©ç®€å•çš„èµ„æºæƒè¡¡å˜æˆäº†å…·æœ‰æƒ…æ„Ÿé‡é‡çš„æ€§æ ¼å®šä¹‰ã€‚ 3. åˆ›é€ äº†æ·±åº¦çš„æ²‰æµ¸æ„Ÿå½“æ¸¸æˆçš„æ‰€æœ‰å…ƒç´ â€”â€”æœºåˆ¶ã€ç¾æœ¯ã€éŸ³æ•ˆã€æ–‡æœ¬â€”â€”éƒ½æœåŠ¡äºåŒä¸€å¥—å™äº‹è°ƒæ€§æ—¶ï¼Œç©å®¶ä¼šè‡ªç„¶åœ°è¿›å…¥æ¸¸æˆä¸–ç•Œã€‚ 4. å»¶é•¿äº†æ¸¸æˆç”Ÿå‘½å‘¨æœŸç¢ç‰‡åŒ–å™äº‹æ¿€å‘äº†ç¤¾åŒºçš„è®¨è®ºå’Œç†è®ºæ„å»ºï¼Œç©å®¶åœ¨æ¸¸æˆä¹‹å¤–ç»§ç»­æ¢ç´¢ä¸–ç•Œè§‚ï¼Œå½¢æˆäº†è‰¯æ€§çš„ç”Ÿæ€å¾ªç¯ã€‚ graph TD A[ä¼ ç»Ÿè®¾è®¡ç©æ³•ä¸å™äº‹åˆ†ç¦»] --> B[ç©å®¶ä½“éªŒå‰²è£‚æ²‰æµ¸æ„Ÿæœ‰é™] C[æ€æˆ®å°–å¡”è®¾è®¡å™äº‹æˆä¸ºç³»ç»Ÿæ¡†æ¶] --> D{å››å¤§ä»·å€¼} D --> E[è§£å†³é‡å¤æ€§é—®é¢˜] D --> F[æå‡å†³ç­–é‡é‡] D --> G[åˆ›é€ æ·±åº¦æ²‰æµ¸] D --> H[å»¶é•¿ç”Ÿå‘½å‘¨æœŸ] style C fill:#ccffcc style D fill:#ffffcc ã€Šæ€æˆ®å°–å¡”ã€‹çš„æˆåŠŸä¸ä»…ä»…æ˜¯ç©æ³•è®¾è®¡çš„æˆåŠŸï¼Œæ›´æ˜¯å™äº‹ç³»ç»ŸåŒ–è®¾è®¡èŒƒå¼çš„æˆåŠŸã€‚å®ƒå±•ç¤ºäº†ä¸€æ¡å°†ä¸–ç•Œè§‚æ·±åº¦èå…¥æ ¸å¿ƒç³»ç»Ÿçš„æ–°è·¯å¾„ï¼Œä¸ºæ•´ä¸ªæ¸¸æˆè®¾è®¡é¢†åŸŸæä¾›äº†å®è´µçš„å¯ç¤ºï¼šå½“å™äº‹ä¸å†åªæ˜¯è¢«â€œè®²å‡ºæ¥â€ï¼Œè€Œæ˜¯è¢«â€œç©å‡ºæ¥â€æ—¶ï¼Œæ¸¸æˆå°±èƒ½åˆ›é€ å‡ºçœŸæ­£ç‹¬ç‰¹è€Œæ·±åˆ»çš„æƒ…æ„Ÿä½“éªŒã€‚ åˆ°è¿™é‡Œæˆ‘å¯¹æ€æˆ®å°–å¡”çš„æ‹†è§£å·¥ä½œä¾¿å‘Šä¸€æ®µè½å•¦ï¼Œå¤§å®¶å¦‚æœæœ‰ä»€ä¹ˆæƒ³æ³•å¯ä»¥åœ¨è¯„è®ºåŒºäº¤æµå“¦","categories":["æ¸¸æˆ"]},{"title":"æ€æˆ®å°–å¡”è®¾è®¡æ‹†è§£â€”â€”å†…å®¹ç¯‡","path":"/posts/98ac3117/","content":"ã€Šæ€æˆ®å°–å¡”ã€‹è®¾è®¡å†…å®¹æ·±åº¦æ‹†è§£å†™åœ¨å‰é¢ã€Šæ€æˆ®å°–å¡”ã€‹ä»¥å…¶ç²¾å¦™çš„è§„åˆ™èåˆï¼Œå®šä¹‰äº†Roguelikeå¡ç‰Œã€‚å…¶æˆåŠŸè¿œéç®€å•çš„ç©æ³•å åŠ ã€‚æœ¬æ–‡å°†ä»¥ â€œå†…å®¹æ‹†è§£ â†’ å¹³è¡¡æ€§åˆ†æ â†’ è®¾è®¡å“²å­¦æç‚¼â€ çš„ä¸‰æ­¥æ¡†æ¶ï¼Œç”±è¡¨åŠé‡Œåœ°å‰–æå…¶è®¾è®¡ç²¾é«“ï¼Œæ­ç¤ºè¿™æ¬¾æ¸¸æˆå¦‚ä½•å°†ç®€å•çš„è§„åˆ™ç¼–ç»‡æˆè¿‘ä¹æ— é™çš„å¯èƒ½ï¼Œå¹¶æä¾›æŒä¹…çš„ç­–ç•¥ä¹è¶£ã€‚ ç¬¬ä¸€æ­¥ï¼šå†…å®¹æ‹†è§£â€”â€”æ¸¸æˆçš„å»ºç­‘é€»è¾‘ä»»ä½•æ·±åº¦åˆ†æéƒ½å§‹äºå¯¹æ„æˆè¦ç´ çš„ç³»ç»Ÿæ€§ç†è§£ã€‚ 1. æ ¸å¿ƒé©±åŠ¨å¾ªç¯æ¯ä¸€å±€æ¸¸æˆéƒ½ç”±ä¸€ä¸ªç®€æ´æœ‰åŠ›çš„å¼•æ“é©±åŠ¨ï¼Œå…¶æ ¸å¿ƒå¾ªç¯å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå®ƒæ„æˆäº†å•å±€æ¸¸æˆæœ€åŸºæœ¬çš„è¡Œä¸ºéª¨æ¶ï¼š flowchart TD A[æˆ˜æ–—æ¶ˆè€—ç”Ÿå‘½ï¼Œæ£€éªŒç‰Œç»„] --> B[è·å–å¥–åŠ±ä¸‰é€‰ä¸€å¡ç‰Œ/é‡‘å¸/é—ç‰©] B --> C{åœ°å›¾è·¯å¾„å†³ç­–é£é™©è¯„ä¼°ä¸èµ„æºè§„åˆ’} C -->|é€‰æ‹©è·¯çº¿| A è¿™ä¸ªå¾ªç¯æŒç»­è¿›è¡Œï¼Œç©å®¶çš„æ¯ä¸€æ¬¡é€‰æ‹©éƒ½åœ¨åŠ¨æ€å¡‘é€ ç€ç‹¬ä¸€æ— äºŒçš„ç‰Œç»„ä¸èµ„æºçŠ¶å†µã€‚ ç”Ÿå‘½å€¼åœ¨æ­¤å¾ªç¯ä¸­æ‰®æ¼”ç€åŒé‡è§’è‰²ï¼šå®ƒæ—¢æ˜¯éœ€è¦ä¿éšœçš„ç”Ÿå­˜éœ€æ±‚ï¼Œä¹Ÿæ˜¯å¯ä»¥è°¨æ…èŠ±è´¹ä»¥æ¢å–æ›´é«˜å¥–åŠ±çš„è´§å¸ã€‚ ï¼ˆç‰¹å®šäº‹ä»¶å¯ä»¥ç”¨è¡€é‡æ¢å–æ”¶ç›Šâ€”â€”é—ç‰©æˆ–è€…å¡ç‰Œï¼‰ 2. æ ¸å¿ƒæ„å»ºç»´åº¦ç©å®¶åŠ›é‡çš„æˆé•¿å›´ç»•ä¸‰ä¸ªå¯ç´¯ç§¯çš„ç³»ç»Ÿå±•å¼€ï¼š å¡ç‰Œï¼šä¸»åŠ¨çš„æ“ä½œå•å…ƒï¼Œåˆ†ä¸º æ”»å‡»ç‰Œï¼šç›´æ¥ä¼¤å®³ï¼› æŠ€èƒ½ç‰Œï¼šæ ¼æŒ¡ã€æ–½åŠ çŠ¶æ€ç­‰ï¼› èƒ½åŠ›ç‰Œï¼šæ•´åœºæŒç»­çš„è¢«åŠ¨æ•ˆæœï¼› é—ç‰©ï¼šæä¾›ä»æ•°å€¼åŠ æˆåˆ°æœºåˆ¶é¢ è¦†çš„å„ç±»æ•ˆæœï¼Œæ˜¯æ„ç­‘äº§ç”Ÿè´¨å˜çš„å…³é”®ã€‚ æ•°å€¼åŠ æˆï¼šé‡‘åˆšæµåŠ 1åŠ›é‡ï¼Œå…‰æ»‘çš„çŸ³å¤´åŠ 1æ•æ·ã€‚è¿™ç±»é—ç‰©æä¾›ç®€å•ç²—æš´çš„åŠ æ•°å€¼ï¼› æœºåˆ¶æ”¹å˜ï¼šå†°æ·‡æ·‹è®©å›åˆç»“æŸåèƒ½é‡ä¸æ¸…ç©ºï¼Œé‡‘å­—å¡”è®©å›åˆç»“æŸæ—¶çš„æ‰‹ç‰Œä¸ä¸¢å¼ƒã€‚è¿™ç±»é—ç‰©æ”¹å˜æ„ç­‘æ€è·¯å’Œå‡ºç‰Œé€»è¾‘ï¼› å±€å¤–æˆé•¿ï¼šå¤é’±å¸ç›´æ¥ç»™300å—ï¼ŒçƒŸæ–—è®©ç«å †é¢å¤–å¤šäº†åˆ ç‰Œäº‹ä»¶ã€‚è¿™äº›é—ç‰©è®©ç©å®¶åœ¨æˆ˜æ–—ä¹‹å¤–æ”¹å˜æ„ç­‘æå‡æˆ˜åŠ›ï¼› è¯æ°´ï¼šä¸€æ¬¡æ€§çš„æˆ˜æœ¯å‚¨å¤‡ï¼Œç”¨äºåº”æ€¥æˆ–å¼¥è¡¥æ„ç­‘çŸ­æ¿ã€‚ æä¾›æŠ½ç‰Œï¼Œå›è¡€ï¼Œæ ¼æŒ¡ï¼Œæ¢ç‰Œç­‰æ•ˆæœï¼› å°æ€ªæ¦‚ç‡æ‰è½ï¼Œå•†åº—ç¨³å®šè´­ä¹°ï¼Œäº‹ä»¶å¯èƒ½è·å–ï¼› é€šè¿‡å‡å°‘è¯æ°´æ ä½é™åˆ¶é«˜è¿›é˜¶ç©å®¶ï¼› 3. æ ¸å¿ƒåšå¼ˆèµ„æºé™¤äº†ç‰Œç»„ï¼Œç©å®¶è¿˜éœ€æŒç»­ç®¡ç†ä¸¤ç§æŠ½è±¡èµ„æºï¼š ç”Ÿå‘½å€¼ï¼šå¦‚ä¸Šæ‰€è¿°ï¼Œæ˜¯é©±åŠ¨æ ¸å¿ƒå¾ªç¯çš„å…³é”®èµ„æºï¼Œå¯¹è¡€é‡çš„åˆ¤æ–­æ˜¯å¦è¶³ä»¥æ‰“ç²¾è‹±æ€ªæ¢å–é—ç‰©ï¼› é‡‘å¸ï¼šé›†ä¸­äºå•†åº—ç³»ç»Ÿçš„ç»æµèµ„æºã€‚ç”¨äºè´­ä¹°å…³é”®å¡ç‰Œã€é—ç‰©ï¼Œä»¥åŠèŒæ–°å¯èƒ½å¿½è§†çš„åˆ å¡ï¼› 4. åºå¤§çš„å†…å®¹æ± æ¸¸æˆæä¾›äº†ä¸°å¯Œçš„äº¤äº’å¯èƒ½æ€§ï¼Œç¡®ä¿æ¯æ¬¡å†’é™©çš„ç‹¬ç‰¹æ€§ï¼Œæ¯ä¸ªèŒä¸šæ‹¥æœ‰å®Œå…¨ç‹¬ç«‹çš„å¡æ± ä¸æ ¸å¿ƒæœºåˆ¶ï¼Œç©æ³•è¿¥å¼‚ã€‚ å››å¤§èŒä¸šï¼š æˆ˜å£«ï¼šæˆ‘è®¤ä¸ºï¼Œæˆ˜å£«çš„æœ€æ ¸å¿ƒæœºåˆ¶æ˜¯æ¶ˆè€—ï¼š é€šè¿‡ç‚¹çƒ§ï¼ˆåšæ¯…+ï¼Œç‡ƒçƒ§å¥‘çº¦ï¼‰å’Œå¤§çƒ§ï¼ˆé‡æŒ¯ç²¾ç¥ï¼Œæ¶é­”ä¹‹ç„°ï¼‰å®Œæˆå¯¹å±€å†…å¡ç»„çš„ç²¾ç®€ï¼Œè¿›ä¸€æ­¥æ‰“å‡ºå°å¾ªç¯æˆ–æ— é™å¾ªç¯ã€‚ å¸¸è§camboæœ‰å‰‘è€¸æ— é™ï¼ˆæœ‰æ—¥æ™·çœŸæ— é™ï¼Œå¸¦æ”¾è¡€ä¼ªæ— é™ï¼‰ï¼Œäº®å‰‘å¦™è®¡ï¼Œæ’‘æŒ¯è‚šçš®ï¼Œè¿›åŒ–æ— è°‹å¥‘çº¦â€¦ é™¤æ­¤ä¹‹å¤–ï¼Œæˆ˜å£«è¿˜æœ‰ä»¥å£å’å·©å›ºä¸ºæ ¸å¿ƒçš„é˜²æˆ˜ä½“ç³»å’Œä»¥åŠ›é‡ç»„ä»¶ä¸ºæ ¸å¿ƒçš„åŠ›é‡æˆ˜ä½“ç³»ï¼ˆåé—¨çš„æœ‰å¼ºä¾èµ–å•å¡å’Œç«å †çš„ç¼çƒ­æˆ˜ä½“ç³»ï¼‰ çŒäººï¼šçŒäººæ ¸å¿ƒæ˜¯è¿è½¬ï¼Œé€šè¿‡æ‘¸å¼ƒå®Œæˆè¿‡ç‰Œå›è´¹å’Œé›¶è´¹è¾“å‡ºï¼š å¼ƒç‰Œä½“ç³»å¯¹çŒäººæ¥è¯´æ˜¯æœ€æˆç†Ÿçš„ä½“ç³»ï¼Œç»„ä»¶ä¹Ÿæœ€å¸¸è§ï¼Œä¾‹å¦‚æœ€å¼ºç™½å¡è¿‡ç‰Œæ‚æŠ€1è´¹æŠ½4å¼ƒ1ï¼Œå› ä¸ºå¯¹çŒäººæ¥è¯´ï¼Œå¼ƒç‰Œå¾€å¾€å¸¦æ¥çš„æ˜¯æ­£é¢æ”¶ç›Šï¼ˆæœ¬èƒ½ååº”è¢«å¼ƒåæŠ½ç‰Œï¼Œæˆ˜æœ¯å¤§å¸ˆè¢«å¼ƒåå›è´¹ï¼‰å¼ºå¤§çš„è¿è½¬èƒ½åŠ›ä½¿å¾—çŒäººå‡ ä¹é€‚é…æ‰€æœ‰0è´¹è¾“å‡ºï¼Œå°¤å…¶æ˜¯é‡‘å¡åä¸½æ”¶åœºï¼Œ0è´¹AOEé«˜ä¼¤å®³ï¼Œå³ä½¿æ‰“å‡ºéœ€è¦ä¸¥è‹›çš„æ¡ä»¶ï¼Œä¹Ÿå€¼å¾—çŒäººä¸ºæ­¤ç‰¹åŒ–æ„ç­‘ çŒäººç¬¬äºŒåˆ†æ”¯æ˜¯æ¯’çŒï¼Œç”±äºé«˜è¿›é˜¶æ…¢å¯åŠ¨åƒæˆ˜æŸã€æ€•äººå·¥ç­‰ç¼ºç‚¹ï¼Œåœ¨æ²¡æœ‰å…³é”®å¡å‚¬åŒ–å‰‚çš„æƒ…å†µä¸‹ï¼Œå¾€å¾€ä½œä¸ºè¿‡æ¸¡çš„é€‰æ‹© å°åˆ€çŒï¼šèŒæ–°æœ€çˆ±ç©çš„æµæ´¾ä¹‹ä¸€ï¼Œä½†æ˜¯æœ€å¥½ç¥ˆç¥·ä¸è¦é‡åˆ°å°åˆ€çŒæœ€ä¸¥å‰çš„çˆ¶äº²å“¦ï¼ˆä¼šé‡åˆ°æ—¶é—´åå™¬è€…ï¼ï¼‰ æ•…éšœæœºå™¨äººï¼ˆçƒé‡ç¼–ç¨‹ï¼‰ï¼šâ€‹\tç”±äºæœ¬äººçš„æœºå™¨äººæ°´å¹³å¹¶ä¸é«˜ï¼Œé‚é‚€è¯·å‹äººå¯¹å…¶è¯„ä»·ï¼Œç”±äºå†…å®¹è¾ƒé•¿ï¼Œæ”¾è‡³é™„å½•1ã€‚ è§‚è€…ï¼šè§‚è€…æ ¸å¿ƒæ˜¯å§¿æ€è½¬æ¢ï¼š æ„¤æ€’ï¼šåŒå€ä¼¤å®³ï¼Œä½†å—ä¼¤ä¹ŸåŒå€ï¼Œè§‚è€…çš„æœ€æ ¸å¿ƒæœºåˆ¶æ²¡æœ‰ä¹‹ä¸€ã€‚æ‰€æœ‰è§‚è€…çš„è¾“å‡ºå¡è®¾è®¡æ—¶å€™éƒ½è¦è€ƒè™‘åˆ°åŒå€ä¼¤å®³è¿™ä¸€æ¡ä»¶ã€‚å“ªæ€•æ˜¯åˆå§‹çš„æ‰“å‡»+1è´¹æ‰“9ï¼Œåˆ°è§‚è€…æ‰‹ä¸Šå°±æ˜¯ä¸€è´¹18ï¼Œäº§ç”Ÿè´¨å˜ã€‚åœ¨å‰ä¸¤å±‚é‡Œï¼Œæ„¤æ€’åŠ ä¸¤ä¸ªæ‰“å‡»è¶³ä»¥ç§’æ€è®¸å¤šå°æ€ªäº†ã€‚æ„¤æ€’çš„æœºåˆ¶è®©è§‚è€…æœ‰äº†é€Ÿæ€çš„èƒ½åŠ›ã€‚ å¹³é™ï¼šé€€å‡ºå¹³é™å§¿æ€æ—¶å€™å›ä¸¤è´¹ã€‚å¦‚æœè¯´å•çœ‹æ„¤æ€’æœºåˆ¶ï¼Œè¿˜å¯ä»¥è¯´æ˜¯é£é™©ä¸æœºé‡å¹¶å­˜â€”â€”é«˜ä¼¤å®³çš„åŒæ—¶é˜²å¾¡å‹åŠ›ä¹Ÿç¿»å€ï¼Œæ— æ³•æ–©æ€çš„æ€ªç‰©å°±è¦è€ƒè™‘é˜²å®ˆã€‚ä½†æ˜¯å¦‚æœåŠ ä¸Šå¹³é™åˆ™å®Œå…¨ä¸åŒï¼Œè§‚è€…å®Œå…¨å¯ä»¥è¿›å…¥æš´æ€’è¾“å‡ºæ‰“å®Œååœ¨è¿›å…¥å¹³é™ï¼Œä¸ä»…ä¸ç”¨æ‰¿å—åŒå€é˜²å¾¡å‹åŠ›ï¼Œè¿˜èƒ½ä¸ºä¸‹ä¸€è½®çš„è¾“å‡ºç§¯æ”’è´¹ç”¨ã€‚1è´¹å¹³é™å¡çš„å­˜åœ¨å¯¼è‡´è§‚è€…å®Œå…¨å¯ä»¥åœ¨çº¢è“ä¹‹é—´åˆ‡æ¢çš„è´¹ç”¨ä¸ä¼šæŸå¤±ï¼Œåªè¦æŠ½ç‰Œé‡è¶³å¤Ÿï¼Œè§‚è€…å°±èƒ½æŠŠæ‰€æœ‰çš„ç‰Œæ‰“å‡ºå»ã€‚æˆ‘ç›¸ä¿¡å¾ˆå¤šå°ä¼™ä¼´æ‰“å‡ºçš„ç¬¬ä¸€ä¸ªæ— é™å°±æ˜¯çŒ›è™ä¸‹å±±åŠ æš´æ€’ä¸æƒ§å¦–é‚ªï¼ˆé¸¡ç…²ï¼šæˆ‘è¦å­¦çŒ›è™ä¸‹å±±ï¼ï¼‰ç„¶åé‡Šæ€€çš„ç¬‘ ç¥æ ¼ï¼šå­˜åœ¨æ„Ÿå¾ˆä½çš„ä½“ç³»ï¼Œè¢«çº¢è“é®æ©äº†é”‹èŠ’ï¼Œå…¶æœ¬èº«åº•å­ä¸é”™ï¼Œæœ‰è¿‡ç‰Œæœ‰ä¿ç•™æœ‰0è´¹å¡ï¼Œä½†æ˜¯ç»„ä»¶è¿‡äºç»‘å®šï¼Œæ‹¿ä¸€å¼ æ„å‘³ç€å°±è¦æ‹¿ä¸€ä¸ªä½“ç³»ï¼Œè§‚è€…åˆæ˜¯ä¸€ä¸ªå¯¹å¡ç»„å¤§å°å¾ˆæ•æ„Ÿçš„èŒä¸šï¼Œå¯¼è‡´å®æˆ˜å¾ˆå¤šäººä¸æ„¿æ„æ‹¿ç¬¬ä¸€å¼ ç¥æ ¼å¡ï¼ˆå®Œå…¨æ˜¯ç´¯èµ˜ï¼‰ï¼Œè¿›è€Œä¸ç¢°æ•´ä¸ªç¥æ ¼ä½“ç³»ã€‚å°±åƒæˆ‘åœ¨æ•°å€¼ç¯‡åˆ†æçš„é‚£æ ·ï¼Œè§‚è€…çš„å¡ç‰Œæ•°å€¼ç»“æ„å°±æ˜¯å­˜åœ¨æ˜æ˜¾çš„é—®é¢˜ï¼Œæ— ç”¨å¡å æ¯”æ¯”å…¶ä½™ä¸‰ä¸ªèŒä¸šåŠ èµ·æ¥éƒ½å¤šï¼Œè¿™æ˜¯è®¾è®¡é‡Œæ¯”è¾ƒå¯æƒœçš„ç‚¹ã€‚ é¢„è§ï¼šæœ€æ„ä¹‰ä¸æ˜çš„ä½“ç³»ï¼Œè®¾è®¡çš„åƒä¸€ä¸ªåŠæˆå“ï¼Œä¸äºˆè¯„ä»· æ¸è¿›å¼æŒ‘æˆ˜ï¼šâ€‹\tä¸‰å±‚é€çº§æ”€å‡çš„å†’é™©ï¼Œæ¯å±‚ç»“å°¾è®¾æœ‰æœºåˆ¶ç‹¬ç‰¹çš„å¼ºåŠ›é¦–é¢†ï¼Œå¯¹ç‰Œç»„çš„å®Œæˆåº¦æå‡ºç¡¬æ€§è€ƒéªŒã€‚ ä¸€å±‚ï¼šå‘è‚²ä¸ºä¸»ï¼Œé«˜éš¾æŒ‘æˆ˜è¾ƒå°‘ï¼Œæå‰å‡†å¤‡å¯¹ç­–å¡å³å¯ã€‚å¦‚ç²¾è‹±å°çº¢è¦æ±‚å¡ç»„çš„æ”»å‡»ç‰Œæµ“åº¦ï¼Œç²¾è‹±ä¸‰æŸ±è¦æ±‚å¡ç»„ä¸­æœ‰å¯¹ç¾¤ç‰¹æ”»æˆ–è€…å¿«é€Ÿçš„ç‚¹æ€èƒ½åŠ›ã€‚æ€»ä½“æ¥è¯´å±é™©ç¨‹åº¦ä¸å¤§ï¼Œä»¥å¼•å¯¼ç©å®¶åˆç†é€‰å¡ä¸ºä¸»ã€‚ äºŒå±‚ï¼šå±é™©åº¦é«˜ï¼Œè€ƒéªŒå¡ç»„æŠ—å‹èƒ½åŠ›ã€‚é«˜è¿›é˜¶çš„äºŒå±‚æ˜¯ç©å®¶å¤±è´¥æœ€å¤šçš„å±‚æ•°ã€‚ä¸€æ–¹é¢æ˜¯äºŒå±‚å°æ€ªçš„é«˜æ”»å‡»æ¬²æœ›å¸¦æ¥çš„è¡€çº¿å‹åŠ›ï¼Œä¸”å¸¸ä¼šç»™ç©å®¶åŠ debuffï¼›å¦ä¸€æ–¹é¢ç©å®¶å¡ç»„å¤§å¤šæ•°åœ¨äºŒå±‚å°šæœªæˆå‹ï¼Œå¦‚æœä¸€å±‚bossé—ç‰©æ‰è½çš„ä¸å¥½çš„è¯åœ¨äºŒå±‚åˆšè¿›é—¨é‡åˆ°åŒå°å·æˆ–è€…3é¸Ÿéƒ½ä¼šæ¯”è¾ƒåƒåŠ›ã€‚ä¸”äºŒå±‚ç²¾è‹±æ€ªä¸‰å¥´éš¶å’Œå°æ‰‹æ”»å‡»æ¬²æœ›å¾ˆé«˜æ¯å›åˆéƒ½æœ‰é«˜é¢æ”»å‡»ï¼Œä¼šå¾€å¡ç»„é‡Œå¡ä¼¤å£ï¼Œè¾ƒä¸ºå…‹åˆ¶åƒå¯åŠ¨å’Œè¿è½¬çš„å¡ç»„ã€‚åœ¨äºŒå±‚ï¼Œç©å®¶å¾—ç²¾ç»†æŠŠæ§è¡€é‡å’Œå‘è‚²çš„å¹³è¡¡ï¼Œæ—¢ä¸èƒ½æ¨ªæ­»é“ä¸­ï¼Œä¹Ÿä¸å¯ç«å †å…¨ç¡äºäº†å‘è‚²ã€‚ ä¸‰å±‚ï¼šå¡ç»„æˆå‹çš„æ£€éªŒï¼Œå¼•å¯¼ç©å®¶è¡¥å¼ºæˆ–æ‰¾åˆ°çŸ­æ¿ã€‚æœ‰è¶£çš„æ˜¯ï¼Œè™½ç„¶ä¸‰å±‚å°æ€ªçš„å¼ºåº¦é«˜äºäºŒå±‚ï¼Œä½†ç©å®¶å‹åŠ›ç¼ºæ™®éä½äºäºŒå±‚ï¼Œä¸‰å±‚çš„å®é™…å‹åŠ›æ˜¯å¡”é¡¶çš„åŒé‡bossï¼ˆè¿›é˜¶20æ‰æœ‰ï¼‰ã€‚èƒ½è¿‡äºŒå±‚ï¼Œè¯´æ˜ç©å®¶å¡ç»„å·²ç»åˆæ­¥æˆå‹ï¼Œåœ¨ä¸‰å±‚çš„çš„ä¸»è¦ç›®çš„å˜æˆäº†å¯»æ‰¾å…³é”®keyç‰Œè¡¥å¼ºï¼Œæˆ–è€…æ•²ç‰Œåˆ ç‰Œå‘è‚²ã€‚è€Œä¸‰å±‚bossæ‰æ˜¯ä¸‰å±‚çš„çµé­‚ï¼š 1.è§‰é†’è€…ï¼šç‰¹æ®Šæœºåˆ¶ï¼š2æ¡å‘½ï¼Œç©å®¶æ¯å¼€ä¸€ä¸ªèƒ½åŠ›ç‰Œè§‰é†’è€…åŠ ä¸¤ç‚¹åŠ›é‡ã€‚å…‹åˆ¶èƒ½åŠ›å¤šçš„èŒä¸šã€‚ï¼ˆåœ¨å¯åŠ¨äº†ï¼ï¼‰ 2.æ—¶é—´åå™¬è€…ï¼ˆè€å¤´ï¼‰ï¼šç‰¹æ®Šæœºåˆ¶ï¼šç©å®¶æ¯å‡º12ç‰Œå¼ºåˆ¶ç»“æŸå›åˆã€‚ç‰¹åˆ«å…‹åˆ¶ä»¥æ¥è¿è½¬çš„ä½“ç³»å’Œä½è´¨é‡æ— é™ 3.å…«ä½“å’Œç”œç”œåœˆï¼šç‰¹æ®Šæœºåˆ¶ï¼šé«˜æˆé•¿ï¼Œå¡çœ©æ™•ï¼Œè¿˜æœ‰ä¸‰å±‚äººå·¥ä¸å¥½ä¸Šdebuffã€‚ æœ€ç»ˆbossï¼šå¿ƒè„ã€‚æœ€éš¾çš„bossã€‚ç‰¹æ®Šæœºåˆ¶å¦‚ä¸‹ï¼š 1.å¾‹åŠ¨ï¼šæ¯å‡º1å¼ ç‰Œå—åˆ°ä¼¤å®³ï¼Œä¼¤å®³é‡éšå›åˆæ•°é€æ¸é€’å¢ã€‚è¿™ä¸ªæœºåˆ¶å¼ºåˆ¶è¦æ±‚å¡ç»„å¿…é¡»æœ‰èµ·é˜²èƒ½åŠ›ï¼Œä¸èƒ½æ‰“æ²¡æœ‰é˜²å¾¡çš„æ— é™ï¼šä¾‹å¦‚åŒå‰‘æŸ„æ—¥æ™·ï¼Œå¿…é¡»æ­é…èµ·é˜²å¡æˆ–è€…é—ç‰©ã€‚ 2.åšä¸å¯æ‘§ï¼šæ¯å—åˆ°200ç‚¹ä¼¤å®³åï¼Œå°†å…ç–«ä¸€åˆ‡ä¼¤å®³ã€‚æœç»äº†ä¸€åˆ‡é€Ÿæ€çš„å¯èƒ½ï¼Œå†å¼ºå¤§çš„æ”»æ€å¡ç»„ï¼Œä¹Ÿå¾—è‡³å°‘å››å›åˆï¼Œå˜ç›¸æé«˜äº†å¯¹å¡ç»„ä¸­é˜²å¾¡æµ“åº¦çš„éœ€æ±‚ã€‚ 3.ç¬¬ä¸€å›åˆå¡çŠ¶æ€ç‰Œå’ŒæŒ‚debuffã€‚ä½œä¸ºé›†å¤§æˆè€…ï¼Œå¿ƒè„ç¬¬ä¸€å›åˆä¸ä¼šæ”»å‡»ï¼Œè€Œæ˜¯è½¬ä¸ºå‘ä½ çš„æŠ½ç‰Œå †é‡ŒåŠ å…¥äº”å¼ çŠ¶æ€ç‰Œï¼Œå¹¶ä¸”ç»™ä½ æŒ‚æ˜“ä¼¤ï¼ˆå—åˆ°ä¼¤å®³å¢åŠ ï¼‰ï¼Œè™šå¼±ï¼ˆé€ æˆä¼¤å®³å‡å°‘ï¼‰ï¼Œè„†å¼±ï¼ˆè·å¾—æ ¼æŒ¡å‡å°‘ï¼‰ç­‰debuffã€‚è¿™å¯¹å¡ç»„çš„è¯·çŠ¶æ€ç‰Œèƒ½åŠ›æå‡ºé«˜è¦æ±‚ï¼Œå¹¶ä¸”ä¹Ÿå¹²æ‰°å¾ˆå¤šè„†å¼±çš„æ— é™å’Œå¾ªç¯æ‰‹æ®µã€‚ 4.é«˜æˆé•¿ï¼šå¿ƒè„æ¯ä¸‰å›åˆè¿›è¡Œä¸€æ¬¡å¼ºåŒ–ï¼Œæé«˜åŠ›é‡å¹¶é‡ç½®è‡ªèº«è´Ÿé¢çŠ¶æ€ã€‚åŸºæœ¬å…«åˆ°ä¹å›åˆä¹‹åï¼Œå¿ƒè„çš„æ”»å‡»ä¹å¾ˆéš¾ç”¨ä¸€èˆ¬èµ·é˜²æ‰‹æ®µé˜²å¾¡ä½äº†ã€‚è¿™ä¸ªæœºåˆ¶è¦æ±‚ç©å®¶çš„å¡ç»„æœ‰åœ¨ä¸Šè¿°è´Ÿé¢æ¡ä»¶å½±å“ä¸‹ä¾æ—§èƒ½å¿«é€Ÿè§£å†³æˆ˜æ–—çš„èƒ½åŠ›ã€‚ éšæœºäº‹ä»¶ï¼š æä¾›é«˜é£é™©é«˜å›æŠ¥çš„ç‰¹æ®ŠæŠ‰æ‹©ï¼ŒæŒç»­å¢åŠ æ¸¸æˆè¿›ç¨‹çš„å˜æ•°ã€‚éƒ¨åˆ†äº‹ä»¶å…·æœ‰ä¸€é”¤å®šéŸ³çš„æ•ˆæœï¼Œä¾‹å¦‚äºŒå±‚çš„çµä½“äº‹ä»¶å¯ä»¥è§£å†³ç»å¤§å¤šæ•°å¡ç»„çš„å¯åŠ¨å‹åŠ›ï¼Œä¸‰å±‚çš„æ•²å…¨éƒ¨ç‰Œäº‹ä»¶æ˜¯ç¼ºæ•²ä½çŒäººçš„æ•‘å‘½ç¨»è‰ï¼ˆå³ä½¿ä»£ä»·æ˜¯æ— æ³•å›å¤è¡€é‡ï¼‰ã€‚ç”±äºè¯¸å¤šéšæœºäº‹ä»¶çš„è®¾è®¡ï¼Œç»™æ€æˆ®å°–å¡”çš„è·¯çº¿é€‰æ‹©å¸¦æ¥æ›´åŠ ä¸°å¯Œçš„å¯èƒ½æ€§ï¼Œä¹Ÿæä¾›äº†æœªçŸ¥çš„ä¹è¶£å’Œåšå¼ˆæ€§ã€‚ ç¬¬äºŒæ­¥ï¼šå¹³è¡¡æ€§åˆ†æâ€”â€”ç²¾å¯†çš„è°ƒæ§è‰ºæœ¯çœŸæ­£è®©è¿™äº›æ¨¡å—ç„•å‘ç”Ÿæœºçš„ï¼Œæ˜¯ä½¿å…¶ç›¸äº’å’¬åˆã€å……æ»¡æƒè¡¡çš„ç²¾å¦™å¹³è¡¡è®¾è®¡ã€‚ä¸‹å›¾æ¦‚æ‹¬äº†æ¸¸æˆåœ¨å‡ ä¸ªå…³é”®ç»´åº¦ä¸Šå¦‚ä½•è®¾ç½®å¹³è¡¡ç‚¹ï¼š flowchart LR subgraph A [é£é™©ä¸å›æŠ¥çš„é‡åŒ–] direction LR A1[ç”Ÿå‘½å€¼] -- ä½œä¸ºå†³ç­–è´§å¸ --> A2[è®¡ç®—ç²¾è‹±æˆ˜æ”¶ç›Šè¯„ä¼°äº‹ä»¶ä»£ä»·] end subgraph B [èµ„æºä¸æ±¡æŸ“çš„åšå¼ˆ] direction LR B1[æ·»åŠ æ–°å¡ç‰Œ] -- å¯èƒ½ --> B2[ç¨€é‡Šç‰Œåº“æµ“åº¦] B2 -- æå‡ --> B3[åˆ é™¤åŸºç¡€ç‰Œçš„æˆ˜ç•¥ä»·å€¼] end subgraph C [é—ç‰©çš„å‚¬åŒ–æ•ˆåº”] direction LR C1[ç‰¹å®šé—ç‰©] -- ä¸å¡ç‰ŒååŒ --> C2[å¼•å‘è´¨å˜å¦‚ï¼šè›‡çœ¼+é«˜è´¹æ”»å‡»] C2 -- å¼•å¯¼ --> C3[æ•´å±€æ¸¸æˆæ„ç­‘æ–¹å‘] end A --> D[ç»ˆæç›®æ ‡ï¼šåœ¨åŠ¨æ€çº¦æŸä¸­è§„åˆ’æœ€ä¼˜è§£] B --> D C --> D 1. é£é™©ä¸å›æŠ¥çš„é‡åŒ–ä½“ç³»æ¸¸æˆå°†ç»å¤§å¤šæ•°å†³ç­–è½¬åŒ–ä¸ºå¯è¯„ä¼°çš„é£é™©ä¸å›æŠ¥ã€‚ ç”Ÿå‘½å€¼çš„éšå½¢æ ‡ä»·ï¼šä¸€åœºæ™®é€šæˆ˜æ–—çš„é¢„æœŸæŸè€—ã€ä¸€ä¸ªäº‹ä»¶é€‰é¡¹çš„æ½œåœ¨ä»£ä»·ã€æŒ‘æˆ˜ç²¾è‹±æ‰€éœ€çš„â€œå…¥åœºè´¹â€ï¼Œéƒ½ç»è¿‡äº†ç²¾ç¡®è®¡ç®—ã€‚ç²¾è‹±æˆ˜æ–—è™½ç„¶å±é™©ï¼Œä½†å…¶æ‰è½çš„æ ¸å¿ƒé—ç‰©ä»·å€¼è¢«è®¾å®šä¸ºâ€œé€šå¸¸å€¼å¾—ä¸”ç»å¸¸å¿…è¦â€ï¼Œå°¤å…¶æ˜¯åœ¨é«˜å±‚è¿›é˜¶ä¸­ï¼Œå›é¿ç²¾è‹±å¾€å¾€æ„å‘³ç€åæœŸå¼ºåº¦ä¸è¶³ã€‚ è·¯çº¿é€‰æ‹©çš„æ•°å­¦åšå¼ˆï¼šåœ°å›¾è®¾è®¡ä¿è¯äº†é«˜æ”¶ç›ŠèŠ‚ç‚¹ï¼ˆç²¾è‹±ã€å•†åº—ï¼‰å¾€å¾€ä¼´éšæ›´é«˜çš„æˆ˜æ–—å¯†åº¦æˆ–è·¯å¾„æˆæœ¬ã€‚ç©å®¶éœ€è¦æ ¹æ®å®æ—¶çŠ¶æ€ï¼ˆè¡€é‡ã€é‡‘å¸ã€ç‰Œç»„å…³é”®éœ€æ±‚ï¼‰è¿›è¡ŒåŠ¨æ€è§„åˆ’ï¼Œè®¡ç®—æœ€ä¼˜çš„æ•°å­¦æœŸæœ›ã€‚ 2. å¡ç‰Œå¼ºåº¦ä¸â€œå¡ç»„æ±¡æŸ“â€çš„å¯¹æŠ—å•å¡å¼ºåº¦å¿…é¡»ç½®äºç‰Œç»„æ•´ä½“å¾ªç¯æ•ˆç‡çš„å…¨å±€ä¸­è€ƒé‡ã€‚ ç¨€é‡Šæƒ©ç½šï¼šç›²ç›®æ·»åŠ ä½è´¨é‡æˆ–ä¸åˆæµçš„å¡ç‰Œï¼Œä¼šæ˜¾è‘—é™ä½æŠ½åˆ°æ ¸å¿ƒç»„ä»¶çš„æ¦‚ç‡ã€‚è¿™è¿«ä½¿ç©å®¶åœ¨â€œæ‹¿ç‰Œè§£å†³å½“ä¸‹é—®é¢˜â€ä¸â€œä¿æŒç‰Œç»„ç²¾ç®€ä¸“æ³¨â€ä¹‹é—´æŒç»­æƒè¡¡ã€‚ åˆ é™¤æœºåˆ¶çš„æˆ˜ç•¥ä»·å€¼ï¼šå› æ­¤ï¼Œå•†åº—ä¸­çš„â€œåˆ ç‰Œâ€æœåŠ¡æˆä¸ºæ ¸å¿ƒæˆ˜ç•¥ç¯èŠ‚ã€‚ç§»é™¤åˆå§‹çš„æ‰“å‡»é˜²å¾¡ä»¥æå‡å¡ç»„ä¸­å…³é”®ç‰Œçš„æµ“åº¦ï¼Œæ˜¯æ„ç­‘ä»ç²—ç³™èµ°å‘ç²¾ç‚¼çš„å…³é”®ä¸€æ­¥ï¼Œè¿™èµ‹äºˆäº†ç»æµèµ„æºï¼ˆé‡‘å¸ï¼‰æ·±è¿œçš„æˆ˜ç•¥æ„ä¹‰ã€‚ 3. èŒä¸šæ ¸å¿ƒæœºåˆ¶çš„æ•°å€¼è¾¹ç•Œâ€‹\tå…·ä½“åˆ†æè§ä¸Šæ–‡æ€æˆ®å°–å¡”çš„æ•°å€¼åˆ†æç¯‡ï¼Œè¿™é‡Œä»…ä½œç®€å•ä»‹ç»ã€‚ æˆ˜å£«çš„æ ¼æŒ¡ä¸åŠ›é‡ï¼šæ ¼æŒ¡å€¼æ¯å›åˆæ¸…ç©ºï¼Œä½¿å¾—å£å’è¿™ç±»ä¿ç•™æ ¼æŒ¡çš„å¡ç‰Œä»·å€¼å‡¸æ˜¾ã€‚åŠ›é‡æˆé•¿è™½çº¿æ€§ï¼Œä½†ä¸å¤šæ®µæ”»å‡»é…åˆèƒ½äº§ç”ŸæŒ‡æ•°çº§ä¼¤å®³ï¼Œå…¶æ½œåŠ›è¢«ä¸¥æ ¼é™åˆ¶åœ¨é«˜è´¹ç”¨æˆ–ç¨€æœ‰å¡ä¸­ã€‚ çŒæ‰‹çš„å¼ƒç‰Œè¿è½¬ï¼šå…¶æ ¸å¿ƒåœ¨äºé€šè¿‡å¤§é‡æŠ½ç‰Œã€å¼ƒç‰Œè§¦å‘æ•ˆæœï¼ˆå¦‚â€œæœ¬èƒ½ååº”â€ã€â€œæ‚æŠ€â€ï¼‰å’Œ0è´¹å¡ç‰Œæ¥å®ç°æ¯å›åˆçš„é«˜é¢æ“ä½œé‡ã€‚å¹³è¡¡çš„å…³é”®åœ¨äºï¼Œå‡å°‘å¡ç»„å†…éå…³é”®ç‰Œçš„æµ“åº¦ï¼ˆåˆå§‹çš„æ‰“å‡»é˜²å¾¡ï¼Œä»…ç”¨äºè¿‡æ¸¡çš„æ”»å‡»å¡ï¼‰ï¼Œå’Œéœ€è¦é…åˆçš„èµ„æºå¡ï¼ˆæˆ˜æœ¯å¤§å¸ˆï¼Œå¼ƒç½®æ­¤ç‰Œè·å¾—èƒ½é‡ï¼‰ã€‚ æ•…éšœæœºå™¨äººçš„é›†ä¸­ï¼šä½œä¸ºæå‡æ‰€æœ‰å……èƒ½çƒæ•ˆç‡çš„å…¨å±€ä¹˜æ•°ï¼Œè·å–é›†ä¸­åŠ›çš„æ‰‹æ®µï¼ˆå¦‚â€œç¢ç‰‡æ•´ç†â€ã€â€œåå·®è®¤çŸ¥â€ï¼‰ è§‚è€…çš„å§¿æ€åˆ‡æ¢ï¼šâ€œæ„¤æ€’â€å§¿æ€ä¸‹é€ æˆä¸æ‰¿å—ä¼¤å®³å‡ç¿»å€ï¼Œè¿™ä¸€ç®€æ´è®¾è®¡åˆ›é€ äº†æé«˜çš„æ“ä½œé£é™©ä¸çˆ†å‘æ½œåŠ›ï¼Œè¿«ä½¿ç©å®¶ç²¾ç¡®è§„åˆ’å§¿æ€åˆ‡æ¢çš„èŠ‚å¥ï¼Œå®ç°é«˜æ•ˆçš„æ”»é˜²å¾ªç¯ã€‚ 4. é—ç‰©çš„å‚¬åŒ–å‰‚æ•ˆåº”é—ç‰©è®¾è®¡çš„é«˜æ˜ä¹‹å¤„åœ¨äºï¼Œå®ƒä»¬å¸¸å¸¸æ˜¯èƒ½ä¿ƒä½¿å¡ç»„äº§ç”ŸåŒ–å­¦åçš„å‚¬åŒ–å‰‚ã€‚ ååŒå¼•çˆ†ç‚¹ï¼šå¦‚æ­»çµä¹‹ä¹¦ï¼ˆæ¯å›åˆç¬¬ä¸€å¼ äºŒè´¹åŠä»¥ä¸Šæ”»å‡»ç‰Œæ‰“å‡ºä¸¤æ¬¡ï¼‰ä¸é«˜è´¹æ”»å‡»ç‰Œçš„é…åˆï¼Œèƒ½å°†å•æ¬¡çˆ†å‘ä¼¤å®³å€å¢ã€‚è¿™ç±»é—ç‰©ä¸ç‰¹å®šå¡ç‰Œç»“åˆåï¼Œä¾¿èƒ½å¼•å‘æ„ç­‘çš„è´¨å˜ã€‚ æ„ç­‘å¯¼å‘æ€§ï¼šæ—©æœŸè·å¾—ä¸€ä¸ªæ ¸å¿ƒé—ç‰©ï¼ˆå¦‚â€œå¼‚è›‡ä¹‹çœ¼â€ï¼šæ¯å›åˆå¤šæŠ½äºŒï¼Œä½ å¡ç‰Œçš„èƒ½åŠ›æ¶ˆè€—å°†ä¼šéšæœºæ”¹å˜ï¼‰ï¼Œå¾€å¾€ä¼šç›´æ¥å®šä¹‰æ•´å±€æ¸¸æˆçš„æ„ç­‘æ–¹å‘ï¼ˆå¤šæŠ“é«˜è´¹ç‰Œï¼Œå°‘æŠ“0è´¹ï¼‰ã€‚è¿™ç§å› åŠ¿åˆ©å¯¼çš„åŠ¨æ€è§„åˆ’ï¼Œæ­£æ˜¯æ¸¸æˆç­–ç•¥æ·±åº¦çš„æ ¸å¿ƒä½“ç°ã€‚ ç¬¬ä¸‰æ­¥ï¼šè®¾è®¡å“²å­¦æç‚¼â€”â€”æˆåŠŸçš„åº•å±‚é€»è¾‘åœ¨å…·ä½“çš„å¹³è¡¡æ€§ä¹‹ä¸Šï¼Œæ˜¯æ”¯æ’‘æ•´ä¸ªæ¸¸æˆä½“éªŒçš„ã€æ›´ä¸ºæ™®é€‚çš„è®¾è®¡ç†å¿µã€‚è¿™äº›ç†å¿µä¹‹é—´çš„æ”¯æ’‘å…³ç³»ï¼Œæ„æˆäº†æ¸¸æˆç¨³å›ºçš„è®¾è®¡ä¸‰è§’ï¼š graph TD subgraph è¡¨å±‚ä½“éªŒ D[åŠ¨æ€æ„å»ºçš„ä¹è¶£â€œç°åœ¨æˆ‘èƒ½èµ°å“ªæ¡è·¯ï¼Ÿâ€] end subgraph åº•å±‚æ”¯æŸ± A[â€œé™åˆ¶â€åˆ›é€ æ·±åº¦èƒ½é‡/æ‰‹ç‰Œ/ç”Ÿå‘½å€¼] --> D B[ä¿¡æ¯é€æ˜ä¸‹çš„é£é™©è®¡ç®—å°†è¿æ°”è½¬åŒ–ä¸ºç­–ç•¥] --> D C[å¯æ§çš„éšæœºæ€§ç”¨é€‰æ‹©å¼•å¯¼éšæœºç»“æœ] --> D end D --> E[æ ¸å¿ƒä½“éªŒï¼šåœ¨çº¦æŸä¸­æ„Ÿå—æŒæ§æ„Ÿä¸æˆé•¿çš„æƒåŠ›] 1. é™åˆ¶æ˜¯æ·±åº¦ç­–ç•¥çš„æºæ³‰æ¸¸æˆä¸­æœ€å¼•äººå…¥èƒœçš„å†³ç­–ï¼Œå‡ ä¹éƒ½æºäºä¸å„ç§é™åˆ¶çš„å¯¹æŠ—ã€‚ èƒ½é‡é™åˆ¶ï¼ˆæ¯å›åˆ3ç‚¹ï¼‰ï¼šè¦æ±‚æƒè¡¡æ¯å¼ å¡ç‰Œçš„è´¹ç”¨ä¸æ•ˆæœã€‚ æ‰‹ç‰Œä¸æŠ½ç‰Œé™åˆ¶ï¼šéœ€è¦ç®¡ç†ç‰Œåºå¹¶æ„å»ºè¿‡ç‰Œå¼•æ“ã€‚ è¯æ°´æ§½ä½é™åˆ¶ï¼šè®©æ¯ä¸ªè¯æ°´é€‰æ‹©éƒ½æ„ä¹‰é‡å¤§ã€‚ ç”Ÿå‘½å€¼é™åˆ¶ï¼šå°†ç”Ÿå­˜å‹åŠ›è½¬åŒ–ä¸ºè´¯ç©¿å…¨å±€çš„å†³ç­–ç»´åº¦ã€‚ æ­£æ˜¯è¿™äº›é™åˆ¶çš„å­˜åœ¨ï¼Œä½¿å¾—é‚£äº›èƒ½å¤Ÿçªç ´é™åˆ¶çš„æ•ˆæœï¼ˆè·å¾—é¢å¤–èƒ½é‡ã€é¢å¤–æŠ½ç‰Œã€å¤åˆ¶å¡ç‰Œã€æ— è§†æ¶ˆè€—ç­‰ï¼‰æˆä¸ºç©å®¶æ„å»ºçš„ç»ˆæè¿½æ±‚ï¼Œåˆ›é€ äº†å¼ºçƒˆçš„æˆé•¿æ„Ÿä¸æ„ç­‘æˆå°±æ„Ÿã€‚ 2. ä¿¡æ¯é€æ˜ä¸‹çš„é£é™©è®¡ç®—æ¸¸æˆæ‘’å¼ƒäº†æˆ˜æ–—ä¸­çš„éšè—éª°å­ï¼Œå¹¶æ¸…æ™°é¢„å‘Šæ•Œäººçš„ä¸‹å›åˆè¡ŒåŠ¨ã€‚è¿™å·§å¦™åœ°å°†è¿æ°”é—®é¢˜è½¬åŒ–ä¸ºäº†é£é™©è®¡ç®—é—®é¢˜ã€‚ç©å®¶æ€è€ƒçš„ä¸å†æ˜¯ä¼šä¸ä¼šå‡ºæš´å‡»ï¼Ÿï¼Œè€Œæ˜¯ä»¥æˆ‘å½“å‰çš„è¡€é‡å’Œç‰Œåº“ï¼Œæ¥ä¸‹è¿™æ‹›åå­˜æ´»å¹¶ååˆ¶çš„æ¦‚ç‡æœ‰å¤šå¤§ï¼Ÿå†³ç­–åŸºäºå·²çŸ¥ä¿¡æ¯ä¸æ¦‚ç‡ä¼°ç®—ï¼ŒæˆåŠŸå¸¦æ¥çš„æˆå°±æ„Ÿæºäºç²¾å¦™çš„è§„åˆ’ä¸è®¡ç®—ï¼Œè€Œéå•çº¯çš„éšæœºæ©èµã€‚ 3. åŠ¨æ€é€‚åº”ï¼Œè€Œéé™æ€æ­é…ä¸é¢„å…ˆç»„å¥½å›ºå®šå¥—ç‰Œçš„ä¼ ç»Ÿå¡ç‰Œæ¸¸æˆä¸åŒï¼Œã€Šæ€æˆ®å°–å¡”ã€‹çš„æ ¸å¿ƒä¹è¶£åœ¨äºæ ¹æ®å·²è·å¾—çš„èµ„æºï¼Œå³æ—¶è§„åˆ’æœ€ä¼˜çš„èƒœåˆ©è·¯å¾„ã€‚æ¯ä¸€å±€ï¼Œç©å®¶éƒ½åœ¨å›ç­”ä¸€ä¸ªåŠ¨æ€é—®é¢˜ï¼šâ€œåŸºäºæˆ‘å½“å‰çš„å¡ç‰Œå’Œé—ç‰©ï¼Œæˆ‘æœ€æœ‰å¯èƒ½é€šå¾€èƒœåˆ©çš„æ„ç­‘æ–¹å‘æ˜¯ä»€ä¹ˆï¼Ÿâ€è¿™å°±è¦æ±‚è®¾è®¡å¿…é¡»æä¾›å¤§é‡ä¸­ç­‰å¼ºåº¦ã€å…·å¤‡å¤šç§ååŒæ½œåŠ›çš„å¡ç‰Œä¸é—ç‰©ï¼Œç¡®ä¿æ— è®ºéšæœºè·å¾—ä½•ç§å¥–åŠ±ï¼Œç©å®¶æ€»èƒ½æ‰¾åˆ°ä¸€ä¸ªæœ‰å‘å±•æ½œåŠ›çš„æ–¹å‘ï¼Œè€Œéä¾èµ–å°‘æ•°å‡ ä¸ªå›ºå®šçš„é€šå…³å…¬å¼ã€‚ 4. å¯æ§çš„éšæœºä¸æ­£å‘çš„é›ªçƒæ•ˆåº”æ¸¸æˆçš„éšæœºæ€§è¢«é«˜åº¦ç»“æ„åŒ–çš„â€œç©å®¶é€‰æ‹©â€æ‰€åŒ…è£¹ä¸å¼•å¯¼ã€‚ ä¸‰é€‰ä¸€å¥–åŠ±ï¼šå…è®¸ç©å®¶åœ¨éšæœºé€‰é¡¹ä¸­æŒ‘é€‰æœ€ç¬¦åˆå½“å‰ç­–ç•¥çš„æ‹¼å›¾ã€‚ åœ°å›¾è·¯çº¿é€‰æ‹©ï¼šå…è®¸ç©å®¶æ ¹æ®è‡ªå·±çš„çŠ¶æ€ä¸»åŠ¨è¶‹åˆ©é¿å®³ã€‚ å•†åº—è´­ä¹°ï¼šå…è®¸ç©å®¶ç”¨é€šç”¨èµ„æºï¼ˆé‡‘å¸ï¼‰ç²¾ç¡®å¡«è¡¥çŸ­æ¿ã€‚ è¿™ç§è®¾è®¡è®©ç©å®¶æ„Ÿè§‰è‡ªå·±æ˜¯åœ¨ä¸æ–­å°†éšæœºæ€§å¼•å¯¼å‘åˆ©äºè‡ªå·±çš„æ–¹å‘ã€‚ä¸€æ—¦å…³é”®ååŒå½¢æˆï¼Œæ„ç­‘å¼€å§‹æ­£å‘å¾ªç¯ï¼ˆäº§ç”Ÿé›ªçƒæ•ˆåº”ï¼‰ï¼Œç©å®¶èƒ½æ¸…æ™°æ„Ÿå—åˆ°è‡ªå·±å¯¹å±€é¢çš„æ§åˆ¶åŠ›ä»å¼±åˆ°å¼ºçš„å¢é•¿è¿‡ç¨‹ã€‚è¿™ç§ä¸æ–­å¢å¼ºçš„æŒæ§æ„Ÿï¼Œæ˜¯æ¸¸æˆæä¾›æŒä¹…æ­£åé¦ˆå’Œæˆç˜¾æ€§çš„å…³é”®ã€‚ ç»“è¯­é€šè¿‡å¯¹ã€Šæ€æˆ®å°–å¡”ã€‹â€œå†…å®¹-å¹³è¡¡-è®¾è®¡â€ä¸‰å±‚ç»“æ„çš„å‰–æï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå…¶ä¼Ÿå¤§ä¹‹å¤„åœ¨äºæ„å»ºäº†ä¸€ä¸ªè§„åˆ™ç®€æ´ä½†äº¤äº’æ·±å¥¥çš„å†³ç­–æ¨¡æ‹Ÿå™¨ã€‚å®ƒä»¥é™åˆ¶åˆ›é€ å¼ åŠ›ï¼Œä»¥é€æ˜ä¿éšœå…¬å¹³ï¼Œä»¥åŠ¨æ€æ„å»ºé¼“åŠ±æ™ºæ…§é€‚åº”ï¼Œå†ä»¥å¯æ§çš„éšæœºæ€§æä¾›æ— ç©·çš„æ¢ç´¢ç©ºé—´ã€‚å®ƒå°†æ‰€æœ‰æ¸¸æˆå…ƒç´ ç¼–ç»‡è¿›ä¸€å¼ ç²¾å¯†çš„ç½‘ä¸­ï¼Œè®©æ¯ä¸€æ¬¡æŠ½ç‰Œã€æ¯ä¸€æ¬¡è·¯çº¿é€‰æ‹©éƒ½å……æ»¡æ„ä¹‰ã€‚æœ€ç»ˆï¼Œå®ƒæä¾›äº†ä¸€ç§çº¯ç²¹è€Œè¿·äººçš„ç­–ç•¥ä¹è¶£ï¼šåœ¨è§„åˆ™ä¸éšæœºçš„åŒé‡çº¦æŸä¸‹ï¼Œè¿ç”¨æ™ºæ…§ï¼Œä»æ— åˆ°æœ‰åœ°æ„å»ºå‡ºä¸€ä¸ªèƒ½å¤Ÿå…‹æœä¸‡éš¾ã€ç‹¬ç‰¹è€Œå¼ºå¤§çš„ç³»ç»Ÿã€‚è¿™æˆ–è®¸å°±æ˜¯ã€Šæ€æˆ®å°–å¡”ã€‹èƒ½å¤Ÿè¶…è¶Šç±»å‹ï¼Œæˆä¸ºè®¾è®¡å…¸èŒƒçš„æ ¹æœ¬åŸå› ã€‚ é™„å½•1ç‰¹åˆ«é¸£è°¢ï¼šSonghan Caiå…ˆç”Ÿå¯¹æ•…éšœæœºå™¨äººç†è®ºæå‡ºçš„å¤§åŠ›æ”¯æŒã€‚ä»–æ˜¯å‡ºè‰²é¸¡ç…²é«˜æ‰‹ï¼ˆï¼‰ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä»–å¯¹æ•…éšœæœºå™¨äººçš„ç†è§£ï¼š â€‹\tæ•…éšœæœºå™¨äººæ˜¯æ€æˆ®å°–å¡”ä¸­çš„æœ€å¼ºçš„è§’è‰²ï¼ˆæ‹¬å·å‡ä¸ºé»„é€¸é£æ’è¯ï¼šå¹¶éï¼‰ï¼Œå®ƒæ‹¥æœ‰å…¶ä»–èŒä¸šéš¾ä»¥æœ›å…¶é¡¹èƒŒçš„æ•°å€¼å’Œä»¤æ‰€æœ‰æ€ªç‰©é—»é£ä¸§èƒ†çš„æœºåˆ¶ï¼ˆæ•°å€¼åœ¨å“ªï¼Ÿï¼‰ã€‚ â€‹\tæœºå™¨äººçš„å¤§éƒ¨åˆ†ä½“ç³»å›´ç»•å……èƒ½çƒæ¥å±•å¼€ï¼Œå››ç§å……èƒ½çƒå„å¸å…¶èŒï¼Œåœ¨å„ä¸ªç«¯å£ä¸ºæœºå™¨äººæ„å»ºäº†å…¨é¢å¹¶ä¸”å¼ºå¤§ï¼ˆï¼Ÿï¼‰çš„ä½“ç³»æ”¯æ¶ã€‚ â€‹\t1.ç”µçƒæ˜¯æœºå™¨äººæœ€å®¹æ˜“è·å–çš„çƒï¼Œä»–æ¯å›åˆèƒ½æä¾›åŸºç¡€ç¨³å®šçš„ä¼¤å®³ï¼Œäº§çƒæˆæœ¬ä½ä½¿å¾—èƒ½æ›´å¥½åœ¨å¾ªç¯ä¸­æŠŠå…¶ä»–çƒæ¨å‡ºå»ï¼Œåœ¨ç”µåŠ¨åŠ›å­¦çš„åŠ æŒä¸‹è¿˜èƒ½è½¬å˜ä¸ºé«˜è´µçš„aoeï¼Œæ›´ä¸ºå¯è´µçš„æ˜¯ç”µçƒéšæœºé€‰æ‹©ç›®æ ‡æ”»å‡»ï¼Œè¿™è®©æœºå™¨äººè¿™ä¸ªèŒä¸šå¤©ç”Ÿæ¯”å…¶ä»–äººå¤šäº†å¾ˆå¤šå¾ˆå¤šéšæœºæ•°ï¼Œèƒ½åœ¨æ— æ•°æ¬¡slä¸­æ‰¾åˆ°å”¯ä¸€è·èƒœçš„ä¸–ç•Œçº¿ã€‚ â€‹\t2.é»‘çƒæœ‰ç€æ›´é«˜çš„çˆ†å‘ä¼¤å®³ï¼Œå…¶è“„åŠ›æœºåˆ¶èƒ½å¾ˆå¥½å’Œå¾ªç¯é€’å½’ï¼ŒåŒæ”¾è¿™ç§ç‰Œé…åˆï¼Œåˆ©ç”¨å¥½ç„å‡†ç”Ÿå‘½å€¼æœ€ä½ç›®æ ‡çš„æœºåˆ¶ï¼Œæ‰¾åˆ°åˆé€‚çš„æ—¶æœºé€‰æ‹©æ¨å‡ºå»è¿˜æ˜¯æ”’çƒã€‚ â€‹\t3.ç­‰ç¦»å­ç™½çƒçš„è·å–æˆæœ¬æ›´é«˜ï¼Œä½†æ˜¯å…¶æ”¶ç›Šååˆ†ä¹‹ææ€–ï¼Œå¤§å¤šæ•°bossé—ç‰©æ¯å›åˆåŠ ä¸€è´¹éƒ½è¦è®©ä½ ä»˜å‡ºé«˜æ˜‚çš„ä»£ä»·ï¼Œè€Œè¿™ä»…ä»…éœ€è¦æˆ‘ä»¬é¸¡ç…²æŒ‚ä¸€ä¸ªç™½çƒï¼ŒåŒæ—¶ç™½çƒçš„æ¿€å‘èƒ½è®©æœºå™¨äººé©¬ä¸Šè·å¾—ä¸¤è´¹ï¼Œç®€ç›´æ˜¯æ— ä¸ä¼¦æ¯”çš„çˆ†å‘èƒ½åŠ›ã€‚ â€‹\t4.è€Œæœ€å¼ºæœ€å¼ºæœ€å¼ºçš„åˆ™æ˜¯å†°çƒï¼Œå…¶æä¾›çš„æŠ¤ç”²çœ‹ä¼¼å¾ˆå°‘ï¼Œä½†æ˜¯åœ¨é›†ä¸­ï¼Œå¾ªç¯å’Œæ›´å¤šçƒä½çš„å¤šé‡æ æ†ä¹‹ä¸‹ï¼Œå†°çƒä¼šä¸ºæœºå™¨äººç­‘èµ·å›ºè‹¥é‡‘æ±¤çš„é˜²å¾¡ç«¯ï¼Œè€Œä¸”æ˜¯æ¯å›åˆè‡ªåŠ¨çš„ã€‚æœ‰äº†é›†ä¸­å†°ç”šè‡³æ”»å‡»ç«¯èƒ½ä»…ä»…å‡­ä¸€ä¸ªæ²™æ¼å°±èƒ½è…ä¹³æ—¶é—´åå™¬è€…ï¼Œä½ åªéœ€è¦æ¯å›åˆæŒ‰eï¼Œç„¶åæ‹¿èµ·æ‰‹æœºåˆ·ååˆ†é’Ÿè§†é¢‘ã€‚ â€‹\tç°åœ¨é€šè¿‡çƒå’Œé›†ä¸­æ¥åˆ†ææœºå™¨äººçš„æ”»å‡»å’Œé˜²å¾¡ç«¯ï¼Œç”µçƒé»‘çƒæä¾›ä¼¤å®³ï¼Œå†°çƒæä¾›é˜²å¾¡ï¼Œé‚£ä¹ˆæ€ä¹ˆè®©ä»–ä»¬çš„æ•°å€¼è¾¾åˆ°åˆæ ¼æ°´å¹³ä»¥åº”å¯¹æ€ªç‰©å‘¢ã€‚ç¬¬ä¸€ä¸ªæƒ³åˆ°çš„å°±æ˜¯ç”Ÿæˆæ›´å¤šçš„çƒï¼ŒæŠŠåŸæ¥çš„çƒæ¨å‡ºå»ä»¥è·å¾—æ›´å¤šæ•°å€¼ï¼Œè¿™ç‚¹é€šè¿‡æ‰“å‡ºç”µå‡»ï¼Œå†·å¤´ï¼Œæ¼†é»‘ç­‰ä¼˜è´¨äº§çƒç‰Œå°±å¯ä»¥åšåˆ°ã€‚ç¬¬äºŒæ˜¯é€šè¿‡å¢åŠ çƒä½ï¼Œæˆ–è€…é€šè¿‡å¾ªç¯æ¥æå‡æˆ‘ä»¬æ¯å›åˆçƒçš„æŒ‚æœºæ”¶ç›Šã€‚æœ€é‡è¦çš„ç¬¬ä¸‰ç‚¹ï¼Œåˆ™æ˜¯æå‡æˆ‘ä»¬çš„é›†ä¸­ï¼Œé›†ä¸­èƒ½å¤ŸåŒæ—¶æå‡çƒçš„è¢«åŠ¨æ”¶ç›Šå’Œæ¨çƒçš„æ”¶ç›Šï¼Œä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„ä¹˜åŒºå¢å¹…æœºå™¨äººçš„æˆ˜æ–—åŠ›ï¼Œèƒ½æä¾›é›†ä¸­çš„ç‰Œå’Œé—ç‰©éƒ½æ˜¯å—æœºå™¨äººæ‰€å–œçˆ±ï¼ˆå°½å­ï¼‰ã€‚æ— è®ºåœ¨å±€å¤–æŠ“å¡è¿˜æ˜¯å±€å†…æ“ä½œï¼Œç‰¢è®°è¿™ä¸‰ç‚¹çš„å‡è¡¡å¯¹æœºå™¨äººæ¥è¯´éƒ½æ˜¯åŸºæœ¬ä¸”å¿…è¦çš„ã€‚ â€‹\tæ¥ä¸‹æ¥è¯´ä¸€ä¸‹ç‰©ç†æ”»é˜²ï¼Œçƒçš„æ•°å€¼ä¸å—åŠ›é‡ï¼Œæ•æ·ï¼Œæ˜“ä¼¤ï¼Œè™šå¼±ç­‰ç­‰å¤šé‡å¸¸è§çŠ¶æ€å½±å“ï¼Œå¯¼è‡´å…¶æ€è·¯æœ‰æ‰€ä¸åŒï¼Œå’ŒæŸäº›é—ç‰©çš„é…åˆä¹Ÿè¾ƒå·®ã€‚ä½†è¿™ä¸æ„å‘³é¸¡ç…²ä¸éœ€è¦ä¼ ç»Ÿæ”»é˜²ç‰Œï¼Œåœ¨å¡ç»„æ²¡æœ‰æˆå‹å‰ï¼Œæˆ‘ä»¬éœ€è¦é€‚å½“æŠ“å–ä¸€äº›ç‰©ç†æ”»é˜²è¿‡æ¸¡ç‰Œï¼Œå¦‚çœ¼éƒ¨ï¼Œå…‰æŸå°„çº¿ï¼Œè‡ªåŠ¨æŠ¤ç›¾ï¼Œè¿™æ˜¯èŒä¸šç‰¹æ€§å’Œæ€ªç‰©ç¯å¢ƒåŒé‡å†³å®šçš„ï¼ˆä¸¥çˆ¶å°çº¢ï¼‰ï¼Œæœ‰äº›ç‰ŒåŒæ—¶å…¼é¡¾ç‰©ç†å’Œäº§çƒï¼Œå¦‚çƒé—ªï¼Œå†°å·ï¼Œæ„äº‘ï¼Œè¿™è®©ä»–ä»¬å‰ä¸­åæœŸéƒ½æœ‰ä¸ä¿—çš„å‘æŒ¥ã€‚ â€‹\tè€Œç‰©ç†æœºåˆ™æ˜¯æœºå™¨äººä¸€ç§å®Œå…¨ä¸åŒçš„æ€è·¯ï¼Œä»¥é‡ç¼–ç¨‹ä¸ºç»å¯¹æ ¸å¿ƒï¼Œç”¨æ‰é›†ä¸­è¿™ä¸ªå¯¹äºæœºå™¨äººæ¥è¯´èƒ½åºŸæ‰ä¸€åŠç‰Œçš„ä»£ä»·æ¢å–é…åˆæ¯”èµ·å…¶ä»–èŒä¸šå°‘çš„å¤šçš„åŠ›æ•ï¼Œæ˜¯æ¯”ç¼çƒ­æˆ˜å’Œç‚¹ç©´è§‚æ›´åƒåœ¾çš„å­˜åœ¨ï¼Œæ‰€ä»¥ç»å¤§æ—¶å€™æœºå™¨äººè¿˜æ˜¯ä»¥ç‰©ç†ä¸ºè¾…åŠ©ï¼Œå……èƒ½çƒä¸ºæ ¸å¿ƒã€‚ï¼ˆåœ¨è¿™é‡Œæˆ‘æ’ä¸€å˜´ï¼Œå…¶ä»–èŒä¸šçš„æ£±é•œç©æ³•ä¸­ï¼Œé‡ç¼–ç¨‹æ˜¯ä¸€å¼ éå¸¸å¼ºåŠ›çš„å¡ç‰Œï¼Œå¯æƒœè·Ÿäº†æœºå™¨äººï¼‰ â€‹\tæ¥åˆ°è¿è½¬ç«¯ï¼Œæœºå™¨äººåœ¨è¿è½¬æ–¹é¢çš„ä¼˜åŠ£åŠ¿éƒ½ååˆ†æ˜æ˜¾ï¼Œä»–ä¸åƒæˆ˜å£«èƒ½çƒ§å¹²æ‰€æœ‰ç‰Œæ‰“å°å¾ªç¯ï¼Œä¸èƒ½å­¦çŒäººå¨´ç†Ÿé€šè¿‡çŒ´æˆå¼ƒç‰Œæ‰“å‡ºå¤æ‚æ“ä½œï¼Œæ›´ä¸æ˜¯æŸä¸ªå‡­å€Ÿç€å´©åçš„æ•°å€¼å°±æ— æ³•æ— å¤©æ´ç™–æŠ“ç‰Œå—¯å‡‘å”æ°çº¢è“æ— é™çš„æœ€å¼±è§’è‰²ï¼ˆåˆ«é€—ä½ è§‚å§ç¬‘äº†ï¼‰èƒ½ç¢°ç“·çš„ã€‚å¤§éƒ¨åˆ†é¸¡ç…²éƒ½æ˜¯å‡å¡æ€è·¯ï¼Œå¥½ç‰Œå¤šæŠ“ï¼Œé€šè¿‡æ‰“å‡ºèƒ½åŠ›ç‰Œé€æ­¥å»ºç«‹ä¼˜åŠ¿ï¼Œä½†æ˜¯æ‰“èƒ½åŠ›ç‰Œä¹Ÿéœ€è¦æŠ½ç‰Œä½å’Œè´¹ç”¨ä¸”æ”¶ç›Šå»¶è¿Ÿï¼Œæ•…è€Œå¯åŠ¨ç¨ç¨æ…¢é‚£ä¹ˆä¸€ç‚¹ç‚¹ä¹Ÿå°±æ˜¯é¸¡ç…²ç¨æœ‰ç‘•ç–µçš„å°ç¼ºç‚¹äº†ï¼ˆåå·®è®¤çŸ¥äº†ï¼Œåå·®è®¤çŸ¥ï¼Œåå·®è®¤ï¼Œåå·®ï¼Œåâ€¦ï¼‰ã€‚è€Œä¼˜ç‚¹æ˜¯ï¼Œåœ¨è´¹ç”¨æ–¹é¢é¸¡ç…²æ‰‹æ¡ç€æœ€å¤šçš„ä¼˜è´¨åŠ è´¹ï¼Œå¦‚å››èŒä¸šå”¯ä¸€ç™½å¡è´¹ç”¨ç‰Œå†…æ ¸ï¼Œç®€å•ç²—æš´çš„åŒå€èƒ½é‡ï¼Œä¸€è¾¹çƒ§ç‰Œä¸€è¾¹èµšè´¹çš„å›æ”¶ã€‚è¿‡ç‰Œæ–¹é¢ï¼Œæ— è®ºæ˜¯æ²¡æ•°å€¼çš„å¿«æ£€è¿˜æ˜¯æœ‰æ•°å€¼çš„ç¼–å†²ï¼Œéƒ½åœ¨ä¸€ä¸ªå¯ç”¨çš„ä¸­åº¸æ°´å¹³ï¼Œèƒ½å¤Ÿå®šå‘æ£€ç´¢å’Œå¤ç”¨çš„å…¨æ¯æœå¯»ä¸‡ç‰©ä¹Ÿéƒ½æ˜¯ååˆ†é€‚é…å‡å¡ä½“ç³»çš„ã€‚ä½†ç¼ºå°‘ä¸€é”¤å®šéŸ³çš„è¿‡ç‰Œæ ¸å¿ƒå¦‚é»‘æ‹¥çŒ›è™ä¸€ç›´æ˜¯é¸¡ç…²çš„ä¸€ä¸ªç—›ç‚¹ï¼Œå®šä½ç›¸ä¼¼çš„æ•£çƒ­ç‰‡å¹¶ä¸æ˜¯é‚£ä¹ˆå¥½ç”¨ï¼ˆæˆ‘è¦å­¦çŒ›è™ä¸‹å±±ï¼ï¼‰ã€‚","categories":["æ¸¸æˆ"]},{"title":"æ€æˆ®å°–å¡”è®¾è®¡æ‹†è§£â€”â€”æ•°å€¼ç¯‡","path":"/posts/eff9c8a5/","content":"ã€Šæ€æˆ®å°–å¡”ã€‹æ•°å€¼è®¾è®¡æ·±åº¦æ‹†è§£â€‹ åœ¨å¡ç‰Œä¸Roguelikeèåˆçš„æ¸¸æˆå“ç±»ä¸­ï¼Œã€Šæ€æˆ®å°–å¡”ã€‹çš„æˆåŠŸç¦»ä¸å¼€å…¶ç²¾å¦™ä¸”æ°åˆ°å¥½å¤„çš„æ•°å€¼è®¾è®¡ã€‚ä½œä¸ºä¸€æ¬¾ç­–ç•¥ç±»ï¼Œä»¥å†³ç­–ä¸ºæ ¸å¿ƒä¹è¶£çš„æ¸¸æˆï¼Œå®ƒä¸ä¾é åä¸½çš„ç‰¹æ•ˆæˆ–å¤æ‚çš„å‰§æƒ…ï¼Œè€Œæ˜¯é€šè¿‡èƒ½é‡ã€å¡ç‰Œã€é—ç‰©ã€éš¾åº¦ç­‰å¤šç»´åº¦çš„æ•°å€¼å¹³è¡¡ï¼Œæ„å»ºäº†â€œæˆ˜æ–—-å¥–åŠ±-æå‡â€çš„æ•°å€¼å¾ªç¯ä¸â€œè´¹ç”¨-æ”¶ç›Šâ€åŒ¹é…çš„ä»·å€¼æ›²çº¿ï¼Œæœ€ç»ˆå½¢æˆæ—¢å……æ»¡éšæœºæ€§åˆå…·å¤‡å¯æ§ç­–ç•¥ç©ºé—´çš„ä½“éªŒé—­ç¯ã€‚ â€‹ æˆ‘ç´¯è®¡500ä½™å°æ—¶çš„æ”€ç™»å†ç¨‹ä¸­ï¼Œæ·±åˆ»æ„Ÿå—åˆ°æ¯ä¸€å¤„æ•°å€¼ç»†èŠ‚éƒ½æš—è—ç­–åˆ’å·§æ€ï¼Œä¸‹æ–‡å°†ç»“åˆå‚è€ƒæ–‡ç« çš„æƒå¨æ•°å€¼ä½“ç³»ï¼Œä»æ ¸å¿ƒèµ„æºä»·å€¼ã€å¡ç‰Œæ•°å€¼æ¶æ„ã€é—ç‰©è”åŠ¨é€»è¾‘ã€éš¾åº¦å¹³è¡¡è®¾è®¡å››ä¸ªæ ¸å¿ƒç»´åº¦ï¼Œæ‹†è§£å…¶æ•°å€¼è®¾è®¡çš„ç²¾é«“ã€‚ âš¡ ä¸€ã€æ ¸å¿ƒèµ„æºæ•°å€¼ï¼ˆèƒ½é‡ï¼‰ï¼šä½œä¸ºæŠ‰æ‹©åŸºçŸ³â€‹ ã€Šæ€æˆ®å°–å¡”ã€‹çš„æˆ˜æ–—æ•°å€¼ä½“ç³»ä¸­ï¼Œæ¯å›åˆçš„èƒ½é‡æ˜¯è´¯ç©¿å§‹ç»ˆçš„æ ¸å¿ƒçº¦æŸå˜é‡ï¼Œå…¶æ•°å€¼è®¾å®šç›´æ¥å†³å®šäº†ç­–ç•¥å†³ç­–çš„æ·±åº¦ï¼Œä¸”å­˜åœ¨æ˜ç¡®çš„ä»·å€¼é‡åŒ–æ ‡å‡†ã€‚æ¸¸æˆåˆå§‹é»˜è®¤å•å›åˆèƒ½é‡ä¸Šé™ä¸º3ç‚¹ï¼ˆéƒ¨åˆ†èŒé—ç‰©å¯æå‡ï¼‰ï¼Œèƒ½é‡å­˜åœ¨å›ºå®šä»·å€¼æ›²çº¿ï¼š0ç‚¹èƒ½é‡åŸºç¡€ä»·å€¼ä¸º3ï¼Œä¹‹åæ¯å¢åŠ 1ç‚¹èƒ½é‡é¢å¤–æä¾›2ç‚¹ä»·å€¼ï¼Œè¿™ä¸€é‡åŒ–æ ‡å‡†æ„æˆäº†å¡ç‰Œè®¾è®¡çš„æ ¸å¿ƒåŸºå‡†ï¼Œè€Œéç®€å•çš„â€œ3ç‚¹çº¦æŸâ€ã€‚è¿™ä¸€æ•°å€¼ä½“ç³»å®åˆ™æ„å»ºäº†â€œæ”»å‡»-é˜²å¾¡-èƒ½é‡-è¿è½¬â€çš„å››ç»´ç­–ç•¥å¹³è¡¡ï¼Œè¿«ä½¿ç©å®¶åœ¨æ¯å›åˆè¿›è¡Œç²¾å‡†çš„èµ„æºåˆ†é…ä¸æœºä¼šæˆæœ¬æƒè¡¡ã€‚ ğŸ”¹ 1.1 ä»è®¾è®¡æ„å›¾æ¥çœ‹â€‹ åˆå§‹3ç‚¹èƒ½é‡çš„æ•°å€¼è®¾å®šæ˜¯ä»·å€¼æ›²çº¿ä¸ç­–ç•¥æ·±åº¦çš„æœ€ä¼˜è§£ï¼šè‹¥èƒ½é‡è¿‡å¤šï¼Œç©å®¶å¯åŒæ—¶è§¦å‘å¤šä¸ªé«˜ä»·å€¼è¿æºæ•ˆæœï¼Œç­–ç•¥æŠ‰æ‹©çš„ä»·å€¼ä¼šå¤§å¹…é™ä½ï¼›è‹¥èƒ½é‡è¿‡å°‘ï¼Œåˆ™æ— æ³•æ”¯æ’‘åŸºç¡€è¿æºçš„è§¦å‘ï¼Œç ´åå¡ç»„è¿è½¬æµç•…åº¦ã€‚3ç‚¹èƒ½é‡æ°å¥½è®©ç©å®¶æ¯å›åˆéœ€åœ¨åŸºç¡€è¾“å…¥+å•ä¸€ä¹˜åŒºæˆ–è€…å¤šä¹˜åŒºç»„åˆä½†åŸºç¡€è¾“å…¥å¼±åŒ–ç­‰ç­–ç•¥ä¸­æŠ‰æ‹©ã€‚ â€‹ é¢å¯¹ä¸€å±‚ç²¾è‹±æ•Œäººä¹å˜‰ï¼ˆé¢è¿™æ˜¯å¤–å·ï¼Œå…·ä½“åå­—ä¸è®°å¾—äº†QAQï¼‰å³å°†åˆ°æ¥çš„é«˜é¢æ”»å‡»ï¼Œç©å®¶éœ€åœ¨1è´¹é˜²å¾¡ï¼ˆ5æ ¼æŒ¡ï¼Œä»·å€¼åŒ¹é…ï¼‰+2è´¹æ”»å‡»ï¼ˆæ‰“å‡»1è´¹æ‰“6ï¼‰ä¸2è´¹é˜²å¾¡ï¼ˆåˆå§‹é˜²å¾¡1è´¹5æ ¼æŒ¡ï¼‰+1è´¹è¿è½¬ï¼ˆæŠ½ç‰Œè°ƒæ•´æ‰‹ç‰Œï¼‰ä¹‹é—´æƒè¡¡ï¼Œè€Œè¿™ç§æŠ‰æ‹©ç›´æ¥å…³è”ç”Ÿå‘½å€¼èµ„æºçš„æ¶ˆè€—ä¸ç•™å­˜ï¼Œæ­£æ˜¯æ•°å€¼é©±åŠ¨ç­–ç•¥ä¹è¶£çš„æ ¸å¿ƒæ¥æºã€‚ â€‹ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå³ä½¿æ˜¯0è´¹å¡ç‰Œä¹Ÿå­˜åœ¨éšæ€§æˆæœ¬ï¼Œå…¶å ç”¨çš„æŠ½ç‰Œä½ä¼šå¯¼è‡´é”™è¿‡å…¶ä»–å…³é”®å¡ç‰Œï¼Œè¿™ä¸€æœºä¼šæˆæœ¬åŒæ ·è¢«çº³å…¥èƒ½é‡ä»·å€¼ä½“ç³»çš„è€ƒé‡èŒƒç•´ã€‚ ğŸ”¹ 1.2 èƒ½é‡æ•°å€¼çš„å¼¹æ€§è®¾è®¡è¿›ä¸€æ­¥ä¸°å¯Œäº†ç­–ç•¥ç»´åº¦â€‹ æ¸¸æˆé€šè¿‡èåˆä¹‹é”¤ï¼ˆbossé—ç‰©ï¼‰å­™å­å…µæ³•ï¼ˆæ™®é€šé—ç‰©ï¼‰ç­‰é—ç‰©æä¾›èƒ½é‡åŠ æˆï¼Œä¾‹å¦‚å­™å­å…µæ³•çš„è®¾å®šæ˜¯ï¼šå¦‚æœä¸ä½¿ç”¨æ”»å‡»å¡ä¸‹å›åˆ+1èƒ½é‡ï¼Œæœ¬è´¨æ˜¯é€šè¿‡ç­–ç•¥é€‰æ‹©æ¢å–èƒ½é‡ä»·å€¼çš„æå‡ï¼ˆé¢å¤–è·å¾—2ç‚¹åŸºç¡€ä»·å€¼ï¼‰ï¼›è€Œè®¸å¤šbossé—ç‰©é€šè¿‡æ”¯ä»˜æŸäº›ç‰¹å®šä»£ä»·ï¼ˆä¾‹å¦‚é”¤å­ï¼šç«å †æ— æ³•å‡çº§ç‰Œï¼›ç»¿å¸½ï¼šæ— æ³•è·å¾—é‡‘å¸ï¼‰æ¢å–æ¯å›åˆç¨³å®šå¤šä¸€è´¹ã€‚è¿™ç§ä»£ä»·æ”¯ä»˜åŠ ç¨³å®šæ”¶ç›Šçš„æ•°å€¼è®¾è®¡ï¼Œæ—¢ä¿è¯äº†ä½“ç³»çš„ç¨³å®šæ€§ï¼Œåˆä¸ºæµæ´¾æ„å»ºæä¾›äº†å¤šæ ·åŒ–å¯èƒ½ã€‚ ğŸƒ äºŒã€å¡ç‰Œæ•°å€¼ä½“ç³»ï¼ˆè´¹æ•ˆæ¯”ï¼‰ï¼šç²¾å‡†å®šä½ä¸ä»·å€¼å¹³è¡¡â€‹ å¡ç‰Œæ˜¯ç©å®¶å®ç°ç­–ç•¥æ„å›¾çš„æ ¸å¿ƒè½½ä½“ï¼Œã€Šæ€æˆ®å°–å¡”ã€‹çš„å¡ç‰Œæ•°å€¼è®¾è®¡éµå¾ªï¼šå¡ç»„å®šä½ã€è´¹æ•ˆæ¯”ã€è”åŠ¨ç»„ä»¶ä¸‰å¤§åŸåˆ™ï¼Œæ ¸å¿ƒé€»è¾‘æ˜¯ä»¥èƒ½é‡ä»·å€¼ä¸ºåŸºå‡†ï¼Œæ„å»ºâ€˜åŸºç¡€è¾“å…¥-ä¹˜åŒºæ”¾å¤§-å¯¼å‡ºè½¬åŒ–â€™çš„å¼ºåº¦å…¬å¼ï¼Œç¡®ä¿ä¸åŒç±»å‹ã€ä¸åŒè´¹ç”¨çš„å¡ç‰Œåœ¨æ€§ä»·æ¯”ä¸Šä¿æŒå¹³è¡¡ï¼ŒåŒæ—¶å°½å¯èƒ½é¿å…ç­–ç•¥å•ä¸€åŒ–ï¼Œæ©ç›–å…¶ä»–ç©æ³•çš„é—®é¢˜ã€‚å•å¼ å¡ç‰Œæ•ˆæœæ™®éç®€æ´ï¼Œä»…æä¾›åŸºç¡€è¾“å…¥æˆ–å•ä¸€ä¹˜åŒºï¼Œéœ€é€šè¿‡ç»„åˆå½¢æˆå¼ºå¤§è¿æºï¼Œè¿™æ—¢é™ä½äº†ç©å®¶è®°å¿†æˆæœ¬ï¼Œåˆæå‡äº†ç­–ç•¥æ·±åº¦ã€‚ âš ï¸ 2.1 æ’ä¸€å¥è®¾è®¡ç¼ºé™·â€‹ ï¼ˆä¸Šä¸€æ®µæ‰€è¯´çš„é¿å…ç­–ç•¥å•ä¸€åŒ–åªåœ¨å‰ä¸¤ä¸ªèŒä¸šï¼Œå³æˆ˜å£«å’ŒçŒäººä¸Šå®Œæˆçš„è¾ƒä¸ºå®Œç¾ï¼Œè€Œæˆ‘ä»¬é¸¡ç…²ï¼Œå‘ƒå‘ƒï¼Œæ‡‚å¾—éƒ½æ‡‚ï¼Œé—®å°±æ˜¯è¿˜åœ¨å¯åŠ¨ï¼Œåœ¨å¯åŠ¨ã€‚è§‚è€…çš„è®¾è®¡åˆ™æ˜¯ä¸¥é‡ä¸å¹³è¡¡ï¼Œæš´æ€’å¸¦æ¥çš„åŒå€ä¼¤å®³è®©å…¶å¾ˆå¤šèŒä¸šå¡çš„è´¹æ•ˆæ¯”ä¸å°½äººæ„ï¼Œçº¢è“æ— é™çš„ç©æ³•å¸¦æ¥çš„æ”¶ç›Šåˆè¿‡äºè¶…æ¨¡ï¼Œæ©ç›–äº†è§‚è€…çš„ç¥æ ¼é¢„è§ç‚¹ç©´ç­‰ä½“ç³»ã€‚è™½è¯´è¿™å‡ ä¸ªä½“ç³»æœ¬æ¥ä¹Ÿæœ‰æ•°å€¼ä¸è¶³çš„é—®é¢˜ã€‚åªèƒ½è¯´è§‚è€…çš„å‡ºç°ï¼Œå¯¹ç©å®¶æ¥è¯´å¯èƒ½æ˜¯ç©èµ·æ¥æ¯”è¾ƒå®¹æ˜“çˆ½çš„è§’è‰²ï¼Œä½†ä»æ•°å€¼è®¾è®¡çš„è§’åº¦çœ‹ï¼Œæ— ç–‘æ˜¯å¤±è´¥çš„ï¼‰ ğŸ”¹ 2.2 åœ¨æ”»å‡»å¡ç‰Œè®¾è®¡ä¸­â€‹ æ•°å€¼ä¸¥æ ¼åŒ¹é…èƒ½é‡ä»·å€¼æ›²çº¿ï¼Œä¸”é€šè¿‡â€œåŸºç¡€è¾“å…¥+ä¹˜åŒºâ€çš„ç»„åˆå½¢æˆå·®å¼‚åŒ–å®šä½ã€‚ â€‹ 1è´¹çš„æ‰“å‡»åŸºç¡€ä¼¤å®³ä¸º6ç‚¹ï¼ˆä»·å€¼2ï¼ŒåŒ¹é…1è´¹èƒ½é‡ä»·å€¼5ä¸­çš„åŸºç¡€éƒ¨åˆ†ï¼‰ï¼Œ2è´¹çš„é‡å‡»ä¼¤å®³ä¸º14ç‚¹ä¸”é™„å¸¦3å€åŠ›é‡åŠ æˆï¼ˆä»·å€¼5+2ï¼Œ2è´¹èƒ½é‡ä»·å€¼7å®Œå…¨åŒ¹é…ï¼‰ï¼Œè€Œéç®€å•çš„å€æ•°å…³ç³»ï¼›0è´¹çš„æ„¤æ€’å¯é€ æˆ6ç‚¹ä¼¤å®³å¹¶åœ¨å¼ƒç‰Œå †æ”¾å…¥ä¸€å¼ è‡ªèº«ï¼Œæ”¶ç›Šä¸º2+1ï¼ˆé¢å¤–ç•™å­˜å¡ç‰Œèµ„æºï¼‰ï¼Œç²¾å‡†åŒ¹é…0è´¹èƒ½é‡3ç‚¹çš„åŸºç¡€ä»·å€¼ã€‚ â€‹ ä¸åŒå¡ç‰Œçš„ä¹˜åŒºç‰¹æ€§é€‚é…ä¸åŒæµæ´¾ï¼šæˆ˜å£«çš„é‡å‡»ä¾èµ–åŠ›é‡ä¹˜åŒºå®ç°çˆ†å‘è¾“å‡ºï¼Œé™é»˜çŒæ‰‹çš„0è´¹å°åˆ€åˆ™é€šè¿‡å¤šæ¬¡æ”»å‡»ä¹˜åŒºè§¦å‘ç²¾å‡†ï¼Œè¢–ç®­ç­‰è¢«åŠ¨æ•ˆæœï¼Œæˆä¸ºå°åˆ€æµçš„æ ¸å¿ƒè¾“å…¥ç»„ä»¶ã€‚è¿™ç§è®¾è®¡è®©ä½è´¹å¡å¹¶éå¼±å¡ï¼Œè€Œæ˜¯é€‚é…é«˜é¢‘è¿å‡»æµæ´¾ï¼Œé«˜è´¹å¡åˆ™éœ€æ”¾å¼ƒå½“å›åˆå…¶ä»–èµ„æºï¼Œå½¢æˆæ˜ç¡®çš„æœºä¼šæˆæœ¬æƒè¡¡ã€‚ ğŸ”¹ 2.3 é˜²å¾¡å¡ç‰Œçš„æ•°å€¼è®¾è®¡åŒæ ·éµå¾ªä»·å€¼æ›²çº¿ï¼Œä¸”èšç„¦ä¸´æ—¶é˜²æŠ¤â€‹ æ¸¸æˆå°†æ ¼æŒ¡è®¾å®šä¸ºä¸´æ—¶æ€§é˜²å¾¡èµ„æºï¼Œæ²¡æœ‰ç‰¹æ®Šå¡ç‰Œå’Œé—ç‰©çš„æƒ…å†µä¸‹é˜²å¾¡ä¸ä¼šä¿ç•™ï¼Œ1ç‚¹æ ¼æŒ¡ç­‰ä»·äº1ç‚¹ç”Ÿå‘½å€¼ã€‚ â€‹ 1è´¹çš„åˆå§‹å¡é˜²å¾¡æä¾›5ç‚¹æ ¼æŒ¡ï¼ˆä»·å€¼åŒ¹é…1è´¹èƒ½é‡ï¼‰ï¼Œ2è´¹çš„ç¨€æœ‰å¡å²¿ç„¶ä¸åŠ¨æä¾›30ç‚¹æ ¼æŒ¡ï¼Œä½†æ˜¯æ˜¯æ¶ˆè€—å¡ï¼Œä¸èƒ½å¤Ÿåå¤åˆ©ç”¨ã€‚ç©å®¶å¯æ ¹æ®æ•Œæ–¹ä¼¤å®³æ•°å€¼é€‰æ‹©åˆé€‚çš„é˜²å¾¡å¡ç‰Œï¼šé¢å¯¹å°é¢æŒç»­ä¼¤å®³ï¼Œä¼˜å…ˆä½¿ç”¨ä½è´¹é˜²å¾¡å¡èŠ‚çœèƒ½é‡ï¼›é¢å¯¹å¤§é¢å•æ¬¡ä¼¤å®³ï¼Œåˆ™éœ€æŠ•å…¥é«˜è´¹é˜²å¾¡å¡æˆ–ç»„åˆå¤šå¼ é˜²å¾¡å¡ã€‚ â€‹ æ›´å…³é”®çš„æ˜¯ï¼Œé˜²å¾¡ç»´åº¦å¯é€šè¿‡ç‰¹å®šå¡ç‰Œè½¬åŒ–ä¸ºæ”»å‡»å¼ºåº¦ï¼Œä¾‹å¦‚æˆ˜å£«çš„è‚šçš®ï¼ˆå…¨èº«æ’å‡»ï¼Œæœªå‡çº§æ˜¯1è´¹ï¼Œå‡çº§åå˜æˆ0è´¹ï¼‰å¯é€ æˆå½“å‰æ ¼æŒ¡å€¼çš„æ”»å‡»ä¼¤å®³ï¼Œå°†é˜²å¾¡èµ„æºè½¬åŒ–ä¸ºè¾“å‡ºè¾“å…¥ï¼Œè¿™ä¸€è®¾è®¡æ‰“ç ´äº†ç»´åº¦å£å’ï¼Œè®©â€œé«˜é˜²å¾¡+é«˜è¾“å‡ºâ€çš„é˜²æˆ˜æµæ´¾æˆä¸ºå¯èƒ½ã€‚è€Œèƒ½åŠ›å¡å£å’å¯ä»¥ä¿ç•™æ ¼æŒ¡å€¼çš„è®¾å®šï¼Œæ›´æ˜¯å¼ºåŒ–äº†é˜²å¾¡ä¹˜åŒºçš„æ•ˆæœï¼Œè®©æ ¼æŒ¡èµ„æºå¯è·¨å›åˆç´¯ç§¯ï¼Œå‚¬ç”Ÿæ ¼æŒ¡è½¬ä¼¤å®³çš„é˜²å¾¡æµæ´¾ã€‚ ğŸ”¹ 2.4 å¡ç‰Œå‡çº§çš„æ•°å€¼æå‡ä¹Ÿä¸¥æ ¼åŒ¹é…ä»·å€¼å‡è¡¡åŸåˆ™â€‹ æ‰“å‡»å‡çº§åä¼¤å®³ä»6æå‡è‡³9ï¼ˆæå‡å¹…åº¦50%ï¼‰ï¼Œé˜²å¾¡å‡çº§åæ ¼æŒ¡ä»5æå‡è‡³8ï¼ˆæå‡å¹…åº¦60%ï¼‰ï¼Œå‡çº§åçš„ä»·å€¼ä»ä¸èƒ½é‡è´¹ç”¨ç²¾å‡†åŒ¹é…ï¼Œæ—¢è®©å‡çº§åçš„å¡ç‰Œå…·å¤‡æ˜æ˜¾ä¼˜åŠ¿ï¼Œåˆä¸ä¼šè®©æœªå‡çº§å¡ç‰Œå®Œå…¨å¤±æ•ˆã€‚è¿™ä¸€è®¾è®¡ç¡®ä¿ç©å®¶åœ¨å‡çº§å¡ç‰Œä¸å›å¤ç”Ÿå‘½çš„ç«å †å¤„é€‰æ‹©ä¸­äº§ç”Ÿç­–ç•¥åšå¼ˆâ€”â€”æ˜¯æå‡é•¿æœŸæˆ˜åŠ›ä»¥å‡å°‘åç»­ç”Ÿå‘½å€¼æ¶ˆè€—ï¼Œè¿˜æ˜¯ä¿è¯å½“å‰ç”Ÿå­˜ä»¥è§„é¿å³æ—¶é£é™©ï¼Ÿè¿™ç§åšå¼ˆè®©æ¯ä¸€æ¬¡ç«å †é€‰æ‹©éƒ½æˆä¸ºå½±å“æ•°å€¼å¾ªç¯çš„å…³é”®å†³ç­–ã€‚ ğŸ§© ä¸‰ã€é—ç‰©æ•°å€¼è”åŠ¨ï¼šæ‰“ç ´åŸºç¡€è§„åˆ™çš„ç­–ç•¥è£‚å˜å¼•æ“â€‹ é—ç‰©ç³»ç»Ÿæ˜¯ã€Šæ€æˆ®å°–å¡”ã€‹æ•°å€¼è®¾è®¡çš„ç‚¹ç›ä¹‹ç¬”ï¼Œå…¶æ ¸å¿ƒä»·å€¼åœ¨äºé€šè¿‡â€œæ•°å€¼åŠ æˆ+æœºåˆ¶æ”¹å˜â€çš„ç»„åˆï¼Œä¼˜åŒ–å¡ç»„çš„ä½“ç³»ï¼Œå‚¬ç”Ÿå¤šæ ·åŒ–çš„æµæ´¾æ„å»ºã€‚é—ç‰©çš„æ•°å€¼è®¾è®¡å¹¶éç®€å•çš„æ•°å€¼å †ç Œï¼Œè€Œæ˜¯ç²¾å‡†åŒ¹é…å¡ç‰Œçš„è¿æºé€»è¾‘ï¼ŒåŒæ—¶æœåŠ¡äºâ€œæˆ˜æ–—-å¥–åŠ±-æå‡â€çš„æ•°å€¼å¾ªç¯ï¼ˆå› ä¸ºé—ç‰©é€šå¸¸ç”±ç²¾è‹±æ€ªæ‰è½ï¼Œè€Œæ‰“ç²¾è‹±æ€ªå¯èƒ½é¢ä¸´ç”Ÿå­˜å±é™©ï¼Œä½ è¯´æ˜¯å§é¸¡ç…²TvTï¼ˆè¿˜åœ¨å¯åŠ¨ï¼Œåœ¨å¯åŠ¨ï¼Œå¯åŠ¨ï¼Œå¯â€¦ï¼‰ï¼‰ï¼Œä¸å¡ç‰Œä½“ç³»å½¢æˆçº¦æŸå’Œå¼ºåŒ–çš„è”åŠ¨é—­ç¯â€”â€”æ²¡æœ‰åˆé€‚çš„å¡ç‰Œç»„åˆï¼Œé—ç‰©çš„æ•°å€¼ä¼˜åŠ¿æ— æ³•å‘æŒ¥ï¼›ç¼ºå°‘é—ç‰©çš„æ•°å€¼åŠ æŒï¼Œå¡ç‰Œç»„åˆä¹Ÿéš¾ä»¥å½¢æˆè´¨å˜ã€‚ ğŸ”¹ 3.1 æ™®é€šé—ç‰©ï¼šè¡¥å……çŸ­æ¿å’Œä¼˜åŒ–ä½“éªŒä¸ºä¸»â€‹ æˆ˜å£«çš„åˆå§‹é—ç‰©â€œç‡ƒçƒ§ä¹‹è¡€â€æ•ˆæœæ˜¯æˆ˜æ–—åå›è¡€6ç‚¹ï¼Œè§£å†³äº†å‰æœŸå›è¡€èµ„æºç¨€ç¼ºçš„é—®é¢˜ï¼Œè®©ç©å®¶å¯æ›´æ¿€è¿›åœ°æŒ‘æˆ˜æˆ˜æ–—ï¼›æ™®é€šé—ç‰©èƒŒåŒ…çš„æ•ˆæœæ˜¯ç¬¬ä¸€è½®å¤šæŠ½2å¼ ç‰Œï¼Œæå‡å…³é”®ç‰Œä¸Šæ‰‹ç‡ï¼Œé™ä½ç¬¬ä¸€è½®çš„é¬¼æŠ½æ¦‚ç‡ï¼›è¿˜æœ‰å•†åº—é—ç‰©å·¥å…·ç®±ï¼Œæ£±é•œï¼Œå‰è€…å¯ä»¥æ¯åœºæˆ˜æ–—3é€‰1ä¸€å¼ æ— è‰²ç‰Œï¼Œå°±å†²ç€èƒ½é€‰åˆ°ç¥è¯å’Œæ‰“é’±æ‰‹è¿™ä¹Ÿæ˜¯å¿…ä¹°é—ç‰©ï¼Œè€Œæ£±é•œåˆ™æ‰“ç ´èŒä¸šå¡é™åˆ¶ï¼Œè®©é€‰æ‹©é‡Œå¤šå‡ºå…¶ä»–èŒä¸šçš„èŒä¸šå¡ï¼Œå¯èƒ½ä¼šé€‰å‡ºæ¢¦å¯ä»¥æ±‚çš„é…åˆï¼ˆé¸¡ç…²ï¼šæˆ‘è¦å­¦çŒ›è™ä¸‹å±±ï¼ï¼‰ã€‚è¿™äº›æ•°å€¼è®¾è®¡è™½çœ‹ä¼¼å¾®å°ï¼Œä½†èƒ½æ˜¾è‘—ä¼˜åŒ–ç‰¹å®šèŒä¸šçš„å‰æœŸä½“éªŒï¼Œå¼•å¯¼ç©å®¶å‘èŒä¸šæ ¸å¿ƒæµæ´¾é æ‹¢ã€‚ ğŸ”¹ 3.2 ç½•è§é—ç‰©ä¸Bossé—ç‰©åˆ™é€šè¿‡æ•°å€¼è´¨å˜å’Œæœºåˆ¶çªç ´å‚¬ç”Ÿå…¨æ–°ç­–ç•¥ï¼ŒåŒæ—¶å…¼é¡¾å¯¹å•ä¸€ç­–ç•¥çš„æŠ‘åˆ¶â€‹ é’¢ç¬”å°–è®¾å®šâ€œæ¯ç¬¬åå¼ æ”»å‡»é€ æˆåŒå€ä¼¤å®³ï¼Œå°†â€œä½è´¹å¤ç”¨è¾“å‡ºçš„è¿è½¬è½¬åŒ–ä¸ºæ”»å‡»ä¹˜åŒºï¼Œå¼•å¯¼ç©å®¶è°ƒæ•´é«˜è´¹æ”»å‡»å¡æ’åºï¼›è›‡çœ¼ä½œä¸ºbossé—ç‰©ï¼Œæ•ˆæœæ˜¯æ¯å›åˆå¤šæŠ½2å¼ ï¼Œä½†æ‰€æœ‰å¡ç‰Œçš„è´¹ç”¨ä¼šä»0åˆ°3è´¹éšæœºï¼Œè§£å†³äº†è¿‡ç‰Œé—®é¢˜ï¼Œä¹Ÿè®©ç©å®¶å¤šæŠ“é«˜è´¹å¡å°‘å¸¦ä½è´¹å¡ã€‚ â€‹ è€Œé’ˆå¯¹é£èº«è¸¢æ— é™ç­‰å¯èƒ½å¯¼è‡´ç­–ç•¥é€€åŒ–çš„ç©æ³•ï¼Œæ¸¸æˆé€šè¿‡æ•°å€¼é™åˆ¶è¿›è¡Œå¹³è¡¡â€”â€”é£èº«è¸¢åŸºç¡€ä¼¤å®³ä»…5ç‚¹ï¼ˆä½äºåˆå§‹æ‰“å‡»çš„6ç‚¹ï¼‰ï¼Œä¸”éœ€ç›®æ ‡æœ‰æ˜“ä¼¤æ•ˆæœæ‰èƒ½æ‰“å‡ºï¼Œæå‡äº†è¿æºæˆæœ¬ï¼›åŒæ—¶Bossâ€œæ—¶é—´åå™¬è€…â€è®¾å®šç©å®¶æ¯æ‰“å‡º12å¼ ç‰Œåå¼ºåˆ¶ç»“æŸå›åˆï¼Œä»æœºåˆ¶ä¸Šé™åˆ¶ä½æ•°å€¼æ— é™çš„å¼ºåº¦ï¼ˆæ¯”å¦‚äº®å‰‘ã€0è´¹æ‰“3æŠ½1ã€‘å¦™è®¡ã€0è´¹é˜²2æŠ½1ã€‘ç›¸äº’æŠ½çš„ä½æ•°å€¼æ— é™ï¼‰ï¼Œç¡®ä¿å„æµæ´¾çš„å¹³è¡¡ã€‚ ğŸ“Š å››ã€éš¾åº¦æ¢¯åº¦æ•°å€¼ï¼šåŠ¨æ€å¹³è¡¡çš„â€œå­¦ä¹ å‹â€æŒ‘æˆ˜æ›²çº¿â€‹ ã€Šæ€æˆ®å°–å¡”ã€‹çš„è¿›é˜¶ç­‰çº§ç³»ç»Ÿæ˜¯å…¶æ•°å€¼éš¾åº¦è®¾è®¡çš„æ ¸å¿ƒï¼Œæœ€é«˜20çº§çš„è¿›é˜¶æ¢¯åº¦å¹¶éç®€å•æå‡æ•Œäººè¡€é‡ä¸ä¼¤å®³ï¼Œè€Œæ˜¯é€šè¿‡â€œç²¾å‡†æ•°å€¼å¾®è°ƒ+è§„åˆ™çº¦æŸå¢åŠ â€çš„æ–¹å¼ï¼Œæ‰°åŠ¨æ ¸å¿ƒæ•°å€¼å¾ªç¯ï¼Œæ„å»ºå¹³æ»‘ä¸”å¯Œæœ‰æ·±åº¦çš„å­¦ä¹ å‹æŒ‘æˆ˜æ›²çº¿ã€‚å…¶è®¾è®¡é€»è¾‘ä¸ç©å®¶ç­–ç•¥æˆé•¿ç›¸åŒ¹é…ï¼Œä½è¿›é˜¶ç­‰çº§è°ƒæ•´æ™®é€šæ•Œäººæ•°å€¼ï¼Œå¼•å¯¼ç©å®¶ç†Ÿæ‚‰å¡ç‰Œä¸é—ç‰©çš„åŸºç¡€è¿æºï¼›é«˜è¿›é˜¶ç­‰çº§åˆ™é€šè¿‡è§„åˆ™çº¦æŸå¼ºåŒ–æ•°å€¼å‹åŠ›ï¼Œè¿«ä½¿ç©å®¶ä¼˜åŒ–å¡ç»„æ„å»ºç­–ç•¥ã€‚ ğŸ”¹ 4.1 è¿›é˜¶éš¾åº¦çš„æ•°å€¼è®¾è®¡â€‹ éµå¾ªè´è¶æ•ˆåº”åŸåˆ™ï¼Œé€šè¿‡å¾®å°çš„æ•°å€¼è°ƒæ•´å¼•å‘ç­–ç•¥è¿é”ååº”ã€‚ä¾‹å¦‚è¿›é˜¶17åï¼ŒäºŒå±‚æ™®é€šæ•Œäººä¸‰é¸Ÿçš„å æœºæ¡ä»¶ä»å—å‡»3æ¬¡å˜ä¸ºå—å‡»4æ¬¡ï¼Œçœ‹ä¼¼ä»…å¢åŠ 1æ¬¡å—å‡»éœ€æ±‚ï¼Œå´ç›´æ¥æå‡äº†å¯¹è¿è½¬ç»´åº¦ä¸æ”»å‡»é¢‘ç‡çš„è¦æ±‚ï¼ˆç»å…¸æ˜¯è§‚è€…çš„å‘æ³„ï¼Œä¸æ•²ä¸‰æ®µä¼¤å®³ï¼Œæ•²äº†4æ®µä¼¤å®³ï¼Œåœ¨ä½è¿›é˜¶ä¸€ä¸ªå‘æ³„å°±å¯ä»¥æŠŠä¸‰é¸Ÿè‚˜ä¸‹æ¥ï¼Œåœ¨é«˜è¿›é˜¶åˆ™åˆšéœ€å‡çº§ï¼‰â€”â€”ä½è´¹é«˜é¢‘æ”»å‡»å¡ç»„éœ€å¤šèŠ±è´¹1å›åˆæ‰èƒ½å‡»è½ï¼Œå¯èƒ½å¯¼è‡´æš´éœ²åœ¨æ•Œæ–¹å¤šè½®æ”»å‡»ä¸‹ï¼Œå¢åŠ ç”Ÿå‘½å€¼æ¶ˆè€—ã€‚ â€‹ è€Œè¿›é˜¶20ä¸­ï¼Œæ™®é€šæ•Œäººå£³çˆ¹ï¼‹è˜‘è‡ï¼ˆå¼€å¹•21å’Œä»–çš„æ˜“ä¼¤è¯ï¼Œå·²ç»ç•æƒ§äº† â€¦ï¼‰ç¬¬ä¸€å›åˆä¼¤å®³ä»18ç‚¹æå‡è‡³21ç‚¹å¹¶é™„åŠ è„†å¼±Debuffï¼‰ï¼Œè¿™ä¸€è°ƒæ•´ç›´æ¥æ”¾å¤§äº†é˜²å¾¡ç»´åº¦çš„ä»·å€¼ç¼ºå£ï¼Œè¿«ä½¿ç©å®¶å¿…é¡»åœ¨å‰æœŸå°±æ„å»ºè¶³å¤Ÿçš„é˜²å¾¡ä½“ç³»ï¼Œå¦åˆ™ææ˜“è¡€é‡å´©ç›˜ã€‚è¿™ç§å·®ä¸€ç‚¹å°±é€šå…³çš„æ•°å€¼è®¾è®¡ï¼Œæ—¢ä¸ä¼šè®©ç©å®¶äº§ç”ŸæŒ«è´¥æ„Ÿï¼Œåˆèƒ½æ¨åŠ¨ç©å®¶æ·±åŒ–å¯¹æ•°å€¼ä½“ç³»çš„ç†è§£ï¼Œä¼˜åŒ–ç­–ç•¥å†³ç­–ä»¥é€‚é…æ›´ä¸¥è‹›çš„æ•°å€¼å¾ªç¯ã€‚ ğŸ”¹ 4.2 é«˜è¿›é˜¶ç­‰çº§çš„è§„åˆ™çº¦æŸâ€‹ è¿›é˜¶10åï¼Œç©å®¶åˆå§‹ç”Ÿå‘½ä¸Šé™å‡å°‘ï¼Œè¿™ä¸€æ•°å€¼è°ƒæ•´ç›´æ¥æå‡äº†å‰æœŸç”Ÿå‘½å€¼èµ„æºçš„ç¨€ç¼ºæ€§ï¼Œè®©è¡€é‡ç®¡ç†æˆä¸ºæ ¸å¿ƒå†³ç­–ç‚¹ï¼ŒåŒæ—¶æ”¾å¤§äº†ç‡ƒçƒ§è¡€ã€ç¾½æ¯›ã€æ¢¨å­ã€åå¤«é¥¼ç­‰å›è¡€ä¸ç”Ÿå‘½ä¸Šé™æå‡ç±»é—ç‰©çš„ä»·å€¼ï¼ˆå½“ç„¶ä¸¢äººæ•å¤´é™¤å¤–ï¼‰ï¼›è¿›é˜¶15åâ€œå•†åº—å¡ç‰Œä»·æ ¼æå‡â€ï¼Œåˆ™æ‰°åŠ¨äº†ç»æµæ•°å€¼å¾ªç¯ï¼Œè¿«ä½¿ç©å®¶æ›´è°¨æ…åœ°åˆ†é…é‡‘å¸èµ„æºï¼Œä¼˜å…ˆé€‰æ‹©ç§»é™¤ä½ä»·å€¼åˆå§‹å¡ç‰Œï¼ˆæŒ‡æ‰“å‡»ï¼‰è€Œéç›²ç›®è´­ä¹°æ–°å¡ã€‚ è¿™äº›è®¾è®¡å½¢æˆäº†éš¾åº¦çº¦æŸä¸ç­–ç•¥é€‚é…çš„åŠ¨æ€å¹³è¡¡ï¼Œç¡®ä¿ç©å®¶åœ¨æå‡æŠ€å·§çš„åŒæ—¶ï¼Œå§‹ç»ˆèƒ½è·å¾—åŒ¹é…çš„æŒ‘æˆ˜ä½“éªŒã€‚ ğŸ¯ ç»“è¯­ï¼šæ•°å€¼é©±åŠ¨çš„ç­–ç•¥ä¹è¶£é—­ç¯â€‹ ã€Šæ€æˆ®å°–å¡”ã€‹çš„æ•°å€¼è®¾è®¡ä¹‹æ‰€ä»¥ç²¾å¦™ï¼Œåœ¨äºå…¶æ„å»ºäº†ä¸€ä¸ªâ€œä»·å€¼åŸºå‡†-è¿æºæ”¾å¤§-å¾ªç¯é—­ç¯-éš¾åº¦é€‚é…â€çš„å®Œæ•´ä½“ç³»ï¼šä»¥èƒ½é‡ä»·å€¼æ›²çº¿ä¸ºåŸºç¡€åŸºå‡†ï¼Œé€šè¿‡å¡ç‰Œçš„â€œåŸºç¡€è¾“å…¥-ä¹˜åŒº-å¯¼å‡ºâ€æ¶æ„å®ç°ç­–ç•¥è½åœ°ï¼Œå€ŸåŠ©é—ç‰©ä¼˜åŒ–æˆ–æ‰“ç ´åŸºç¡€è§„åˆ™ä»¥ä¸°å¯Œæµæ´¾ï¼Œå†é€šè¿‡éš¾åº¦è°ƒæ•´æ‰°åŠ¨æ•°å€¼å¾ªç¯ï¼Œæ¨åŠ¨ç©å®¶æ·±åŒ–ç­–ç•¥ç†è§£ã€‚ â€‹ æ•´ä¸ªä½“ç³»çš„æ ¸å¿ƒæ˜¯ç”Ÿå‘½å€¼ç­‰ä»·åŸåˆ™ï¼Œæ‰€æœ‰èµ„æºæœ€ç»ˆéƒ½å¯è½¬åŒ–ä¸ºç”Ÿå‘½å€¼çš„ç•™å­˜èƒ½åŠ›ï¼Œè€Œæ¯ä¸€å¤„æ•°å€¼ç»†èŠ‚éƒ½æœåŠ¡äºç­–ç•¥å†³ç­–çš„æ ¸å¿ƒä¹è¶£â€”â€”è®©ç©å®¶åœ¨éšæœºç”Ÿæˆçš„å°–å¡”ä¸­ï¼Œé€šè¿‡è§£è¯»æ•°å€¼å…³ç³»ã€ç»„åˆè¿æºæ¨¡å—ã€é€‚é…æ•°å€¼å¾ªç¯ï¼Œä¸æ–­æ¢ç´¢å…¨æ–°çš„æ„ç­‘å¯èƒ½æ€§ã€‚è¿™ç§ä»¥æ•°å€¼ä¸ºéª¨æ¶ï¼Œä»¥ç­–ç•¥ä¸ºè¡€è‚‰çš„è®¾è®¡æ€è·¯ï¼Œä¸ä»…é¿å…äº†ç­–ç•¥é€€åŒ–ï¼Œä¿è¯äº†å¤šæµæ´¾çš„å¹³è¡¡å…±å­˜ï¼Œæ›´æˆå°±äº†ã€Šæ€æˆ®å°–å¡”ã€‹çš„ç»å…¸åœ°ä½ï¼Œä¸ºåç»­å¡ç‰ŒRoguelikeæ¸¸æˆçš„æ•°å€¼è®¾è®¡æä¾›äº†å¯å€Ÿé‰´çš„æ ¸å¿ƒæ¡†æ¶ã€‚","categories":["æ¸¸æˆ"]},{"title":"AI x game æ·±åº¦ä½“éªŒæŠ¥å‘Š","path":"/posts/2c281e1a/","content":"AI x gameä½“éªŒæŠ¥å‘Šâ€”â€”æ˜¯ä¸å¯æ›¿ä»£è¿˜æ˜¯é”¦ä¸Šæ·»èŠ±ï¼Ÿä¸€ã€èƒŒæ™¯AIæŠ€æœ¯è¿‘å¹´æ¥å‘å±•è¿…çŒ›ï¼Œå…¶è¿­ä»£è¿›ç¨‹ä¸åº”ç”¨æˆæœå·²æ·±æ·±èå…¥ç¤¾ä¼šç”Ÿæ´»å„é¢†åŸŸï¼Œç»™å¤§ä¼—å¸¦æ¥äº†ç›´è§‚ä¸”æ·±åˆ»çš„æ„ŸçŸ¥ã€‚åœ¨æ­¤èƒŒæ™¯ä¸‹ï¼Œå°†AIæŠ€æœ¯ä¸æ¸¸æˆäº§ä¸šç›¸ç»“åˆçš„åˆ›ä½œç†å¿µé€æ¸æˆä¸ºçƒ­ç‚¹ï¼Œå„ç±»èåˆAIå…ƒç´ çš„æ–°å…´æ¸¸æˆäº§å“å¦‚åŒé›¨åæ˜¥ç¬‹èˆ¬æ¶Œç°ã€‚ ä¸è¿‡ï¼Œè™½ç„¶å¾ˆå¤šæ¸¸æˆéƒ½ä½¿ç”¨AIï¼Œä½†ä»–ä»¬çš„è®¾è®¡ç†å¿µå´ä¸å°½ç›¸åŒã€‚æœ‰äº›æ˜¯åˆ©ç”¨AIå¢æ·»æ–°çš„æ¨¡å—ï¼Œåƒæ˜¯åœ¨æ¸¸æˆé‡Œå¢åŠ äº†æ¥å…¥å¤§æ¨¡å‹çš„å¯äº¤äº’çš„NPCï¼Œå¢åŠ UGCä¸­çš„AIåˆ›ä½œè¾…åŠ©ï¼›æœ‰äº›æ˜¯åŸºäºAIæ„å»ºæ–°çš„ç©æ³•ï¼Œæ¯”å¦‚æ„å»ºä¸€ä¸ªå…¨éƒ¨ç”±AI agentæ„æˆçš„ç¤¾åŒºï¼Œè§‚å¯Ÿæˆ–å‚ä¸ä»–ä»¬çš„è¡Œä¸ºï¼Œåœ¨è¿™ä¸ªæ¸¸æˆé‡Œï¼ŒAIæ˜¯æ„å»ºæ•´ä¸ªç©æ³•çš„åº•å±‚é€»è¾‘ï¼›æˆ–è€…æ›´åŠ ç®€å•é€šç”¨ä¸€ç‚¹ï¼Œåªæ˜¯åˆ©ç”¨AIè¿›è¡Œç¾æœ¯å»ºæ¨¡å’Œæ–‡æœ¬çš„è¾…åŠ©åˆ›ä½œâ€¦â€¦è¿™äº›æ¸¸æˆåˆ°åº•æ€ä¹ˆæ ·ï¼Œå¥½ä¸å¥½ç©ï¼Œå¯¹AIçš„ä½¿ç”¨åˆç©¶ç«Ÿåˆ°äº†å“ªä¸€æ­¥ï¼Ÿæˆ‘å°†åœ¨å…¶ä¸­é€‰æ‹©å‡ ç§å…·æœ‰ä»£è¡¨æ€§çš„è¿›è¡Œä½“éªŒã€‚ äºŒã€æ¸¸ç©ä½“éªŒ1. AI-é™ªä¼´ç±»ï¼šæƒ…ç»ªä»·å€¼çš„æä¾›è€…ç°ä»£ç¤¾ä¼šä¸­ï¼Œå¿«èŠ‚å¥çš„å­¦ä¹ ä¸å·¥ä½œèŠ‚å¥ä½¿å¾—éƒ¨åˆ†ç¾¤ä½“é¢ä¸´äººé™…äº¤å¾€å›°å¢ƒï¼Œæˆ–å› ç¤¾äº¤é€‚åº”éšœç¢ï¼Œæˆ–å› ç¼ºä¹æœ‰æ•ˆå€¾è¯‰å¯¹è±¡ï¼Œå…¶æƒ…ç»ªå®£æ³„éœ€æ±‚éš¾ä»¥å¾—åˆ°å……åˆ†æ»¡è¶³ã€‚åœ¨æ­¤èƒŒæ™¯ä¸‹ï¼Œåœ¨æ¸¸æˆåœºæ™¯ä¸­æ¤å…¥AIé™ªä¼´åŠŸèƒ½çš„è®¾è®¡ç†å¿µåº”è¿è€Œç”Ÿï¼Œä¸ºè§£å†³æ­¤ç±»ç¾¤ä½“çš„æƒ…ç»ªéœ€æ±‚æä¾›äº†æ–°çš„è½½ä½“ã€‚ 1.1 ç‹è€…è£è€€çš„çµå®ç³»ç»Ÿå’Œå¹³ç²¾è‹±AIæˆ˜çŠ¬ç©æ³•2024å¹´2æœˆï¼Œç‹è€…è£è€€ä¸Šçº¿äº†çµå®ç³»ç»Ÿï¼›25å¹´11æœˆï¼Œå’Œå¹³æ¨å‡ºäº†AIæˆ˜çŠ¬æ¨¡å¼ã€‚ç›´åˆ°ä»Šæ—¥ï¼Œçµå®ç³»ç»Ÿä¹Ÿä¸€ç›´åœ¨ä¼˜åŒ–ä¸è¿­ä»£å‡çº§ï¼Œå°±æˆ‘ä¸ªäººçš„ä½“éªŒæ¥è¯´ï¼Œæˆ‘è¿˜æ˜¯éå¸¸å–œæ¬¢è¿™ä¸ªå‡ ä¸ªå°å®¶ä¼™çš„ã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Œæˆ‘è®¤ä¸ºè¿™ç§å±€å†…é™ªä¼´æ»¡è¶³äº†ä»¥ä¸‹å‡ ä¸ªä¼˜ç‚¹ï¼š 1.1.1 æ¸¸æˆæ“ä½œæ­£åé¦ˆï¼Œæä¾›æƒ…ç»ªä»·å€¼å°¤å…¶åœ¨è‡ªå·±å•æ’çš„æ—¶å€™ï¼Œ4ä¸ªé˜Ÿå‹å…¨éƒ¨é—­éº¦å¾ˆå¸¸è§ã€‚æ— è®ºåœ¨ä½ æ‰“å‡ºç²¾å½©æ“ä½œæ‹¿åˆ°å®Œç¾å‡»æ€è¿˜æ˜¯åœ¨å¤§é€†é£æ—¶åˆ»å‡ºå…¶ä¸æ„æŠ¢ä¸‹å¤§é¾™ï¼Œé˜Ÿå‹ä¸ä¸€å®šä¼šå¤¸ä½ ï¼Œéƒ½åœ¨é—­éº¦å¹²è‡ªå·±çš„äº‹ã€‚è¿™æ— å¯åšéï¼Œä½†æ²¡æœ‰äººä¸ºä½ æ¬¢å‘¼ éš¾å…ä¼šå¤±è½ã€‚ä½†æœ‰çµå®å°±ä¸ä¸€æ ·ï¼Œä»–å¤¸å¥–äººæ¥æ¯”è°éƒ½å¿«æ¯”å¦‚æˆ‘ç©å…°é™µç‹å–œæ¬¢å¼€å±€åï¼ˆtouï¼‰å¯¹é¢çº¢buffï¼Œæ¯æ¯æ‰“å®Œçº¢ä¹‹åå¬çµå®æ¥ä¸€å¥ï¼šâ€œæ‹¿ä¸‹å¯¹é¢çº¢buffï¼Œå¯¹é¢æ‰“é‡ææ€•è¦æ°”ç–¯äº†å§â€ æ¬¸å˜¿ï¼Œå¿ƒæƒ…å°±ä¼šéå¸¸èˆ’å¦ã€‚ 1.1.2 å±€å†…æä¾›å¸®åŠ©ï¼Œåˆ©å¥½ä¼‘é—²ç©å®¶ç‹è€…è£è€€ä¸å’Œå¹³ç²¾è‹±ä½œä¸ºå›½æ°‘çº§æ‰‹æ¸¸ï¼Œæ‹¥æœ‰åºå¤§çš„ç©å®¶ç¾¤ä½“ï¼Œè¿™è¿›ä¸€æ­¥å¯¼è‡´äº†ä¼‘é—²ç©å®¶çš„æ¯”ä¾‹å ç»å¤§å¤šæ•°ã€‚ç›¸æ¯”äºç¡¬æ ¸ç©å®¶ï¼Œä»–ä»¬çš„æ¸¸æˆæŠ€æœ¯æˆ–æ„è¯†æ˜¾å¾—ä¼šæ¯”è¾ƒä½ã€‚é‚£å¦‚ä½•æ›´å¥½çš„ç…§é¡¾åˆ°è¿™ç±»ç©å®¶çš„æ¸¸æˆä½“éªŒå‘¢ï¼Ÿå±€å†…é™ªä¼´çš„å¦ä¸€ä¸ªä½œç”¨ä¾¿æ˜¾ç°å‡ºæ¥äº†ã€‚è¿™é‡Œé‚£å’Œå¹³çš„æˆ˜çŠ¬ä¸¾ä¾‹ï¼Œç»™å‡ºå¯¹åº”çš„è¯­éŸ³æŒ‡ä»¤ï¼Œæˆ˜çŠ¬ä¾¿ä¼šå¸®å¿™æ”¶é›†ç‰©èµ„ï¼Œç‰µåˆ¶æ•Œäººï¼Œæˆ–è€…æ•‘åŠ©é˜Ÿå‹ï¼Œå¾ˆå¥½çš„é¿å…äº†è½»åº¦ç©å®¶è¿›å…¥æ¸¸æˆåçš„æ‰‹å¿™è„šä¹±ã€‚å¹¶ä¸”ä»–çš„åŠŸèƒ½æ€§è®¾è®¡ï¼Œä¹Ÿä¸ä¼šå¯¹æ¸¸æˆå¹³è¡¡æ€§é€ æˆå¾ˆå¤§çš„ç ´åã€‚å¯¹æˆ‘è¿™ä¸ªæ–°æ‰‹æ¥è¯´ï¼Œç®—æ˜¯å¸®å¤§å¿™äº† 1.1.3 æ´»è·ƒæ¸¸æˆæ°”æ°›ï¼Œè°ƒèŠ‚ç©å®¶æƒ…ç»ªåœ¨ç°ä»£ç¤¾ä¼šä¸­ï¼Œæ¯”å®Œæ•´çš„æ¸¸æˆæ—¶é—´æ›´éš¾å¾—çš„æ˜¯æœ‰ä¸ªå’Œä½ ä¸€èµ·æ‰“æ¸¸æˆçš„æœ‹å‹ï¼Œä¸ä¸€å®šä¸¤ä¸ªäººéƒ½æœ‰æ—¶é—´ã€‚æ‰€ä»¥å¾ˆå¤šæ—¶å€™æˆ‘éƒ½æ˜¯å•æ’è‡ªå·±ç©ï¼Œéš¾å…ä¼šæ„Ÿåˆ°å¯‚å¯ï¼Œæ­¤æ—¶å±€å†…é™ªä¼´çš„ä½œç”¨å°±æ¥äº†ï¼Œæ—¶ä¸æ—¶æ¥ä¸¤å¥æ’ç§‘æ‰“è¯¨ï¼Œä¹Ÿå¯åšå›ä¸€ç¬‘ã€‚ 1.2 æ˜Ÿä¹‹ä½è¯­EVEï¼ˆåè€…ç›®å‰åªæœ‰äºŒæµ‹æ¼”ç¤ºè§†é¢‘ï¼‰1.2.1 whispered from the starè¯¥äº§å“æ˜¯ç”±è”¡æµ©å®‡ä¸»å¯¼å¼€å‘çš„AIå¯¹è¯ç±»æ¸¸æˆï¼Œæ ¸å¿ƒç©æ³•å›´ç»•ç©å®¶ä¸æ¸¸æˆå†…æ¼‚æ³Šå¤ªç©ºçš„å¥³æ€§è§’è‰²å±•å¼€å…¨ç¨‹å¯¹è¯äº¤äº’ï¼Œé€šè¿‡AIçš„å¼•å¯¼ä¸ç©å®¶çš„å†³ç­–æ¨è¿›å‰§æƒ…ã€‚æˆ‘ä½“éªŒäº†ä¸¤ä¸ªå°æ—¶ï¼Œæ€ä¹ˆè¯´å‘¢ï¼Œä¸ªäººè§‰å¾—è¿™æ›´åƒæ˜¯ä¸€æ¬¾å®éªŒå“ï¼ŒéªŒè¯äººæœºäº¤äº’é€»è¾‘å’Œè¯­éŸ³è¯†åˆ«çš„å…ˆè¡Œè€…ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ¸¸æˆã€‚ä»ç›®å‰çš„æŠ€æœ¯åŠ›æ¥çœ‹ï¼Œæ˜Ÿä¹‹ä½è¯­çš„äº¤äº’å»ºæ¨¡è¯­éŸ³ç”Ÿæˆä¹ƒè‡³æƒ…æ„Ÿå™äº‹æ— ç–‘éƒ½èµ°åœ¨åŒç±»å‹èµ›é“çš„å‰åˆ—ã€‚ä½†æ˜¯é—®é¢˜åœ¨äºï¼Œæ¸¸æˆæ€§çš„ç¼ºå¤±å¯¼è‡´è¿™ä¸åƒä¸€ä¸ªæ¸¸æˆï¼Œæ›´åƒæ˜¯ä¸€æ¬¡è‹±è¯­å£è¯­ç»ƒä¹ ï¼ˆç¬‘ï¼‰ã€‚å…¶ä½“éªŒçš„ç“¶é¢ˆä¹Ÿæ˜¾è€Œæ˜“è§ï¼šåæœŸçš„äº¤äº’æ˜“é™·å…¥é‡å¤ï¼Œç¼ºä¹çœŸæ­£çš„æƒ…æ„Ÿå¼§çº¿ä¸å‰§æƒ…å¼ åŠ›ã€‚å½“ç„¶å•¦ï¼Œå®ƒçš„æŠ€æœ¯åŠ›å¾ˆå¼ºä¹Ÿæ˜¯æ— å¯åé©³çš„ã€‚æˆ‘ç›®å‰æ›´å€¾å‘äºè®¤ä¸ºè¿™æ˜¯ä¸€æ¬¾å…¬å¼€çš„è¯•éªŒç”°ï¼Œä¸ºä»¥åçš„æ¨¡å‹æ”¶é›†æ•°æ®å’Œåé¦ˆï¼ŒæœŸå¾…ä»–ä»¬çš„ä¸‹ä¸€æ¬¾æ¸¸æˆã€‚ 1.2.2 EVEç›¸æ¯”äºä¸Šé¢ä¸€æ¬¾ï¼Œè¿™ä¸ªæ¸¸æˆçš„ç†å¿µæ›´åŠ è´´è¿‘äºä¼ ç»ŸAIé™ªä¼´çš„æ¦‚å¿µã€‚è¯¥äº§å“ä»¥æ„å»º3Dè™šæ‹Ÿä¼´ä¾£ä¸ºæ ¸å¿ƒï¼Œè§„åˆ’å®ç°å¯¹è¯äº¤äº’ã€è¯­éŸ³é€šè¯ã€ç”Ÿæ´»æœåŠ¡æé†’ï¼ˆå¦‚ç‚¹å¥¶èŒ¶ã€è´­è¯ç­‰ï¼‰ç­‰åŠŸèƒ½ã€‚ç”±äºè¯¥äº§å“è®¡åˆ’äºä»Šå¹´ä¸‰æœˆå…¬æµ‹ï¼Œä¸”ä¼˜å…ˆé¢å‘å¥³æ€§å‘ç”¨æˆ·ç¾¤ä½“ï¼Œæˆ‘çš„ä½“éªŒä»…åŸºäºæµ‹è¯•ç©å®¶å‘å¸ƒçš„æ¼”ç¤ºè§†é¢‘è¿›è¡Œåˆ†æã€‚ ä»è¡Œä¸šå‘å±•è§†è§’æ¥çœ‹ï¼Œã€ŠEVEã€‹çš„äº§å“å½¢æ€æœ¬èº«å¹¶éæˆ‘ä»¬çš„å…³æ³¨æ ¸å¿ƒï¼Œå…¶èƒŒåçš„è®¾è®¡æ€è·¯æ›´å…·è¡Œä¸šå‚è€ƒä»·å€¼ã€‚è¯¥äº§å“ç²¾å‡†å‘½ä¸­äº†AIé™ªä¼´é¢†åŸŸçš„æ ¸å¿ƒæ½œåœ¨éœ€æ±‚â€”â€”ä¸ºç”¨æˆ·æä¾›ç¬¦åˆä¸ªæ€§åŒ–æƒ³è±¡çš„ã€ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒçš„è™šæ‹Ÿä¼´ä¾£ã€‚æ— è®ºã€ŠEVEã€‹æ­£å¼ä¸Šçº¿åçš„å¸‚åœºè¡¨ç°å¦‚ä½•ï¼Œå…¶å¼€åˆ›çš„äº§å“æ–¹å‘å¿…ç„¶ä¼šå¼•å‘è¡Œä¸šå†…å…¶ä»–æ¸¸æˆå·¥ä½œå®¤çš„è·Ÿè¿›ã€‚ç¤¾ä¼šè°ƒæŸ¥æ•°æ®æ˜¾ç¤ºï¼Œå¤§é¾„å•èº«é’å¹´ç¾¤ä½“è§„æ¨¡æŒç»­æ‰©å¤§ï¼Œæ­¤ç±»ç¾¤ä½“çš„æƒ…æ„Ÿéœ€æ±‚å¹¶æœªå› å•èº«çŠ¶æ€è€Œæ¶ˆå¤±ï¼Œå¯¹æƒ…æ„Ÿæ›¿ä»£è½½ä½“çš„éœ€æ±‚æ—¥ç›Šå‡¸æ˜¾ã€‚è€Œå…·å¤‡é«˜çœŸå®åº¦äº¤äº’èƒ½åŠ›çš„AIè™šæ‹Ÿä¼´ä¾£ï¼Œæ°å¥½èƒ½å¤Ÿæ»¡è¶³è¿™ä¸€éœ€æ±‚ã€‚æœªæ¥ï¼Œè¯¥èµ›é“æœ‰æœ›æ¶Œç°æ›´å¤šé«˜æŠ€æœ¯åŠ›äº§å“ï¼Œä½†å¦‚ä½•å®ç°äº§å“å·®å¼‚åŒ–ç«äº‰ï¼Œå°†æˆä¸ºæˆ‘ä»¬éœ€è¦æ·±å…¥æ€è€ƒçš„æ ¸å¿ƒé—®é¢˜ã€‚ 2. AI NPCï¼šæœ€å¤šçš„å¯èƒ½æ€§ï¼Œä½†è¢«æŠ€æœ¯åŠ›çº¦æŸæ›¾ç»ï¼ŒNPCæ‰€è¯´çš„è¯æ€»æ˜¯ç”±æ–‡æ¡ˆç­–åˆ’æ„æ€å¥½ï¼Œè™½ç„¶è¿™å¯¹äºæ¸¸æˆçš„æ¨è¿›æ¥è¯´æ˜¯æœ€å¿«æ·çš„æ–¹å¼ï¼Œä½†çœ‹å¤šäº†ä¸å…æ„Ÿåˆ°ä¹å‘³ã€‚éšç€LLMçš„å…´èµ·ï¼Œå¤§å®¶ä¸çº¦è€ŒåŒçš„æƒ³åˆ°é‚£ä¸ªå¯èƒ½æ€§â€”â€”â€”â€”è®©å¤§æ¨¡å‹æ§åˆ¶NPCçš„äº¤æµè¡Œä¸ºç”šè‡³å‰§æƒ…ã€‚ 2.1 é€†æ°´å¯’ç‡•äº‘åå…­å£°åœ¨æˆ‘å°è±¡é‡Œï¼Œé€†æ°´å¯’æœ€æ—©å¤§è§„æ¨¡å®£ä¼ è‡ªå·±çš„AI npcï¼Œå½“æ—¶æˆ‘ä¹Ÿæ˜¯å› ä¸ºè¿™ä¸ªå®£ä¼ ä¸‹è½½ä½“éªŒäº†ä¸€ç•ªæ±´äº¬çš„é£åœŸäººæƒ…ã€‚å½“æ—¶ä¹Ÿæ¶Œç°äº†å¾ˆå¤šä¸AIå¯¹è¯çš„â€œç„šè¯€â€ï¼Œå’Œai npcæ–—æ™ºæ–—å‹‡ä¹Ÿæˆäº†æ¯å¤©ä¸Šçº¿ä¸å¾—ä¸å“çš„ä¸€ç¯ã€‚ä¹è¶£ç¡®å®æœ‰ï¼Œä¹Ÿèƒ½é€šè¿‡æ–‡å­—äº¤æµå¾—åˆ°npcçš„ç‰©å“ï¼Œåœ¨å½“æ—¶ç»™æˆ‘æ„Ÿè§‰è¿˜æ˜¯æ¯”è¾ƒæ–°å¥‡æœ‰è¶£çš„ã€‚ æ¯”è¾ƒå¯æƒœçš„æ˜¯ï¼Œè¿™äº›ç©æ³•æ²¡æœ‰æ›´è¿›ä¸€æ­¥ï¼Œä½ å’Œnpcçš„å¯¹è¯å¯¹æ¸¸æˆä¸»ä½“çš„å½±å“å¾®ä¹å…¶å¾®ï¼Œä¹ŸåŸºæœ¬åœ¨ä¸»çº¿å‰§æƒ…ä¸­å¾—ä¸åˆ°ä½“ç°ã€‚åœ¨è¿™ä¸¤æ¬¾æ¸¸æˆé‡Œï¼ŒAIä¸æ˜¯ä¸€ä¸ªä¸å¯ä»£æ›¿çš„ç©æ³•ï¼Œåªæ˜¯ä¸€ä¸ªå¤–æ¥çš„æ¨¡å—ï¼Œå¯ä»¥è¯´åˆ äº†è¿™ä¸ªåŠŸèƒ½æ¢æˆä¼ ç»Ÿçš„npcå¯¹è¯å½¢å¼ä¹Ÿä¸ä¼šå¯¹æ¸¸æˆäº§ç”Ÿå¤šå¤§å½±å“ã€‚åªèƒ½è¯´è¿™æ˜¯å—é™äºç›®å‰çš„æŠ€æœ¯åŠ›ï¼Œè¿˜æ— æ³•åšåˆ°AIå½±å“çš„å¤šå‰§æƒ…åˆ†æ”¯èµ°å‘ï¼ˆä¹Ÿå¯èƒ½æ˜¯ä¸æ–¹ä¾¿ç®¡ç†ï¼Ÿï¼‰ 2.2 AI botï¼Œè§‰æ‚Ÿäººæœºè¿™å°±æ¯”è¾ƒçš„ä¼ ç»Ÿå¹¶ä¸”æˆç†Ÿäº†ï¼Œåœ¨æ¸¸æˆå¯¹å±€å†…è¡¥å……äººæœºæœ‰åˆ©äºå‡å°‘ç©å®¶åŒ¹é…æ—¶é—´ï¼Œæ§åˆ¶å¯¹å±€å¼ºåº¦ï¼Œä¹Ÿæœ‰åˆ©äºæ–°æ‰‹ç©å®¶ç†Ÿæ‚‰æ¸¸æˆï¼Œç”±äºåœ¨å¤§éƒ¨åˆ†æ¸¸æˆé‡Œå·²ç»æœ‰äº†è¾ƒä¸ºæˆç†Ÿçš„åº”ç”¨ï¼Œæœ¬æ–‡ä¸å†èµ˜è¿° 3. AIä½œä¸ºæ¸¸æˆåŸºçŸ³ï¼šæœªæ¥å°†è‡³ï¼Ÿä»¥ä¸Šæ˜¯åœ¨ä¼ ç»Ÿçš„æ¸¸æˆä¸­å¢æ·»AIçš„å…ƒç´ ï¼Œé‚£ä¹ˆæˆ‘ä»¬æœ‰æ²¡æœ‰å¯èƒ½ä»¥AIä¸ºåº•å±‚é€»è¾‘åˆ›å»ºä¸€ä¸ªæ¸¸æˆå‘¢ï¼Ÿå¾ˆå¤šå½±è§†æ–‡å­¦ä½œå“éƒ½ç»™å‡ºè¿‡è®¾æƒ³ï¼Œä¾‹å¦‚å¤´å·ç©å®¶ï¼Œå¤±æ§ç©å®¶ä»¥åŠå‰å‡ å¹´è¾ƒç«çš„å…ƒå®‡å®™æ¦‚å¿µï¼Œä»–ä»¬éƒ½ç»™æˆ‘ä»¬æä¾›äº†ä¸€ç§å¯èƒ½æ€§ã€‚æˆ‘ä¹Ÿå¾ˆé«˜å…´çš„çœ‹åˆ°æœ‰å¾ˆå¤šæ¸¸æˆåœ¨å‘è¿™æ–¹é¢å‘å±•ï¼Œä¾‹å¦‚æ–¯å¦ç¦å°é•‡ï¼Œavilizitionä»¥åŠå–µå‰æ‰˜çš„å‡ æ¬¾æ¸¸æˆdemoï¼ˆä¾‹å¦‚å–µå‘œå²›ï¼‰ã€‚ 3.1 avilizitionçš„ä½“éªŒè¿™ä¸ªé¡¹ç›®æ›´å‡†ç¡®åœ°åº”è¯¥ç§°ä¸ºä¸€ä¸ªæ¨¡æ‹Ÿå¹³å°ã€‚å®ƒçš„æ ¸å¿ƒç†å¿µéå¸¸å¸å¼•äººï¼ˆä¹Ÿæ˜¯æˆ‘æ‰€å±•æœ›è¿½æ±‚çš„ï¼‰ï¼šæ¯ä¸ªæ™ºèƒ½ä½“éƒ½æœ‰ç‹¬ç«‹çš„è®°å¿†ã€äººé™…å…³ç³»å’Œæ—¥ç¨‹ï¼Œæ‰€æœ‰çš„å†³ç­–éƒ½å…·æœ‰è´è¶æ•ˆåº”ï¼Œnpcå¹¶èƒ½æ ¹æ®ä¸ç¯å¢ƒå’Œå½¼æ­¤çš„äº’åŠ¨æ¥åŠ¨æ€å†³ç­–ã€‚ æˆ‘çš„ä½“éªŒè¿‡ç¨‹å……æ»¡äº†æ–°å¥‡ä¸å›°æƒ‘ã€‚ä¸€å¼€å§‹ï¼Œæˆ‘å°±åƒè¿›å…¥äº†ä¸€ä¸ªä¸Šå¸è§†è§’çš„è§‚å¯Ÿè€…ï¼Œçœ‹ç€è¿™äº›åƒç´ å°äººåœ¨å°é•‡é‡Œæ´»åŠ¨ï¼Œä»–ä»¬ä¼šä¸Šç­ã€è´­ç‰©ã€èŠå¤©ã€ä¸¾åŠæ´»åŠ¨ã€‚æœ€è®©æˆ‘æ„Ÿåˆ°æƒŠè®¶çš„æ˜¯ï¼Œä»–ä»¬ä¹‹é—´çš„äº’åŠ¨ç¡®å®èƒ½äº§ç”Ÿä¸€äº›é¢„è®¾è„šæœ¬ä¹‹å¤–çš„æ•…äº‹ã€‚æ¯”å¦‚ï¼Œæˆ‘çœ‹åˆ°ä¸¤ä¸ªè§’è‰²å› ä¸ºåœ¨å’–å•¡é¦†çš„ä¸€æ¬¡èŠå¤©è€Œå†³å®šæ™šä¸Šä¸€èµ·å»é…’å§ï¼Œæˆ–è€…å› ä¸ºä¹‹å‰çš„æŸæ¬¡äº‰æ‰§è€Œåœ¨ä¸‹ä¸€æ¬¡è§é¢æ—¶æ˜¾å¾—å†·æ·¡ã€‚è¿™ç§åŸºäºè®°å¿†å’Œå…³ç³»é“¾äº§ç”Ÿçš„è¡Œä¸ºå˜åŒ–ï¼Œæ˜¯å®ƒæœ€æ ¸å¿ƒçš„äº®ç‚¹ï¼Œè®©ä½ æ„Ÿè§‰è¿™ä¸ªå°é•‡æ˜¯æ´»çš„ï¼Œæœ‰è‡ªå·±çš„æ—¶é—´æµã€‚ ä½†æ˜¯ï¼Œè¿™ç§æ–°é²œæ„Ÿè¤ªå»å¾—ä¹Ÿå¾ˆå¿«ã€‚é¦–å…ˆæ˜¯äº¤äº’çš„ä¹åŠ›æ„Ÿã€‚ä½œä¸ºç©å®¶ï¼Œæˆ‘èƒ½ä¸è¿™äº›AIè§’è‰²å¯¹è¯ï¼Œä½†å¯¹è¯å†…å®¹å¾€å¾€æµäºè¡¨é¢ï¼Œå¾ˆéš¾è¿›è¡Œæœ‰æ·±åº¦çš„ã€èƒ½å®è´¨æ€§æ”¹å˜ä»–ä»¬ç›®æ ‡æˆ–å…³ç³»çš„äº¤æµã€‚æ›´å¤šçš„æ—¶å€™ï¼Œæˆ‘æ„Ÿè§‰æˆ‘æ˜¯åœ¨è¯•å›¾å¼•å¯¼å¯¹è¯ï¼Œè€Œä¸æ˜¯åœ¨è¿›è¡Œæœ‰æ„ä¹‰çš„è§’è‰²æ‰®æ¼”ã€‚avilizitionç»™æˆ‘çš„æ„Ÿè§‰æ˜¯ï¼Œå®ƒæ˜¯ä¸€åº§é€šå¾€æœªæ¥æ¸¸æˆç†å¿µçš„æ¡¥æ¢è®¾è®¡å›¾ï¼Œä½†æˆ‘ä»¬è„šä¸‹çš„å»ºç­‘ææ–™è¿˜ä¸è¶³ä»¥æŠŠå®ƒæ‰å®åœ°å»ºé€ èµ·æ¥ã€‚å®ƒè¶³ä»¥è¯æ˜äº†AIä½œä¸ºæ¸¸æˆä¸–ç•Œåº•å±‚é€»è¾‘çš„å¯è¡Œæ€§ï¼Œä½†è¦æŠŠå®ƒå˜æˆä¸€æ¬¾å¥½ç©çš„æ¸¸æˆï¼Œè¿˜æœ‰å¾ˆé•¿çš„è·¯è¦èµ°ã€‚ ä¸‰ã€æ€»ç»“ç»è¿‡è¿™äº›ä½“éªŒï¼Œæˆ‘è®¤ä¸ºç›®å‰AIåœ¨æ¸¸æˆä¸­çš„åº”ç”¨ï¼Œæ•´ä½“ä¸Šä»ç„¶å¤„äºâ€œé”¦ä¸Šæ·»èŠ±â€çš„é˜¶æ®µã€‚æ— è®ºæ˜¯æä¾›é™ªä¼´çš„çµå®ã€æˆ˜çŠ¬ï¼Œè¿˜æ˜¯èƒ½è‡ªç”±å¯¹è¯çš„NPCï¼Œå®ƒä»¬ç¡®å®å¸¦æ¥äº†æ–°é²œæ„Ÿå’Œæ›´å¥½çš„ä½“éªŒï¼Œåƒæ˜¯ç»™åŸæœ‰çš„è›‹ç³•è£±ä¸Šäº†æ›´ç²¾ç¾çš„èŠ±ã€‚ä½†å¦‚æœæˆ‘ä»¬æŠŠèŠ±æ‹¿èµ°ï¼Œè›‹ç³•æœ¬èº«å¹¶æ²¡æœ‰æ”¹å˜ã€‚å®ƒä»¬æ›´å¤šæ˜¯ä½“éªŒçš„ä¼˜åŒ–ä¸å†…å®¹çš„è¡¥å……ã€‚ ç„¶è€Œï¼Œä»ã€Šæ˜Ÿä¹‹ä½è¯­ã€‹ã€ã€ŠEVEã€‹è¿™ç±»çº¯ç²¹çš„AIäº¤äº’åº”ç”¨ï¼Œå°¤å…¶æ˜¯åƒavilizitionè¿™æ ·ä»¥AIä¸ºä¸–ç•ŒåŸºçŸ³çš„å°è¯•ä¸­ï¼Œæˆ‘ä»¬èƒ½çœ‹åˆ°ä¸€ç§æˆªç„¶ä¸åŒçš„å¯èƒ½æ€§ã€‚å®ƒä»¬ä¸å†æ»¡è¶³äºåšè›‹ç³•ä¸Šçš„ç‚¹ç¼€ï¼Œè€Œæ˜¯è¯•å›¾ç”¨AIè¿™ç§æ–°ææ–™ï¼Œä»å¤´çƒ¤åˆ¶ä¸€å—å…¨æ–°çš„ã€æˆ‘ä»¬ä»æœªå°è¿‡çš„ç‚¹å¿ƒã€‚è™½ç„¶ç›®å‰è¿™äº›å¯èƒ½è¿˜æœ‰äº›ç”Ÿæ¶©ï¼Œå½¢æ€ä¹Ÿä¸ç¨³å®šï¼Œä½†æ–¹å‘å·²ç»æŒ‡æ˜ã€‚ æ‰€ä»¥ï¼Œæˆ‘çš„çœ‹æ³•æ˜¯ï¼šæœªæ¥ï¼ŒAIå®Œå…¨æœ‰å¯èƒ½æˆä¸ºæ„å»ºæ¸¸æˆé‡Œä¸å¯æ›¿ä»£çš„åŸºçŸ³ã€‚è¿™æ¡è·¯å¾ˆé•¿ï¼Œä½†èµ·ç‚¹å·²ç»åœ¨æˆ‘ä»¬è„šä¸‹ã€‚","categories":["æ¸¸æˆ"]},{"title":"åˆšä½“è¿åŠ¨çš„pythonè§£æ³•","path":"/posts/48befe4f/","content":"è‡ªç”±è½¬åŠ¨æ†ä¸é“°é“¾å›ºå®šæ†å€¾å€’æ—¶é—´å¯¹æ¯”ç ”ç©¶ä¸€ã€é—®é¢˜èƒŒæ™¯â€‹\tæŸpå¤§å‹äººä¸­åˆé—®äº†æˆ‘ä¸€ä¸ªé—®é¢˜ â€‹ æ›¾ç»è‡ªè¯©â€œé«˜ä¸­ç‰©ç†é¢†åŸŸç¥æ£â€çš„æˆ‘ä¹Ÿæ˜¯ä½“ä¼šäº†ä¸€æŠŠä¿®ä¸ºå°½å¤±çš„æ„Ÿè§‰â€¦â€¦.å¯æ¶ï¼Œè¿˜æ˜¯ï¼Œåšä¸åˆ°å—ã€‚ã€‚ã€‚ æ‰æ€ªï¼ç°åœ¨æˆ‘æœ‰äº†æ–°çš„æ­¦å™¨ï¼Œè§£æä¸äº†æˆ‘å°±æš´åŠ›æ•°å€¼è§£å˜»å˜» äºŒã€ç‰©ç†æ¨¡å‹2.1 è‡ªç”±æ†ï¼ˆå…‰æ»‘åœ°é¢ï¼‰ çº¦æŸæ¡ä»¶ï¼šåº•ç«¯æ— æ°´å¹³çº¦æŸï¼Œè´¨å¿ƒæ°´å¹³æ–¹å‘åŠ¨é‡å®ˆæ’ è¿åŠ¨ç‰¹ç‚¹ï¼šè´¨å¿ƒåŒæ—¶æœ‰å¹³åŠ¨å’Œè½¬åŠ¨ èƒ½é‡æ–¹ç¨‹ï¼š$E \\frac{1}{2}mv_c^2 + \\frac{1}{2}I_c\\omega^2 + mg\\frac{L}{2}\\cos\\theta$ 2.2 é“°é“¾æ†ï¼ˆå›ºå®šåº•ç«¯ï¼‰ çº¦æŸæ¡ä»¶ï¼šåº•ç«¯ä½ç½®å›ºå®šï¼Œç»•è¯¥ç‚¹çº¯è½¬åŠ¨ è¿åŠ¨ç‰¹ç‚¹ï¼šè´¨å¿ƒä½œåœ†å¼§è¿åŠ¨ èƒ½é‡æ–¹ç¨‹ï¼š$E \\frac{1}{2}I_o\\omega^2 + mg\\frac{L}{2}\\cos\\theta$ ä¸‰ã€åŠ¨åŠ›å­¦æ–¹ç¨‹æ¨å¯¼3.1 è‡ªç”±æ†çš„å€¾å€’æ—¶é—´# è‡ªç”±æ†çš„è§’é€Ÿåº¦å…¬å¼æ¨å¯¼Ï‰Â² = (4g/L) * (cosÎ¸â‚€ - cosÎ¸) 3.2 é“°é“¾æ†çš„å€¾å€’æ—¶é—´# é“°é“¾æ†çš„è§’é€Ÿåº¦å…¬å¼æ¨å¯¼Ï‰Â² = (3g/L) * (cosÎ¸â‚€ - cosÎ¸) å››ã€æ•°å€¼è®¡ç®—æ–¹æ³•4.1 æ—¶é—´ç§¯åˆ†å…¬å¼å€¾å€’æ—¶é—´é€šè¿‡å¯¹è§’é€Ÿåº¦å€’æ•°ç§¯åˆ†å¾—åˆ°ï¼š$$ t \\int_{\\theta_0}^{\\pi2} \\frac{1}{\\omega(\\theta)} d\\theta $$ 4.2 æ•°å€¼å®ç°ä»£ç è‡ªç”±æ†è®¡ç®—ä»£ç import numpy as npg = 9.81L = float(input(è¯·è¾“å…¥æ†é•¿ L (ç±³): ))theta0_deg = float(input(è¯·è¾“å…¥åˆå§‹å€¾æ–œè§’åº¦ (0â€“90Â°, ç›¸å¯¹ç«–ç›´): ))theta0 = np.deg2rad(theta0_deg)theta_end = np.pi / 2def integrand(theta): omega = np.sqrt((4 * g / L) * (np.cos(theta0) - np.cos(theta))) return 1.0 / omegathetas = np.linspace(theta0 + 1e-6, theta_end, 200000)t = np.trapezoid(integrand(thetas), thetas) é“°é“¾æ†è®¡ç®—ä»£ç import numpy as npg = 9.81L = float(input(è¯·è¾“å…¥æ†é•¿ L (ç±³): ))theta0_deg = float(input(è¯·è¾“å…¥åˆå§‹å€¾æ–œè§’åº¦ (0â€“90Â°, ç›¸å¯¹ç«–ç›´): ))theta0 = np.deg2rad(theta0_deg)theta_end = np.pi / 2def integrand(theta): omega = np.sqrt((3 * g / L) * (np.cos(theta0) - np.cos(theta))) return 1.0 / omegathetas = np.linspace(theta0 + 1e-6, theta_end, 200000)t = np.trapezoid(integrand(thetas), thetas) äº”ã€æ¨¡æ‹Ÿç»“æœåˆ†æ5.1 ä¸åŒåˆå§‹è§’åº¦å¯¹æ¯”ï¼ˆé»˜è®¤æ†é•¿1mï¼‰ åˆå§‹è§’åº¦ è‡ªç”±æ†æ—¶é—´(s) é“°é“¾æ†æ—¶é—´(s) æ—¶é—´æ¯”(è‡ªç”±é“°é“¾) 1Â° 1.1837 1.3668 æƒ³ç®—çš„è‡ªå·±ç®— 10Â° 0.6648 0.7676 30Â° 0.4163 0.4807 (â€” __ â€”) 45Â° 0.3201 0.3697 60Â° 0.2431 0.2807 80Â° 0.1338 0.1545 5.2 ä¸åŒæ†é•¿å¯¹æ¯”ï¼ˆé»˜è®¤å€¾æ–œ30Â°ï¼‰ æ†é•¿(m) è‡ªç”±æ†æ—¶é—´(s) é“°é“¾æ†æ—¶é—´(s) æ—¶é—´æ¯” 0.5 0.2944 0.3399 1.0 0.4163 0.4807 2.0 0.5888 0.6799 5.0 0.9309 1.0750 å…­ã€ç»“è®ºè‡ªç”±æ†ä¸‹è½æ›´å¿«ï¼ ä½†åŸå› æ˜¯ä»€ä¹ˆå‘¢ æœ‰æ²¡æœ‰èƒ½ç»™æˆ‘æ¨å¯¼è¿‡ç¨‹çš„QAQ åœ¨çº¿ç­‰~ é™„å½•ï¼šè®ºAIç›®å‰ä¸ºä»€ä¹ˆä¸èƒ½å–ä»£äººç±»è¯·çœ‹vcr 1.ã€Šæœ‰å›ºå®šç‚¹ï¼Œå°è§’åº¦ï¼Ÿé‚£å°±æ˜¯ç®€è°è¿åŠ¨ï¼ã€‹â€”â€”â€”â€”æ¥è‡ªäº²çˆ±çš„deepseek 2.ã€Šä»€ä¹ˆæ˜¯ç‰©ç†ï¼Œæˆ‘å¬ä¸æ‡‚ï¼Œå€¾æ–œçš„æ†å­å°±æ˜¯ä¸ä¼šæ‰ä¸‹æ¥ï¼Œç‰›é¡¿è¯´å•¥æˆ‘ä¸ç®¡ã€‹ â€”â€”â€”â€”GPT5 pluså¤§äººï¼\\0 å»ºè®®åŠ å…¥aiç¬‘è¯å¤§å…¨~","categories":["ç¼–ç¨‹"]},{"title":"pythonç½‘ç»œç¼–ç¨‹--TCPç¯‡","path":"/posts/8d64c14e/","content":"TCPç½‘ç»œç¼–ç¨‹åˆæ­¥åœ¨å­¦ä¹ å¹¶å‘ç¼–ç¨‹ä¹‹å‰ï¼Œå…ˆç†Ÿæ‚‰ä¸€ä¸ªå®¢æˆ·ç«¯ä¸ä¸€ä¸ªæœåŠ¡ç«¯ TCPåè®®æ ¸å¿ƒæœºåˆ¶TCPï¼ˆä¼ è¾“æ§åˆ¶åè®®ï¼‰é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œé€šè¿‡å››æ¬¡æŒ¥æ‰‹ç»ˆæ­¢è¿æ¥ï¼Œç¡®ä¿æ•°æ®ä¼ è¾“çš„å¯é æ€§ã€‚ æœåŠ¡ç«¯å®ç°ä»£ç import socketserver_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)# æœåŠ¡ç«¯çš„socket IPV4 TCP# è¿™ä¸ªåªè´Ÿè´£æ¥å—å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚server_socket.bind((, 8000))# å…è®¸æœ€å¤§çš„ç­‰å¾…ä¸ªæ•°server_socket.listen(128)# æ¥å—å®¢æˆ·ç«¯çš„è¿æ¥socket2, client_addr = server_socket.accept()while True: msg = socket2.recv(1024).decode(utf8) if msg == quit: break print(fæ¥è‡ªå®¢æˆ·ç«¯IPï¼šclient_addr[0],ç«¯å£å·client_addr[1]:msg) # ç»™å®¢æˆ·ç«¯å‘é€èŠå¤©ä¿¡æ¯ send_msg = input(server) socket2.send(send_msg.encode(utf8))socket2.close()server_socket.close() å®¢æˆ·ç«¯å®ç°ä»£ç import socketclient_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)server_addr = (192.168.100.199, 8000)client_socket.connect(server_addr)while True: send_msg = input(client) if send_msg == quit: client_socket.send(send_msg.encode(utf8)) break client_socket.send(send_msg.encode(utf8)) msg = client_socket.recv(1024).decode(utf8) print(fæ¥è‡ªæœåŠ¡ç«¯IPï¼šserver_addr[0],ç«¯å£å·server_addr[1]:msg)client_socket.close() TCPä¸‰æ¬¡æ¡æ‰‹è¯¦è§£ä¸‰æ¬¡æ¡æ‰‹æ˜¯TCPå»ºç«‹è¿æ¥çš„è¿‡ç¨‹ï¼Œç¡®ä¿åŒæ–¹éƒ½æœ‰å‘é€å’Œæ¥æ”¶èƒ½åŠ›ã€‚ ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šSYNå®¢æˆ·ç«¯ â†’ SYN=1, seq=x â†’ æœåŠ¡ç«¯ å®¢æˆ·ç«¯å‘é€SYNåŒ…ï¼Œseqä¸ºéšæœºæ•°xï¼Œè¿›å…¥SYN_SENTçŠ¶æ€ã€‚ ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šSYN+ACKå®¢æˆ·ç«¯ â† SYN=1, ACK=1, seq=y, ack=x+1 â† æœåŠ¡ç«¯ æœåŠ¡ç«¯æ”¶åˆ°SYNï¼Œå‘é€SYN+ACKåŒ…ï¼š seqä¸ºéšæœºæ•°y ackä¸ºx+1ï¼ˆç¡®è®¤æ”¶åˆ°å®¢æˆ·ç«¯çš„xï¼‰æœåŠ¡ç«¯è¿›å…¥SYN_RCVDçŠ¶æ€ã€‚ ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šACKå®¢æˆ·ç«¯ â†’ ACK=1, seq=x+1, ack=y+1 â†’ æœåŠ¡ç«¯ å®¢æˆ·ç«¯å‘é€ACKåŒ…ï¼š seqä¸ºx+1 ackä¸ºy+1ï¼ˆç¡®è®¤æ”¶åˆ°æœåŠ¡ç«¯çš„yï¼‰åŒæ–¹è¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œè¿æ¥å»ºç«‹ã€‚ ä»£ç ä¸­çš„ä¸‰æ¬¡æ¡æ‰‹# å®¢æˆ·ç«¯å‘èµ·è¿æ¥ï¼ˆç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼‰client_socket.connect(server_addr)# æœåŠ¡ç«¯æ¥å—è¿æ¥ï¼ˆå®Œæˆä¸‰æ¬¡æ¡æ‰‹ï¼‰socket2, client_addr = server_socket.accept() TCPå››æ¬¡æŒ¥æ‰‹è¯¦è§£å››æ¬¡æŒ¥æ‰‹æ˜¯TCPæ–­å¼€è¿æ¥çš„è¿‡ç¨‹ï¼Œç¡®ä¿åŒæ–¹æ•°æ®éƒ½ä¼ è¾“å®Œæ¯•ã€‚ ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼šFINå®¢æˆ·ç«¯ â†’ FIN=1, seq=u â†’ æœåŠ¡ç«¯ å®¢æˆ·ç«¯å‘é€FINåŒ…ï¼Œseqä¸ºuï¼Œè¿›å…¥FIN_WAIT_1çŠ¶æ€ã€‚ ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼šACKå®¢æˆ·ç«¯ â† ACK=1, seq=v, ack=u+1 â† æœåŠ¡ç«¯ æœåŠ¡ç«¯å‘é€ACKåŒ…ï¼š ackä¸ºu+1ï¼ˆç¡®è®¤æ”¶åˆ°å®¢æˆ·ç«¯çš„FINï¼‰æœåŠ¡ç«¯è¿›å…¥CLOSE_WAITçŠ¶æ€ï¼Œå®¢æˆ·ç«¯è¿›å…¥FIN_WAIT_2çŠ¶æ€ã€‚ ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼šFINå®¢æˆ·ç«¯ â† FIN=1, ACK=1, seq=w, ack=u+1 â† æœåŠ¡ç«¯ æœåŠ¡ç«¯å‘é€FIN+ACKåŒ…ï¼Œè¿›å…¥LAST_ACKçŠ¶æ€ã€‚ ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼šACKå®¢æˆ·ç«¯ â†’ ACK=1, seq=u+1, ack=w+1 â†’ æœåŠ¡ç«¯ å®¢æˆ·ç«¯å‘é€ACKåŒ…ï¼Œè¿›å…¥TIME_WAITçŠ¶æ€ï¼ˆç­‰å¾…2MSLï¼‰ï¼ŒæœåŠ¡ç«¯å…³é—­è¿æ¥ã€‚ ä»£ç ä¸­çš„å››æ¬¡æŒ¥æ‰‹# å®¢æˆ·ç«¯å‘é€quitï¼ˆå‘èµ·ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼‰client_socket.send(quit.encode(utf8))# æœåŠ¡ç«¯æ”¶åˆ°quitï¼ˆç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼‰msg = socket2.recv(1024).decode(utf8)if msg == quit: break# å…³é—­å¥—æ¥å­—ï¼ˆå®ŒæˆæŒ¥æ‰‹è¿‡ç¨‹ï¼‰socket2.close()server_socket.close()client_socket.close() TCPçŠ¶æ€è½¬æ¢å»ºç«‹è¿æ¥çŠ¶æ€ CLOSEDï¼šåˆå§‹çŠ¶æ€ SYN_SENTï¼šå®¢æˆ·ç«¯å‘é€SYNå LISTENï¼šæœåŠ¡ç«¯è°ƒç”¨listen()å SYN_RCVDï¼šæœåŠ¡ç«¯æ”¶åˆ°SYNå ESTABLISHEDï¼šè¿æ¥å»ºç«‹å®Œæˆ æ–­å¼€è¿æ¥çŠ¶æ€ FIN_WAIT_1ï¼šå®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ CLOSE_WAITï¼šæœåŠ¡ç«¯ç¬¬ä¸€æ¬¡æ”¶åˆ°FIN FIN_WAIT_2ï¼šå®¢æˆ·ç«¯æ”¶åˆ°ACK LAST_ACKï¼šæœåŠ¡ç«¯å‘é€FIN TIME_WAITï¼šå®¢æˆ·ç«¯æœ€åç­‰å¾… CLOSEDï¼šè¿æ¥å®Œå…¨å…³é—­ ä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿé˜²æ­¢æ—§çš„é‡å¤è¿æ¥åˆå§‹åŒ– é¿å…ç½‘ç»œå»¶è¿Ÿå¯¼è‡´çš„æ—§è¿æ¥å¹²æ‰°æ–°è¿æ¥ ç¡®ä¿åŒæ–¹éƒ½çŸ¥é“å¯¹æ–¹å‡†å¤‡å¥½äº† åŒæ­¥åºåˆ—å· äº¤æ¢åˆå§‹åºåˆ—å·ï¼ˆISNï¼‰ ç¡®ä¿æ•°æ®æŒ‰åºä¼ è¾“ ç¡®è®¤åŒæ–¹èƒ½åŠ› ç¡®è®¤åŒæ–¹éƒ½æœ‰å‘é€å’Œæ¥æ”¶èƒ½åŠ› åå•†çª—å£å¤§å°ç­‰å‚æ•° ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æŒ¥æ‰‹ï¼ŸåŠå…³é—­çŠ¶æ€ TCPæ˜¯å…¨åŒå·¥çš„ï¼Œå¯ä»¥å•å‘å…³é—­ æœåŠ¡ç«¯å¯èƒ½è¿˜æœ‰æ•°æ®è¦å‘é€ ç¡®ä¿æ•°æ®å®Œæ•´æ€§ ç­‰å¾…æ‰€æœ‰æ•°æ®éƒ½ä¼ è¾“å®Œæ¯• ç¡®ä¿æ²¡æœ‰æ•°æ®ä¸¢å¤± å¯é ç»ˆæ­¢ åŒæ–¹éƒ½çŸ¥é“è¿æ¥è¦å…³é—­äº† é˜²æ­¢æ•°æ®åŒ…åœ¨ç½‘ç»œä¸­â€è¿·è·¯â€ TIME_WAITçŠ¶æ€çš„ä½œç”¨ç­‰å¾…2MSLçš„åŸå›  ç¡®ä¿æœ€åä¸€ä¸ªACKåˆ°è¾¾ï¼šå¦‚æœæœåŠ¡ç«¯æ²¡æ”¶åˆ°ACKä¼šé‡å‘FIN è®©æ—§è¿æ¥çš„æ•°æ®åŒ…æ¶ˆå¤±ï¼šé˜²æ­¢å½±å“æ–°è¿æ¥ MSLï¼ˆMaximum Segment Lifetimeï¼‰ï¼šæŠ¥æ–‡æœ€å¤§ç”Ÿå­˜æ—¶é—´ å®é™…ç¼–ç¨‹ä¸­çš„å½±å“è¿æ¥å»ºç«‹å¤±è´¥try: client_socket.connect(server_addr)except ConnectionRefusedError: print(è¿æ¥è¢«æ‹’ç»ï¼šæœåŠ¡ç«¯æœªå¯åŠ¨æˆ–ç«¯å£é”™è¯¯) ç«¯å£å¤ç”¨é—®é¢˜# é¿å…Address already in useé”™è¯¯server_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) å…³é—­# åŠå…³é—­ï¼šå…³é—­å‘é€ï¼Œä»å¯æ¥æ”¶client_socket.shutdown(socket.SHUT_WR)# ç­‰å¾…å¯¹æ–¹å…³é—­while True: data = client_socket.recv(1024) if not data: break æ€»ç»“ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹å¯é è¿æ¥ï¼Œå››æ¬¡æŒ¥æ‰‹ä¼˜é›…ç»ˆæ­¢è¿æ¥ï¼Œè¿™æ˜¯TCPåè®®çš„æ ¸å¿ƒæœºåˆ¶ã€‚ç†è§£è¿™äº›è¿‡ç¨‹å¯¹äºè°ƒè¯•ç½‘ç»œé—®é¢˜å’Œç¼–å†™ç¨³å®šçš„ç½‘ç»œç¨‹åºéå¸¸é‡è¦ã€‚ åœ¨ä»£ç ä¸­ï¼Œconnect()è§¦å‘ä¸‰æ¬¡æ¡æ‰‹ï¼Œclose()è§¦å‘å››æ¬¡æŒ¥æ‰‹ï¼Œè¿™äº›ç»†èŠ‚éƒ½ç”±æ“ä½œç³»ç»Ÿè‡ªåŠ¨å¤„ç†ã€‚","categories":["ç¼–ç¨‹"]},{"title":"UDPçš„ç®€æ˜“å®ç°","path":"/posts/35e240ca/","content":"PYTHONç½‘ç»œç¼–ç¨‹â€”â€”UDPç¯‡ä¸€ã€UDPç®€ä»‹ä»€ä¹ˆæ˜¯UDPï¼ŸUDPï¼ˆç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰æ˜¯ä¸€ç§æ— è¿æ¥çš„ä¼ è¾“å±‚åè®®ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š æ— éœ€å»ºç«‹è¿æ¥ ä¸å¯é ä¼ è¾“ï¼ˆå¯èƒ½ä¸¢åŒ…ï¼‰ ä¼ è¾“é€Ÿåº¦å¿« é€‚åˆå®æ—¶æ€§è¦æ±‚é«˜çš„åœºæ™¯ åŸºæœ¬æµç¨‹å¯¹æ¯”TCPç¼–ç¨‹æµç¨‹ï¼šåˆ›å»ºsocket â†’ ç»‘å®š â†’ ç›‘å¬ â†’ æ¥å—è¿æ¥ â†’ æ”¶å‘æ•°æ® â†’ å…³é—­UDPç¼–ç¨‹æµç¨‹ï¼šåˆ›å»ºsocket â†’ ç»‘å®šï¼ˆæœåŠ¡ç«¯ï¼‰â†’ ç›´æ¥æ”¶å‘æ•°æ® â†’ å…³é—­ äºŒã€æœåŠ¡ç«¯ä»£ç è¯¦è§£import socket# åˆ›å»ºäº†ä¸€ä¸ªUDPçš„socketå¯¹è±¡server_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)# socket.AF_INET: ä½¿ç”¨IPv4åœ°å€æ—# socket.SOCK_DGRAM: ä½¿ç”¨UDPåè®®ï¼ˆæ•°æ®æŠ¥å¥—æ¥å­—ï¼‰# å‰ä¸€ä¸ªæ˜¯æˆ‘çš„ipv4åœ°å€ï¼Œå¦‚æœç”¨127.0.0.1åˆ™æ˜¯åœ¨æœ¬åœ°# å¦‚æœæ˜¯ç©ºå­—ç¬¦ï¼ŒæœåŠ¡ç«¯ç»‘å®šåˆ°æ‰€æœ‰çš„ipåœ°å€server_socket.bind((192.168.100.199, 6666))# bind()æ–¹æ³•å°†å¥—æ¥å­—ç»‘å®šåˆ°æŒ‡å®šåœ°å€å’Œç«¯å£# 192.168.100.199: ç»‘å®šåˆ°ç‰¹å®šå±€åŸŸç½‘IP# å…¶ä»–é€‰æ‹©ï¼š# 127.0.0.1: æœ¬åœ°å›ç¯ï¼Œåªèƒ½æœ¬æœºè®¿é—®# 0.0.0.0: ç»‘å®šæ‰€æœ‰ç½‘ç»œæ¥å£# : åŒ0.0.0.0# 6666: ç«¯å£å·ï¼ŒèŒƒå›´0-65535ï¼ˆ0-1023ä¸ºç³»ç»Ÿä¿ç•™ï¼‰while True: # msgæ˜¯æ”¶åˆ°çš„æ•°æ®ï¼Œaddræ˜¯æºåœ°å€å’Œç«¯å£å· msg, addr = server_socket.recvfrom(1024) # recvfrom()æ˜¯é˜»å¡æ–¹æ³•ï¼Œä¼šä¸€ç›´ç­‰å¾…ç›´åˆ°æ”¶åˆ°æ•°æ® # 1024: ç¼“å†²åŒºå¤§å°ï¼Œå•ä½å­—èŠ‚ # msg: æ¥æ”¶åˆ°çš„å­—èŠ‚æ•°æ® # addr: å…ƒç»„ (å®¢æˆ·ç«¯IP, å®¢æˆ·ç«¯ç«¯å£) if msg.decode(utf8) == quit: break # å¦‚æœå®¢æˆ·ç«¯å‘é€quitï¼Œåˆ™é€€å‡ºå¾ªç¯ print(fæ¥è‡ªIPï¼šaddr[0],ç«¯å£å·ï¼šaddr[1]çš„æ¶ˆæ¯ï¼šmsg) # æ˜¾ç¤ºæ¶ˆæ¯æ¥æºå’Œå†…å®¹ send_msg = input(æœåŠ¡ç«¯) # ç­‰å¾…ç”¨æˆ·è¾“å…¥å›å¤å†…å®¹ # ä¸èƒ½å‘é€å­—ç¬¦ä¸²ï¼Œåº”è¯¥æ˜¯å­—èŠ‚æ•°æ® server_socket.sendto(send_msg.encode(utf8), addr) # sendto()å‘é€æ•°æ®åˆ°æŒ‡å®šåœ°å€ # encode(utf8): å°†å­—ç¬¦ä¸²è½¬ä¸ºå­—èŠ‚æ•°æ® # addr: ç›®æ ‡åœ°å€ï¼ˆè¿™é‡Œå‘å›ç»™åŸå®¢æˆ·ç«¯ï¼‰# closeserver_socket.close()# å…³é—­å¥—æ¥å­—ï¼Œé‡Šæ”¾èµ„æº ä¸‰ã€å®¢æˆ·ç«¯ä»£ç è¯¦è§£import socket# åˆ›å»ºäº†ä¸€ä¸ªUDPçš„socketå¯¹è±¡client_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)# å®¢æˆ·ç«¯socketä¸ç”¨bind# å®¢æˆ·ç«¯é€šå¸¸ç”±ç³»ç»Ÿè‡ªåŠ¨åˆ†é…ç«¯å£å·# å¦‚æœéœ€è¦ç»‘å®šç‰¹å®šç«¯å£ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨bind()while True: # send msg send_msg = input(å®¢æˆ·ç«¯) if send_msg == quit: break # è¾“å…¥quité€€å‡º client_socket.sendto(send_msg.encode(utf8), (192.168.100.199, 6666)) # å‘é€æ•°æ®åˆ°æœåŠ¡å™¨ # (192.168.100.199, 6666): æœåŠ¡å™¨åœ°å€å’Œç«¯å£ # å¿…é¡»ä¸æœåŠ¡å™¨ç»‘å®šçš„åœ°å€ä¸€è‡´ # receive msg msg, addr = client_socket.recvfrom(1024) # ç­‰å¾…æœåŠ¡å™¨å›å¤ # æ³¨æ„ï¼šè¿™é‡Œä¼šé˜»å¡ï¼Œç›´åˆ°æ”¶åˆ°æœåŠ¡å™¨å“åº” print(fæ¥è‡ªæœåŠ¡ç«¯IPï¼šaddr[0],ç«¯å£å·ï¼šaddr[1]çš„æ¶ˆæ¯ï¼šmsg) # æ˜¾ç¤ºæœåŠ¡å™¨å›å¤client_socket.close()# å…³é—­å®¢æˆ·ç«¯å¥—æ¥å­— å››ã€å…³é”®çŸ¥è¯†ç‚¹1. UDPå¥—æ¥å­—åˆ›å»ºsocket.socket(socket.AF_INET, socket.SOCK_DGRAM) AF_INET: IPv4åœ°å€æ— SOCK_DGRAM: UDPæ•°æ®æŠ¥ç±»å‹ 2. åœ°å€ç»‘å®š# æœåŠ¡ç«¯å¿…é¡»ç»‘å®šï¼Œå®¢æˆ·ç«¯å¯é€‰server_socket.bind((IPåœ°å€, ç«¯å£å·)) 3. æ•°æ®æ”¶å‘# æ¥æ”¶æ•°æ®ï¼ˆè¿”å›æ•°æ®å’Œæ¥æºåœ°å€ï¼‰data, addr = socket.recvfrom(ç¼“å†²åŒºå¤§å°)# å‘é€æ•°æ®åˆ°æŒ‡å®šåœ°å€socket.sendto(å­—èŠ‚æ•°æ®, (ç›®æ ‡IP, ç›®æ ‡ç«¯å£)) 4. ç¼–ç è½¬æ¢# å‘é€ï¼šå­—ç¬¦ä¸² â†’ å­—èŠ‚send_msg.encode(utf8)# æ¥æ”¶ï¼šå­—èŠ‚ â†’ å­—ç¬¦ä¸²msg.decode(utf8) äº”ã€æ³¨æ„äº‹é¡¹ UDPæ˜¯æ— è¿æ¥çš„ æ¯æ¬¡å‘é€éƒ½è¦æŒ‡å®šç›®æ ‡åœ°å€ ä¸ä¿è¯æ•°æ®é¡ºåºå’Œå¯é æ€§ åœ°å€å’Œç«¯å£ æœåŠ¡ç«¯éœ€è¦å›ºå®šç«¯å£ å®¢æˆ·ç«¯ç«¯å£é€šå¸¸ç”±ç³»ç»Ÿåˆ†é… æ•°æ®å¤§å° UDPæ•°æ®åŒ…ä¸å®œè¿‡å¤§ï¼ˆé€šå¸¸1500å­—èŠ‚ï¼‰ é¿å…IPåˆ†ç‰‡ï¼Œæé«˜ä¼ è¾“æ•ˆç‡ é˜»å¡é—®é¢˜ recvfrom()æ˜¯é˜»å¡è°ƒç”¨ ç¨‹åºä¼šç­‰å¾…ç›´åˆ°æ”¶åˆ°æ•°æ® å¤šå®¢æˆ·ç«¯å¤„ç† UDPæœåŠ¡ç«¯å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªå®¢æˆ·ç«¯ é€šè¿‡addråŒºåˆ†ä¸åŒå®¢æˆ·ç«¯ å…­ã€å¸¸è§é—®é¢˜Q1: ä¸ºä»€ä¹ˆå®¢æˆ·ç«¯ä¸éœ€è¦bindï¼ŸA: å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è°ƒç”¨sendto()æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªå¯ç”¨ç«¯å£ã€‚ Q2: å¦‚æœæœåŠ¡å™¨æ²¡å¯åŠ¨ï¼Œå®¢æˆ·ç«¯ä¼šæ€æ ·ï¼ŸA: å®¢æˆ·ç«¯å‘é€çš„æ•°æ®ä¼šä¸¢å¤±ï¼Œrecvfrom()ä¼šä¸€ç›´ç­‰å¾…ï¼ˆé˜»å¡ï¼‰ã€‚ Q3: å¦‚ä½•æµ‹è¯•æœ¬æœºé€šä¿¡ï¼ŸA: æœåŠ¡ç«¯ç»‘å®š127.0.0.1ï¼Œå®¢æˆ·ç«¯è¿æ¥127.0.0.1ã€‚ Q4: å¦‚ä½•è®©å…¶ä»–ç”µè„‘è¿æ¥ï¼ŸA: æœåŠ¡ç«¯ç»‘å®š0.0.0.0æˆ–å±€åŸŸç½‘IP å…³é—­é˜²ç«å¢™æˆ–å¼€æ”¾å¯¹åº”ç«¯å£ å®¢æˆ·ç«¯ä½¿ç”¨æœåŠ¡å™¨å®é™…IPåœ°å€ ä¸ƒã€å®Œæ•´çš„UDPè¿˜éœ€è¦ å¼‚å¸¸å¤„ç†ï¼šæ·»åŠ try-exceptå¤„ç†ç½‘ç»œé”™è¯¯ è¶…æ—¶è®¾ç½®ï¼šä½¿ç”¨settimeout()é¿å…æ°¸ä¹…é˜»å¡ å¤šçº¿ç¨‹ï¼šåŒæ—¶å¤„ç†å¤šä¸ªå®¢æˆ·ç«¯è¯·æ±‚ æ•°æ®éªŒè¯ï¼šæ·»åŠ ç®€å•çš„åè®®å¤´éªŒè¯æ•°æ®å®Œæ•´æ€§ å…«ã€æ€»ç»“â€‹ UDPç¼–ç¨‹çš„æ ¸å¿ƒæ¨¡å¼ï¼š æœåŠ¡ç«¯ï¼šåˆ›å»ºâ†’ç»‘å®šâ†’å¾ªç¯æ”¶å‘â†’å…³é—­ å®¢æˆ·ç«¯ï¼šåˆ›å»ºâ†’å¾ªç¯æ”¶å‘â†’å…³é—­ è¿™ç§ç®€å•çš„è¯·æ±‚-å“åº”æ¨¡å¼æ˜¯UDPç¼–ç¨‹çš„åŸºç¡€ï¼Œç†è§£äº†è¿™ç§æ¨¡å¼åï¼Œå¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šæ„å»ºæ›´å¤æ‚çš„UDPåº”ç”¨ã€‚ æ³¨ï¼šå®é™…ä½¿ç”¨æ—¶ï¼Œè¯·ç¡®ä¿æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„IPåœ°å€å’Œç«¯å£å·é…ç½®æ­£ç¡®ï¼Œé˜²ç«å¢™å·²å¼€æ”¾ç›¸åº”ç«¯å£ã€‚","categories":["ç¼–ç¨‹"]},{"title":"å¦‚ä½•ç”¨hexoæ­å»ºä¸ªäººåšå®¢","path":"/posts/cd1cb590/","content":"Hexo åšå®¢æ­å»ºä¸é…ç½®æŒ‡å—ğŸ“– ç®€ä»‹Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„é™æ€åšå®¢æ¡†æ¶ã€‚å®ƒä½¿ç”¨ Markdownè§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…å³å¯ç”Ÿæˆé™æ€ç½‘é¡µã€‚æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å¿«é€Ÿæ­å»ºå¹¶é…ç½®ä¸€ä¸ª Hexo åšå®¢ã€‚ ğŸš€ å¿«é€Ÿå¼€å§‹ç¯å¢ƒå‡†å¤‡ å®‰è£… Node.js ç‰ˆæœ¬è¦æ±‚ï¼šNode.js 14.0 æˆ–ä»¥ä¸Šç‰ˆæœ¬ ä¸‹è½½åœ°å€ï¼šNode.js å®˜ç½‘ å®‰è£… Git ä¸‹è½½åœ°å€ï¼šGit å®˜ç½‘ å®‰è£… Hexoæ‰“å¼€ç»ˆç«¯ï¼ˆå‘½ä»¤æç¤ºç¬¦ï¼‰å¹¶æ‰§è¡Œï¼š npm install -g hexo-cli åˆå§‹åŒ–åšå®¢hexo init my-blogcd my-blognpm install æœ¬åœ°é¢„è§ˆhexo clean# ç”Ÿæˆï¼šhexo g# é¢„è§ˆï¼š ï¼ˆæµè§ˆå™¨è®¿é—® `http://localhost:4000` æŸ¥çœ‹æ•ˆæœï¼‰hexo s# éƒ¨ç½²ï¼šhexo d âš™ï¸ åŸºæœ¬é…ç½®é…ç½®æ–‡ä»¶åšå®¢çš„ä¸»è¦é…ç½®æ–‡ä»¶ä¸º _config.ymlï¼Œä½äºåšå®¢æ ¹ç›®å½•ä¸‹ã€‚ å¸¸ç”¨é…ç½®é¡¹# ç½‘ç«™ä¿¡æ¯title: æˆ‘çš„åšå®¢ # ç½‘ç«™æ ‡é¢˜subtitle: # ç½‘ç«™å‰¯æ ‡é¢˜description: # ç½‘ç«™æè¿°keywords: # ç½‘ç«™å…³é”®è¯author: ä½œè€…å # ä½œè€…åç§°language: zh-CN # è¯­è¨€timezone: # æ—¶åŒº# URL è®¾ç½®url: http://yoursite.com # ç½‘ç«™åœ°å€root: / # ç½‘ç«™æ ¹ç›®å½•permalink: :year/:month/:day/:title/ # æ–‡ç« æ°¸ä¹…é“¾æ¥æ ¼å¼# ç›®å½•è®¾ç½®source_dir: source # èµ„æºæ–‡ä»¶å¤¹public_dir: public # é™æ€æ–‡ä»¶ç”Ÿæˆç›®å½•# å†™ä½œè®¾ç½®new_post_name: :title.md # æ–°æ–‡ç« æ–‡ä»¶åæ ¼å¼default_layout: post # é»˜è®¤å¸ƒå±€ ğŸ¨ ä¸»é¢˜å®‰è£…ä¸é…ç½®å®‰è£…ä¸»é¢˜ä»¥æˆ‘æ‰€ä½¿ç”¨çš„stellar ä¸»é¢˜ä¸ºä¾‹ï¼š cd my-bloggit clone https://github.com/stellar-theme/hexo-theme-syellar themes/stellar å¯ç”¨ä¸»é¢˜ä¿®æ”¹ _config.ymlï¼š theme: stellar ä¸»é¢˜é…ç½®ä¸»é¢˜æœ‰è‡ªå·±çš„é…ç½®æ–‡ä»¶ themes/stellar/_config.ymlï¼Œå¯è¿›è¡Œä¸ªæ€§åŒ–è®¾ç½®ã€‚ ğŸ“ å†™ä½œä¸å‘å¸ƒåˆ›å»ºæ–°æ–‡ç« hexo new æ–‡ç« æ ‡é¢˜ æ–‡ç« æ–‡ä»¶ä½äº source/_posts/æ–‡ç« æ ‡é¢˜.md æ–‡ç«  Front-matter---title: æ–‡ç« æ ‡é¢˜date: 2024-05-20 10:00:00tags: [æ ‡ç­¾1, æ ‡ç­¾2]categories: åˆ†ç±»å--- å¸¸ç”¨å‘½ä»¤ hexo new [layout] title - æ–°å»ºæ–‡ç«  hexo clean - æ¸…é™¤ç¼“å­˜ hexo generate æˆ– hexo g - ç”Ÿæˆé™æ€æ–‡ä»¶ hexo server æˆ– hexo s - å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ hexo deploy æˆ– hexo d - éƒ¨ç½²åˆ°è¿œç¨‹ä»“åº“ ğŸŒ éƒ¨ç½²åˆ° GitHub Pageså‡†å¤‡å·¥ä½œ åˆ›å»º GitHub ä»“åº“ï¼Œå‘½åä¸º ç”¨æˆ·å.github.io å®‰è£…éƒ¨ç½²æ’ä»¶ï¼š npm install hexo-deployer-git --save é…ç½®éƒ¨ç½²ä¿®æ”¹ _config.ymlï¼š deploy: type: git repo: https://github.com/ç”¨æˆ·å/ç”¨æˆ·å.github.io.git branch: main éƒ¨ç½²å‘½ä»¤hexo cleanhexo generatehexo deploy ğŸ”§ å¸¸ç”¨æ’ä»¶# RSS è®¢é˜…npm install hexo-generator-feed --save# ç«™ç‚¹åœ°å›¾npm install hexo-generator-sitemap --save# æ–‡ç« æœç´¢npm install hexo-generator-searchdb --save# æ–‡ç« å­—æ•°ç»Ÿè®¡npm install hexo-wordcount --save ğŸ’¡ å®ç”¨æŠ€å·§è‡ªå®šä¹‰é¡µé¢hexo new page about è‰ç¨¿åŠŸèƒ½hexo new draft è‰ç¨¿æ ‡é¢˜hexo publish è‰ç¨¿æ ‡é¢˜ å›¾ç‰‡å¼•ç”¨ å°†å›¾ç‰‡æ”¾å…¥ source/images/ ç›®å½• åœ¨æ–‡ç« ä¸­å¼•ç”¨ï¼š ![å›¾ç‰‡æè¿°](/images/å›¾ç‰‡æ–‡ä»¶å.jpg) ğŸ› ï¸ æ•…éšœæ’é™¤å¸¸è§é—®é¢˜ éƒ¨ç½²å¤±è´¥ æ£€æŸ¥ Git é…ç½® ç¡®è®¤ä»“åº“åœ°å€æ­£ç¡® æ£€æŸ¥ç½‘ç»œè¿æ¥ é¡µé¢æ— æ³•åŠ è½½ è¿è¡Œ hexo clean é‡æ–°ç”Ÿæˆå’Œå¯åŠ¨æœåŠ¡å™¨ ä¸»é¢˜ä¸ç”Ÿæ•ˆ ç¡®è®¤ä¸»é¢˜æ–‡ä»¶å¤¹åç§°æ­£ç¡® æ£€æŸ¥ _config.yml ä¸­ theme é…ç½® ğŸ“š å­¦ä¹ èµ„æº Hexo å®˜æ–¹æ–‡æ¡£ Hexo GitHub Next ä¸»é¢˜æ–‡æ¡£ æç¤ºï¼šé…ç½®æ—¶å»ºè®®å¤‡ä»½åŸé…ç½®æ–‡ä»¶ï¼Œæ¯æ¬¡åªä¿®æ”¹å°‘é‡é…ç½®å¹¶æµ‹è¯•æ•ˆæœã€‚"},{"title":"å…³äºæˆ‘ | é»„é€¸é£çš„ä¸ªäººå°ç«™","path":"/about/index.html","content":"ğŸ‘‹ å…³äºæˆ‘â€‹\tç±³å¨œæ¡‘ï¼Œæ‰£å°¼å‰å¨ƒï¼ˆå¤§ä½éŸ³ï¼‰ åœ¨ä¸‹é»„é€¸é£æ˜¯ä¹Ÿã€‚ â€‹\tç›®å‰å°±è¯»äºä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦æœ¬ç§‘äººå·¥æ™ºèƒ½ä¸“ä¸šã€‚å¾ˆè£å¹¸èƒ½å’Œä½ åœ¨è¿™é‡Œç›¸é‡ã€‚ â€‹\tè¿™é‡Œæ˜¯æˆ‘ä¸ªäººçš„å°ç«™ï¼Œè®°å½•è‡ªå·±çš„å­¦ä¹ å’Œç”Ÿæ´» ğŸ’» æˆ‘æƒ³åˆ†äº«çš„äº‹ ç¼–ç¨‹ï¼š ä¸»è¦ä½¿ç”¨pythonï¼Œåº”ç”¨äºç½‘ç»œç¼–ç¨‹ï¼Œå¤§æ¨¡å‹åº”ç”¨å¼€å‘æ–¹å‘ï¼› å…¼é¡¾Cå’Œjavaï¼ˆå­¦æ ¡æ•™çš„ï¼Œé¢ï¼Œç”¨äºæ•°æ®ç»“æ„ä¸ç®—æ³•ï¼ŒOSï¼Œç­‰åŸºç¡€è¯¾ç¨‹ï¼Œå¯èƒ½ä¸å¤ªä¼šåœ¨åšå®¢åˆ†äº«ï¼Œä¸»è¦æˆ‘æ„Ÿè§‰æœ‰äº›æ— èŠã€‚ã€‚ã€‚ä¹Ÿè®¸leetcodeä¸Šé‡åˆ°æœ‰æ„æ€çš„ç®—æ³•é¢˜ä¼šå†™ä¸Šå»ï¼Œå—¯ï¼Œå°±è¿™æ ·ï¼‰ï¼› ä¼šä¸€ç‚¹ç‚¹jsï¼ˆå½“ç„¶æ˜¯æŒ‡èƒ½çœ‹æ‡‚LLMç»™æˆ‘å†™äº†ä»€ä¹ˆï¼‰ é˜…è¯»ï¼š çˆ±çœ‹å°è¯´ï¼Œçˆ±çœ‹æ•£æ–‡ï¼Œçˆ±çœ‹æ‚æ–‡ã€‚æ‚é£Ÿå…šï¼Œä»€ä¹ˆéƒ½çœ‹~ ä¹Ÿè®¸ä¼šæŠŠæœ€è¿‘çœ‹çš„ä¹¦å†™åœ¨åšå®¢ä¸Šï¼Ÿä¸è¿‡çœ‹çš„è½»å°è¯´å°±ä¸ä¼šå’Œä½ ä»¬åˆ†äº«äº†ï¼Œä¸è¡Œä¸è¡Œç»å¯¹ä¸è¡Œï¼ï¼ˆ**ä¸æ˜¯ä¸å¯èƒ½ï¼Ÿï¼‰ æ¸¸æˆï¼š AIä¸æ¸¸æˆçš„ç»“åˆï¼ˆAI x GAMEï¼‰æ˜¯æˆ‘ä¸€ç›´æ„Ÿå…´è¶£çš„æ–¹å‘ï¼Œä¹Ÿæ€è€ƒè¿‡å¾ˆå¤šå¯èƒ½æ€§ æ¢¦æƒ³æ˜¯å½“æ¸¸æˆç­–åˆ’ï¼ˆä¸æƒ³æ•²ä»£ç ç‰ˆï¼‰ ğŸ“Œ å°ç«™çš„æ„ä¹‰è¿™ä¸ªåšå®¢æ˜¯æˆ‘è®°å½•ç”Ÿæ´»ã€åˆ†äº«æ€è€ƒçš„è‡ªç•™åœ°ï¼Œåˆ†äº«æˆ‘çš„æ€è€ƒï¼Œè®°å½•æˆ‘çš„æ—…ç¨‹ã€‚ å¦‚æœä½ ä¹Ÿå¯¹è¿™äº›è¯é¢˜æ„Ÿå…´è¶£ï¼Œæ¬¢è¿å¸¸æ¥é€›é€›ã€ç•™è¨€äº¤æµï½ æ„¿æˆ‘ä»¬éƒ½èƒ½åœ¨çƒ­çˆ±çš„é¢†åŸŸé‡Œé—ªé—ªå‘å…‰ï¼Œä¹Ÿèƒ½åœ¨å¹³å‡¡çš„æ—¥å­é‡Œæ”¶è·å±äºè‡ªå·±çš„å°ç¡®å¹¸ï¼ âœ¨ æ„Ÿè°¢ç›¸é‡ï¼ŒæœŸå¾…æˆä¸ºæœ‹å‹ï¼"}]